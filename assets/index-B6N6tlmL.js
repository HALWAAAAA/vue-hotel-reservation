var VS=t=>{throw TypeError(t)};var U2=(t,e,n)=>e.has(t)||VS("Cannot "+n);var Ud=(t,e,n)=>(U2(t,e,"read from private field"),n?n.call(t):e.get(t)),FS=(t,e,n)=>e.has(t)?VS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function z2(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function m0(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Sn={},rc=[],Gi=()=>{},j2=()=>!1,Yg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),g0=t=>t.startsWith("onUpdate:"),qs=Object.assign,_0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},H2=Object.prototype.hasOwnProperty,fn=(t,e)=>H2.call(t,e),_t=Array.isArray,ic=t=>Sh(t)==="[object Map]",Qg=t=>Sh(t)==="[object Set]",$S=t=>Sh(t)==="[object Date]",It=t=>typeof t=="function",Hn=t=>typeof t=="string",wi=t=>typeof t=="symbol",Cn=t=>t!==null&&typeof t=="object",FR=t=>(Cn(t)||It(t))&&It(t.then)&&It(t.catch),$R=Object.prototype.toString,Sh=t=>$R.call(t),q2=t=>Sh(t).slice(8,-1),BR=t=>Sh(t)==="[object Object]",v0=t=>Hn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yf=m0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},W2=/-(\w)/g,_r=Xg(t=>t.replace(W2,(e,n)=>n?n.toUpperCase():"")),G2=/\B([A-Z])/g,tl=Xg(t=>t.replace(G2,"-$1").toLowerCase()),Jg=Xg(t=>t.charAt(0).toUpperCase()+t.slice(1)),wf=Xg(t=>t?`on${Jg(t)}`:""),La=(t,e)=>!Object.is(t,e),fm=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},UR=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},nw=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let BS;const e_=()=>BS||(BS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ls(t){if(_t(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Hn(s)?Q2(s):Ls(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Hn(t)||Cn(t))return t}const K2=/;(?![^(]*\))/g,Z2=/:([^]+)/,Y2=/\/\*[^]*?\*\//g;function Q2(t){const e={};return t.replace(Y2,"").split(K2).forEach(n=>{if(n){const s=n.split(Z2);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function vt(t){let e="";if(Hn(t))e=t;else if(_t(t))for(let n=0;n<t.length;n++){const s=vt(t[n]);s&&(e+=s+" ")}else if(Cn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function on(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Hn(e)&&(t.class=vt(e)),n&&(t.style=Ls(n)),t}const X2="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J2=m0(X2);function zR(t){return!!t||t===""}function eF(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=t_(t[s],e[s]);return n}function t_(t,e){if(t===e)return!0;let n=$S(t),s=$S(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=wi(t),s=wi(e),n||s)return t===e;if(n=_t(t),s=_t(e),n||s)return n&&s?eF(t,e):!1;if(n=Cn(t),s=Cn(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(a&&!u||!a&&u||!t_(t[o],e[o]))return!1}}return String(t)===String(e)}function jR(t,e){return t.findIndex(n=>t_(n,e))}const HR=t=>!!(t&&t.__v_isRef===!0),Ie=t=>Hn(t)?t:t==null?"":_t(t)||Cn(t)&&(t.toString===$R||!It(t.toString))?HR(t)?Ie(t.value):JSON.stringify(t,qR,2):String(t),qR=(t,e)=>HR(e)?qR(t,e.value):ic(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Hv(s,i)+" =>"]=r,n),{})}:Qg(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Hv(n))}:wi(e)?Hv(e):Cn(e)&&!_t(e)&&!BR(e)?String(e):e,Hv=(t,e="")=>{var n;return wi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Js;class WR{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Js,!e&&Js&&(this.index=(Js.scopes||(Js.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Js;try{return Js=this,e()}finally{Js=n}}}on(){Js=this}off(){Js=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Uc(t){return new WR(t)}function su(){return Js}function zc(t,e=!1){Js&&Js.cleanups.push(t)}let In;const qv=new WeakSet;class GR{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Js&&Js.active&&Js.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qv.has(this)&&(qv.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ZR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,US(this),YR(this);const e=In,n=mi;In=this,mi=!0;try{return this.fn()}finally{QR(this),In=e,mi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)b0(e);this.deps=this.depsTail=void 0,US(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qv.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sw(this)&&this.run()}get dirty(){return sw(this)}}let KR=0,bf,Ef;function ZR(t,e=!1){if(t.flags|=8,e){t.next=Ef,Ef=t;return}t.next=bf,bf=t}function y0(){KR++}function w0(){if(--KR>0)return;if(Ef){let e=Ef;for(Ef=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;bf;){let e=bf;for(bf=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function YR(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function QR(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),b0(s),tF(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function sw(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(XR(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function XR(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===jf))return;t.globalVersion=jf;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!sw(t)){t.flags&=-3;return}const n=In,s=mi;In=t,mi=!0;try{YR(t);const r=t.fn(t._value);(e.version===0||La(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{In=n,mi=s,QR(t),t.flags&=-3}}function b0(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)b0(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function tF(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let mi=!0;const JR=[];function nl(){JR.push(mi),mi=!1}function sl(){const t=JR.pop();mi=t===void 0?!0:t}function US(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=In;In=void 0;try{e()}finally{In=n}}}let jf=0;class nF{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class n_{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!In||!mi||In===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==In)n=this.activeLink=new nF(In,this),In.deps?(n.prevDep=In.depsTail,In.depsTail.nextDep=n,In.depsTail=n):In.deps=In.depsTail=n,eP(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=In.depsTail,n.nextDep=void 0,In.depsTail.nextDep=n,In.depsTail=n,In.deps===n&&(In.deps=s)}return n}trigger(e){this.version++,jf++,this.notify(e)}notify(e){y0();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{w0()}}}function eP(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)eP(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Mm=new WeakMap,Ol=Symbol(""),rw=Symbol(""),Hf=Symbol("");function Vs(t,e,n){if(mi&&In){let s=Mm.get(t);s||Mm.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new n_),r.map=s,r.key=n),r.track()}}function ko(t,e,n,s,r,i){const o=Mm.get(t);if(!o){jf++;return}const a=u=>{u&&u.trigger()};if(y0(),e==="clear")o.forEach(a);else{const u=_t(t),c=u&&v0(n);if(u&&n==="length"){const d=Number(s);o.forEach((h,g)=>{(g==="length"||g===Hf||!wi(g)&&g>=d)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Hf)),e){case"add":u?c&&a(o.get("length")):(a(o.get(Ol)),ic(t)&&a(o.get(rw)));break;case"delete":u||(a(o.get(Ol)),ic(t)&&a(o.get(rw)));break;case"set":ic(t)&&a(o.get(Ol));break}}w0()}function sF(t,e){const n=Mm.get(t);return n&&n.get(e)}function zu(t){const e=Jt(t);return e===t?e:(Vs(e,"iterate",Hf),Gr(t)?e:e.map(Fs))}function s_(t){return Vs(t=Jt(t),"iterate",Hf),t}const rF={__proto__:null,[Symbol.iterator](){return Wv(this,Symbol.iterator,Fs)},concat(...t){return zu(this).concat(...t.map(e=>_t(e)?zu(e):e))},entries(){return Wv(this,"entries",t=>(t[1]=Fs(t[1]),t))},every(t,e){return So(this,"every",t,e,void 0,arguments)},filter(t,e){return So(this,"filter",t,e,n=>n.map(Fs),arguments)},find(t,e){return So(this,"find",t,e,Fs,arguments)},findIndex(t,e){return So(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return So(this,"findLast",t,e,Fs,arguments)},findLastIndex(t,e){return So(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return So(this,"forEach",t,e,void 0,arguments)},includes(...t){return Gv(this,"includes",t)},indexOf(...t){return Gv(this,"indexOf",t)},join(t){return zu(this).join(t)},lastIndexOf(...t){return Gv(this,"lastIndexOf",t)},map(t,e){return So(this,"map",t,e,void 0,arguments)},pop(){return zd(this,"pop")},push(...t){return zd(this,"push",t)},reduce(t,...e){return zS(this,"reduce",t,e)},reduceRight(t,...e){return zS(this,"reduceRight",t,e)},shift(){return zd(this,"shift")},some(t,e){return So(this,"some",t,e,void 0,arguments)},splice(...t){return zd(this,"splice",t)},toReversed(){return zu(this).toReversed()},toSorted(t){return zu(this).toSorted(t)},toSpliced(...t){return zu(this).toSpliced(...t)},unshift(...t){return zd(this,"unshift",t)},values(){return Wv(this,"values",Fs)}};function Wv(t,e,n){const s=s_(t),r=s[e]();return s!==t&&!Gr(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const iF=Array.prototype;function So(t,e,n,s,r,i){const o=s_(t),a=o!==t&&!Gr(t),u=o[e];if(u!==iF[e]){const h=u.apply(t,i);return a?Fs(h):h}let c=n;o!==t&&(a?c=function(h,g){return n.call(this,Fs(h),g,t)}:n.length>2&&(c=function(h,g){return n.call(this,h,g,t)}));const d=u.call(o,c,s);return a&&r?r(d):d}function zS(t,e,n,s){const r=s_(t);let i=n;return r!==t&&(Gr(t)?n.length>3&&(i=function(o,a,u){return n.call(this,o,a,u,t)}):i=function(o,a,u){return n.call(this,o,Fs(a),u,t)}),r[e](i,...s)}function Gv(t,e,n){const s=Jt(t);Vs(s,"iterate",Hf);const r=s[e](...n);return(r===-1||r===!1)&&E0(n[0])?(n[0]=Jt(n[0]),s[e](...n)):r}function zd(t,e,n=[]){nl(),y0();const s=Jt(t)[e].apply(t,n);return w0(),sl(),s}const oF=m0("__proto__,__v_isRef,__isVue"),tP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wi));function aF(t){wi(t)||(t=String(t));const e=Jt(this);return Vs(e,"has",t),e.hasOwnProperty(t)}class nP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?lP:aP:i?oP:iP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=_t(e);if(!r){let u;if(o&&(u=rF[n]))return u;if(n==="hasOwnProperty")return aF}const a=Reflect.get(e,n,Dt(e)?e:s);return(wi(n)?tP.has(n):oF(n))||(r||Vs(e,"get",n),i)?a:Dt(a)?o&&v0(n)?a:a.value:Cn(a)?r?rl(a):vr(a):a}}class sP extends nP{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=Nl(i);if(!Gr(s)&&!Nl(s)&&(i=Jt(i),s=Jt(s)),!_t(e)&&Dt(i)&&!Dt(s))return u?!1:(i.value=s,!0)}const o=_t(e)&&v0(n)?Number(n)<e.length:fn(e,n),a=Reflect.set(e,n,s,Dt(e)?e:r);return e===Jt(r)&&(o?La(s,i)&&ko(e,"set",n,s):ko(e,"add",n,s)),a}deleteProperty(e,n){const s=fn(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ko(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!wi(n)||!tP.has(n))&&Vs(e,"has",n),s}ownKeys(e){return Vs(e,"iterate",_t(e)?"length":Ol),Reflect.ownKeys(e)}}class rP extends nP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const lF=new sP,uF=new rP,cF=new sP(!0),dF=new rP(!0),iw=t=>t,Pp=t=>Reflect.getPrototypeOf(t);function fF(t,e,n){return function(...s){const r=this.__v_raw,i=Jt(r),o=ic(i),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=r[t](...s),d=n?iw:e?ow:Fs;return!e&&Vs(i,"iterate",u?rw:Ol),{next(){const{value:h,done:g}=c.next();return g?{value:h,done:g}:{value:a?[d(h[0]),d(h[1])]:d(h),done:g}},[Symbol.iterator](){return this}}}}function kp(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function hF(t,e){const n={get(r){const i=this.__v_raw,o=Jt(i),a=Jt(r);t||(La(r,a)&&Vs(o,"get",r),Vs(o,"get",a));const{has:u}=Pp(o),c=e?iw:t?ow:Fs;if(u.call(o,r))return c(i.get(r));if(u.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Vs(Jt(r),"iterate",Ol),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Jt(i),a=Jt(r);return t||(La(r,a)&&Vs(o,"has",r),Vs(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,u=Jt(a),c=e?iw:t?ow:Fs;return!t&&Vs(u,"iterate",Ol),a.forEach((d,h)=>r.call(i,c(d),c(h),o))}};return qs(n,t?{add:kp("add"),set:kp("set"),delete:kp("delete"),clear:kp("clear")}:{add(r){!e&&!Gr(r)&&!Nl(r)&&(r=Jt(r));const i=Jt(this);return Pp(i).has.call(i,r)||(i.add(r),ko(i,"add",r,r)),this},set(r,i){!e&&!Gr(i)&&!Nl(i)&&(i=Jt(i));const o=Jt(this),{has:a,get:u}=Pp(o);let c=a.call(o,r);c||(r=Jt(r),c=a.call(o,r));const d=u.call(o,r);return o.set(r,i),c?La(i,d)&&ko(o,"set",r,i):ko(o,"add",r,i),this},delete(r){const i=Jt(this),{has:o,get:a}=Pp(i);let u=o.call(i,r);u||(r=Jt(r),u=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return u&&ko(i,"delete",r,void 0),c},clear(){const r=Jt(this),i=r.size!==0,o=r.clear();return i&&ko(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=fF(r,t,e)}),n}function r_(t,e){const n=hF(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(fn(n,r)&&r in s?n:s,r,i)}const pF={get:r_(!1,!1)},mF={get:r_(!1,!0)},gF={get:r_(!0,!1)},_F={get:r_(!0,!0)},iP=new WeakMap,oP=new WeakMap,aP=new WeakMap,lP=new WeakMap;function vF(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yF(t){return t.__v_skip||!Object.isExtensible(t)?0:vF(q2(t))}function vr(t){return Nl(t)?t:i_(t,!1,lF,pF,iP)}function uP(t){return i_(t,!1,cF,mF,oP)}function rl(t){return i_(t,!0,uF,gF,aP)}function Tl(t){return i_(t,!0,dF,_F,lP)}function i_(t,e,n,s,r){if(!Cn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=yF(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function $o(t){return Nl(t)?$o(t.__v_raw):!!(t&&t.__v_isReactive)}function Nl(t){return!!(t&&t.__v_isReadonly)}function Gr(t){return!!(t&&t.__v_isShallow)}function E0(t){return t?!!t.__v_raw:!1}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function oo(t){return!fn(t,"__v_skip")&&Object.isExtensible(t)&&UR(t,"__v_skip",!0),t}const Fs=t=>Cn(t)?vr(t):t,ow=t=>Cn(t)?rl(t):t;function Dt(t){return t?t.__v_isRef===!0:!1}function Z(t){return cP(t,!1)}function Cs(t){return cP(t,!0)}function cP(t,e){return Dt(t)?t:new wF(t,e)}class wF{constructor(e,n){this.dep=new n_,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Jt(e),this._value=n?e:Fs(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||Gr(e)||Nl(e);e=s?e:Jt(e),La(e,n)&&(this._rawValue=e,this._value=s?e:Fs(e),this.dep.trigger())}}function m(t){return Dt(t)?t.value:t}function ke(t){return It(t)?t():m(t)}const bF={get:(t,e,n)=>e==="__v_raw"?t:m(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Dt(r)&&!Dt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function dP(t){return $o(t)?t:new Proxy(t,bF)}class EF{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new n_,{get:s,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function T0(t){return new EF(t)}function $n(t){const e=_t(t)?new Array(t.length):{};for(const n in t)e[n]=fP(t,n);return e}class TF{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return sF(Jt(this._object),this._key)}}class SF{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Oo(t,e,n){return Dt(t)?t:It(t)?new SF(t):Cn(t)&&arguments.length>1?fP(t,e,n):Z(t)}function fP(t,e,n){const s=t[e];return Dt(s)?s:new TF(t,e,n)}class CF{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new n_(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jf-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&In!==this)return ZR(this,!0),!0}get value(){const e=this.dep.track();return XR(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function xF(t,e,n=!1){let s,r;return It(t)?s=t:(s=t.get,r=t.set),new CF(s,r,n)}const Op={},Nm=new WeakMap;let Sl;function IF(t,e=!1,n=Sl){if(n){let s=Nm.get(n);s||Nm.set(n,s=[]),s.push(t)}}function AF(t,e,n=Sn){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:a,call:u}=n,c=I=>r?I:Gr(I)||r===!1||r===0?Lo(I,1):Lo(I);let d,h,g,v,y=!1,w=!1;if(Dt(t)?(h=()=>t.value,y=Gr(t)):$o(t)?(h=()=>c(t),y=!0):_t(t)?(w=!0,y=t.some(I=>$o(I)||Gr(I)),h=()=>t.map(I=>{if(Dt(I))return I.value;if($o(I))return c(I);if(It(I))return u?u(I,2):I()})):It(t)?e?h=u?()=>u(t,2):t:h=()=>{if(g){nl();try{g()}finally{sl()}}const I=Sl;Sl=d;try{return u?u(t,3,[v]):t(v)}finally{Sl=I}}:h=Gi,e&&r){const I=h,V=r===!0?1/0:r;h=()=>Lo(I(),V)}const E=su(),T=()=>{d.stop(),E&&E.active&&_0(E.effects,d)};if(i&&e){const I=e;e=(...V)=>{I(...V),T()}}let C=w?new Array(t.length).fill(Op):Op;const x=I=>{if(!(!(d.flags&1)||!d.dirty&&!I))if(e){const V=d.run();if(r||y||(w?V.some((F,k)=>La(F,C[k])):La(V,C))){g&&g();const F=Sl;Sl=d;try{const k=[V,C===Op?void 0:w&&C[0]===Op?[]:C,v];u?u(e,3,k):e(...k),C=V}finally{Sl=F}}}else d.run()};return a&&a(x),d=new GR(h),d.scheduler=o?()=>o(x,!1):x,v=I=>IF(I,!1,d),g=d.onStop=()=>{const I=Nm.get(d);if(I){if(u)u(I,4);else for(const V of I)V();Nm.delete(d)}},e?s?x(!0):C=d.run():o?o(x.bind(null,!0),!0):d.run(),T.pause=d.pause.bind(d),T.resume=d.resume.bind(d),T.stop=T,T}function Lo(t,e=1/0,n){if(e<=0||!Cn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Dt(t))Lo(t.value,e,n);else if(_t(t))for(let s=0;s<t.length;s++)Lo(t[s],e,n);else if(Qg(t)||ic(t))t.forEach(s=>{Lo(s,e,n)});else if(BR(t)){for(const s in t)Lo(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Lo(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ch(t,e,n,s){try{return s?t(...s):t()}catch(r){o_(r,e,n)}}function eo(t,e,n,s){if(It(t)){const r=Ch(t,e,n,s);return r&&FR(r)&&r.catch(i=>{o_(i,e,n)}),r}if(_t(t)){const r=[];for(let i=0;i<t.length;i++)r.push(eo(t[i],e,n,s));return r}}function o_(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Sn;if(e){let a=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,u,c)===!1)return}a=a.parent}if(i){nl(),Ch(i,null,10,[t,u,c]),sl();return}}RF(t,n,r,s,o)}function RF(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const er=[];let Bi=-1;const oc=[];let ba=null,Gu=0;const hP=Promise.resolve();let Vm=null;function Pt(t){const e=Vm||hP;return t?e.then(this?t.bind(this):t):e}function PF(t){let e=Bi+1,n=er.length;for(;e<n;){const s=e+n>>>1,r=er[s],i=qf(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function S0(t){if(!(t.flags&1)){const e=qf(t),n=er[er.length-1];!n||!(t.flags&2)&&e>=qf(n)?er.push(t):er.splice(PF(e),0,t),t.flags|=1,pP()}}function pP(){Vm||(Vm=hP.then(gP))}function kF(t){_t(t)?oc.push(...t):ba&&t.id===-1?ba.splice(Gu+1,0,t):t.flags&1||(oc.push(t),t.flags|=1),pP()}function jS(t,e,n=Bi+1){for(;n<er.length;n++){const s=er[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;er.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function mP(t){if(oc.length){const e=[...new Set(oc)].sort((n,s)=>qf(n)-qf(s));if(oc.length=0,ba){ba.push(...e);return}for(ba=e,Gu=0;Gu<ba.length;Gu++){const n=ba[Gu];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ba=null,Gu=0}}const qf=t=>t.id==null?t.flags&2?-1:1/0:t.id;function gP(t){try{for(Bi=0;Bi<er.length;Bi++){const e=er[Bi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ch(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Bi<er.length;Bi++){const e=er[Bi];e&&(e.flags&=-2)}Bi=-1,er.length=0,mP(),Vm=null,(er.length||oc.length)&&gP()}}let cs=null,_P=null;function Fm(t){const e=cs;return cs=t,_P=t&&t.type.__scopeId||null,e}function O(t,e=cs,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&nC(-1);const i=Fm(e);let o;try{o=t(...r)}finally{Fm(i),s._d&&nC(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Kr(t,e){if(cs===null)return t;const n=d_(cs),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,u=Sn]=e[r];i&&(It(i)&&(i={mounted:i,updated:i}),i.deep&&Lo(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:u}))}return t}function yl(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let u=a.dir[s];u&&(nl(),eo(u,n,8,[t.el,a,t,e]),sl())}}const vP=Symbol("_vte"),OF=t=>t.__isTeleport,Tf=t=>t&&(t.disabled||t.disabled===""),HS=t=>t&&(t.defer||t.defer===""),qS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,WS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,aw=(t,e)=>{const n=t&&t.to;return Hn(n)?e?e(n):null:n},yP={name:"Teleport",__isTeleport:!0,process(t,e,n,s,r,i,o,a,u,c){const{mc:d,pc:h,pbc:g,o:{insert:v,querySelector:y,createText:w,createComment:E}}=c,T=Tf(e.props);let{shapeFlag:C,children:x,dynamicChildren:I}=e;if(t==null){const V=e.el=w(""),F=e.anchor=w("");v(V,n,s),v(F,n,s);const k=(A,N)=>{C&16&&(r&&r.isCE&&(r.ce._teleportTarget=A),d(x,A,N,r,i,o,a,u))},P=()=>{const A=e.target=aw(e.props,y),N=wP(A,e,w,v);A&&(o!=="svg"&&qS(A)?o="svg":o!=="mathml"&&WS(A)&&(o="mathml"),T||(k(A,N),hm(e,!1)))};T&&(k(n,F),hm(e,!0)),HS(e.props)?Qs(()=>{P(),e.el.__isMounted=!0},i):P()}else{if(HS(e.props)&&!t.el.__isMounted){Qs(()=>{yP.process(t,e,n,s,r,i,o,a,u,c),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const V=e.anchor=t.anchor,F=e.target=t.target,k=e.targetAnchor=t.targetAnchor,P=Tf(t.props),A=P?n:F,N=P?V:k;if(o==="svg"||qS(F)?o="svg":(o==="mathml"||WS(F))&&(o="mathml"),I?(g(t.dynamicChildren,I,A,r,i,o,a),R0(t,e,!0)):u||h(t,e,A,N,r,i,o,a,!1),T)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Lp(e,n,V,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=aw(e.props,y);U&&Lp(e,U,null,c,0)}else P&&Lp(e,F,k,c,1);hm(e,T)}},remove(t,e,n,{um:s,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:u,targetStart:c,targetAnchor:d,target:h,props:g}=t;if(h&&(r(c),r(d)),i&&r(u),o&16){const v=i||!Tf(g);for(let y=0;y<a.length;y++){const w=a[y];s(w,e,n,v,!!w.dynamicChildren)}}},move:Lp,hydrate:LF};function Lp(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:u,children:c,props:d}=t,h=i===2;if(h&&s(o,e,n),(!h||Tf(d))&&u&16)for(let g=0;g<c.length;g++)r(c[g],e,n,2);h&&s(a,e,n)}function LF(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:a,querySelector:u,insert:c,createText:d}},h){const g=e.target=aw(e.props,u);if(g){const v=Tf(e.props),y=g._lpa||g.firstChild;if(e.shapeFlag&16)if(v)e.anchor=h(o(t),e,a(t),n,s,r,i),e.targetStart=y,e.targetAnchor=y&&o(y);else{e.anchor=o(t);let w=y;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||wP(g,e,d,c),h(y&&o(y),e,g,n,s,r,i)}hm(e,v)}return e.anchor&&o(e.anchor)}const C0=yP;function hm(t,e){const n=t.ctx;if(n&&n.ut){let s,r;for(e?(s=t.el,r=t.anchor):(s=t.targetStart,r=t.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function wP(t,e,n,s){const r=e.targetStart=n(""),i=e.targetAnchor=n("");return r[vP]=i,t&&(s(r,t),s(i,t)),i}function x0(t,e){t.shapeFlag&6&&t.component?(t.transition=e,x0(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function K(t,e){return It(t)?qs({name:t.name},e,{setup:t}):t}function GS(){const t=ps();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function bP(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function $m(t,e,n,s,r=!1){if(_t(t)){t.forEach((y,w)=>$m(y,e&&(_t(e)?e[w]:e),n,s,r));return}if(ac(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&$m(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?d_(s.component):s.el,o=r?null:i,{i:a,r:u}=t,c=e&&e.r,d=a.refs===Sn?a.refs={}:a.refs,h=a.setupState,g=Jt(h),v=h===Sn?()=>!1:y=>fn(g,y);if(c!=null&&c!==u&&(Hn(c)?(d[c]=null,v(c)&&(h[c]=null)):Dt(c)&&(c.value=null)),It(u))Ch(u,a,12,[o,d]);else{const y=Hn(u),w=Dt(u);if(y||w){const E=()=>{if(t.f){const T=y?v(u)?h[u]:d[u]:u.value;r?_t(T)&&_0(T,i):_t(T)?T.includes(i)||T.push(i):y?(d[u]=[i],v(u)&&(h[u]=d[u])):(u.value=[i],t.k&&(d[t.k]=u.value))}else y?(d[u]=o,v(u)&&(h[u]=o)):w&&(u.value=o,t.k&&(d[t.k]=o))};o?(E.id=-1,Qs(E,n)):E()}}}e_().requestIdleCallback;e_().cancelIdleCallback;const ac=t=>!!t.type.__asyncLoader,EP=t=>t.type.__isKeepAlive;function TP(t,e){CP(t,"a",e)}function SP(t,e){CP(t,"da",e)}function CP(t,e,n=Ts){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(a_(e,s,n),n){let r=n.parent;for(;r&&r.parent;)EP(r.parent.vnode)&&DF(s,e,n,r),r=r.parent}}function DF(t,e,n,s){const r=a_(e,t,s,!0);Is(()=>{_0(s[e],r)},n)}function a_(t,e,n=Ts,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{nl();const a=xh(n),u=eo(e,n,t,o);return a(),sl(),u});return s?r.unshift(i):r.push(i),i}}const sa=t=>(e,n=Ts)=>{(!Gf||t==="sp")&&a_(t,(...s)=>e(...s),n)},MF=sa("bm"),bt=sa("m"),NF=sa("bu"),VF=sa("u"),ra=sa("bum"),Is=sa("um"),xP=sa("sp"),FF=sa("rtg"),$F=sa("rtc");function BF(t,e=Ts){a_("ec",t,e)}const IP="components";function Xr(t,e){return RP(IP,t,!0,e)||t}const AP=Symbol.for("v-ndc");function bi(t){return Hn(t)?RP(IP,t,!1)||t:t||AP}function RP(t,e,n=!0,s=!1){const r=cs||Ts;if(r){const i=r.type;{const a=x$(i,!1);if(a&&(a===e||a===_r(e)||a===Jg(_r(e))))return i}const o=KS(r[t]||i[t],e)||KS(r.appContext[t],e);return!o&&s?i:o}}function KS(t,e){return t&&(t[e]||t[_r(e)]||t[Jg(_r(e))])}function jt(t,e,n,s){let r;const i=n,o=_t(t);if(o||Hn(t)){const a=o&&$o(t);let u=!1;a&&(u=!Gr(t),t=s_(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(u?Fs(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(Cn(t))if(t[Symbol.iterator])r=Array.from(t,(a,u)=>e(a,u,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let u=0,c=a.length;u<c;u++){const d=a[u];r[u]=e(t[d],d,u,i)}}else r=[];return r}function J(t,e,n={},s,r){if(cs.ce||cs.parent&&ac(cs.parent)&&cs.parent.ce)return $(),Y(Ke,null,[M("slot",n,s&&s())],64);let i=t[e];i&&i._c&&(i._d=!1),$();const o=i&&PP(i(n)),a=n.key||o&&o.key,u=Y(Ke,{key:(a&&!wi(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function PP(t){return t.some(e=>yc(e)?!(e.type===to||e.type===Ke&&!PP(e.children)):!0)?t:null}function UF(t,e){const n={};for(const s in t)n[wf(s)]=t[s];return n}const lw=t=>t?QP(t)?d_(t):lw(t.parent):null,Sf=qs(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lw(t.parent),$root:t=>lw(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>LP(t),$forceUpdate:t=>t.f||(t.f=()=>{S0(t.update)}),$nextTick:t=>t.n||(t.n=Pt.bind(t.proxy)),$watch:t=>c$.bind(t)}),Kv=(t,e)=>t!==Sn&&!t.__isScriptSetup&&fn(t,e),zF={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Kv(s,e))return o[e]=1,s[e];if(r!==Sn&&fn(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&fn(c,e))return o[e]=3,i[e];if(n!==Sn&&fn(n,e))return o[e]=4,n[e];cw&&(o[e]=0)}}const d=Sf[e];let h,g;if(d)return e==="$attrs"&&Vs(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Sn&&fn(n,e))return o[e]=4,n[e];if(g=u.config.globalProperties,fn(g,e))return g[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Kv(r,e)?(r[e]=n,!0):s!==Sn&&fn(s,e)?(s[e]=n,!0):fn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Sn&&fn(t,o)||Kv(e,o)||(a=i[0])&&fn(a,o)||fn(s,o)||fn(Sf,o)||fn(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:fn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function jF(){return HF().slots}function HF(){const t=ps();return t.setupContext||(t.setupContext=JP(t))}function uw(t){return _t(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function kP(t,e){const n=uw(t);for(const s in e){if(s.startsWith("__skip"))continue;let r=n[s];r?_t(r)||It(r)?r=n[s]={type:r,default:e[s]}:r.default=e[s]:r===null&&(r=n[s]={default:e[s]}),r&&e[`__skip_${s}`]&&(r.skipFactory=!0)}return n}let cw=!0;function qF(t){const e=LP(t),n=t.proxy,s=t.ctx;cw=!1,e.beforeCreate&&ZS(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:u,inject:c,created:d,beforeMount:h,mounted:g,beforeUpdate:v,updated:y,activated:w,deactivated:E,beforeDestroy:T,beforeUnmount:C,destroyed:x,unmounted:I,render:V,renderTracked:F,renderTriggered:k,errorCaptured:P,serverPrefetch:A,expose:N,inheritAttrs:U,components:W,directives:q,filters:Pe}=e;if(c&&WF(c,s,null),o)for(const _e in o){const me=o[_e];It(me)&&(s[_e]=me.bind(n))}if(r){const _e=r.call(n,n);Cn(_e)&&(t.data=vr(_e))}if(cw=!0,i)for(const _e in i){const me=i[_e],nt=It(me)?me.bind(n,n):It(me.get)?me.get.bind(n,n):Gi,Ne=!It(me)&&It(me.set)?me.set.bind(n):Gi,ot=Q({get:nt,set:Ne});Object.defineProperty(s,_e,{enumerable:!0,configurable:!0,get:()=>ot.value,set:lt=>ot.value=lt})}if(a)for(const _e in a)OP(a[_e],s,n,_e);if(u){const _e=It(u)?u.call(n):u;Reflect.ownKeys(_e).forEach(me=>{rs(me,_e[me])})}d&&ZS(d,t,"c");function ye(_e,me){_t(me)?me.forEach(nt=>_e(nt.bind(n))):me&&_e(me.bind(n))}if(ye(MF,h),ye(bt,g),ye(NF,v),ye(VF,y),ye(TP,w),ye(SP,E),ye(BF,P),ye($F,F),ye(FF,k),ye(ra,C),ye(Is,I),ye(xP,A),_t(N))if(N.length){const _e=t.exposed||(t.exposed={});N.forEach(me=>{Object.defineProperty(_e,me,{get:()=>n[me],set:nt=>n[me]=nt})})}else t.exposed||(t.exposed={});V&&t.render===Gi&&(t.render=V),U!=null&&(t.inheritAttrs=U),W&&(t.components=W),q&&(t.directives=q),A&&bP(t)}function WF(t,e,n=Gi){_t(t)&&(t=dw(t));for(const s in t){const r=t[s];let i;Cn(r)?"default"in r?i=ln(r.from||s,r.default,!0):i=ln(r.from||s):i=ln(r),Dt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function ZS(t,e,n){eo(_t(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function OP(t,e,n,s){let r=s.includes(".")?WP(n,s):()=>n[s];if(Hn(t)){const i=e[t];It(i)&&ct(r,i)}else if(It(t))ct(r,t.bind(n));else if(Cn(t))if(_t(t))t.forEach(i=>OP(i,e,n,s));else{const i=It(t.handler)?t.handler.bind(n):e[t.handler];It(i)&&ct(r,i,t)}}function LP(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let u;return a?u=a:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(c=>Bm(u,c,o,!0)),Bm(u,e,o)),Cn(e)&&i.set(e,u),u}function Bm(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Bm(t,i,n,!0),r&&r.forEach(o=>Bm(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=GF[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const GF={data:YS,props:QS,emits:QS,methods:nf,computed:nf,beforeCreate:Ys,created:Ys,beforeMount:Ys,mounted:Ys,beforeUpdate:Ys,updated:Ys,beforeDestroy:Ys,beforeUnmount:Ys,destroyed:Ys,unmounted:Ys,activated:Ys,deactivated:Ys,errorCaptured:Ys,serverPrefetch:Ys,components:nf,directives:nf,watch:ZF,provide:YS,inject:KF};function YS(t,e){return e?t?function(){return qs(It(t)?t.call(this,this):t,It(e)?e.call(this,this):e)}:e:t}function KF(t,e){return nf(dw(t),dw(e))}function dw(t){if(_t(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ys(t,e){return t?[...new Set([].concat(t,e))]:e}function nf(t,e){return t?qs(Object.create(null),t,e):e}function QS(t,e){return t?_t(t)&&_t(e)?[...new Set([...t,...e])]:qs(Object.create(null),uw(t),uw(e??{})):e}function ZF(t,e){if(!t)return e;if(!e)return t;const n=qs(Object.create(null),t);for(const s in e)n[s]=Ys(t[s],e[s]);return n}function DP(){return{app:null,config:{isNativeTag:j2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let YF=0;function QF(t,e){return function(s,r=null){It(s)||(s=qs({},s)),r!=null&&!Cn(r)&&(r=null);const i=DP(),o=new WeakSet,a=[];let u=!1;const c=i.app={_uid:YF++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:A$,get config(){return i.config},set config(d){},use(d,...h){return o.has(d)||(d&&It(d.install)?(o.add(d),d.install(c,...h)):It(d)&&(o.add(d),d(c,...h))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,h){return h?(i.components[d]=h,c):i.components[d]},directive(d,h){return h?(i.directives[d]=h,c):i.directives[d]},mount(d,h,g){if(!u){const v=c._ceVNode||M(s,r);return v.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(v,d,g),u=!0,c._container=d,d.__vue_app__=c,d_(v.component)}},onUnmount(d){a.push(d)},unmount(){u&&(eo(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,h){return i.provides[d]=h,c},runWithContext(d){const h=Ll;Ll=c;try{return d()}finally{Ll=h}}};return c}}let Ll=null;function rs(t,e){if(Ts){let n=Ts.provides;const s=Ts.parent&&Ts.parent.provides;s===n&&(n=Ts.provides=Object.create(s)),n[t]=e}}function ln(t,e,n=!1){const s=Ts||cs;if(s||Ll){const r=Ll?Ll._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&It(e)?e.call(s&&s.proxy):e}}function I0(){return!!(Ts||cs||Ll)}const MP={},NP=()=>Object.create(MP),VP=t=>Object.getPrototypeOf(t)===MP;function XF(t,e,n,s=!1){const r={},i=NP();t.propsDefaults=Object.create(null),FP(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:uP(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function JF(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Jt(r),[u]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let g=d[h];if(u_(t.emitsOptions,g))continue;const v=e[g];if(u)if(fn(i,g))v!==i[g]&&(i[g]=v,c=!0);else{const y=_r(g);r[y]=fw(u,a,y,v,t,!1)}else v!==i[g]&&(i[g]=v,c=!0)}}}else{FP(t,e,r,i)&&(c=!0);let d;for(const h in a)(!e||!fn(e,h)&&((d=tl(h))===h||!fn(e,d)))&&(u?n&&(n[h]!==void 0||n[d]!==void 0)&&(r[h]=fw(u,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!fn(e,h))&&(delete i[h],c=!0)}c&&ko(t.attrs,"set","")}function FP(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(yf(u))continue;const c=e[u];let d;r&&fn(r,d=_r(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:u_(t.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,o=!0)}if(i){const u=Jt(n),c=a||Sn;for(let d=0;d<i.length;d++){const h=i[d];n[h]=fw(r,u,h,c[h],t,!fn(c,h))}}return o}function fw(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=fn(o,"default");if(a&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&It(u)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const d=xh(r);s=c[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===tl(n))&&(s=!0))}return s}const e$=new WeakMap;function $P(t,e,n=!1){const s=n?e$:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let u=!1;if(!It(t)){const d=h=>{u=!0;const[g,v]=$P(h,e,!0);qs(o,g),v&&a.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return Cn(t)&&s.set(t,rc),rc;if(_t(i))for(let d=0;d<i.length;d++){const h=_r(i[d]);XS(h)&&(o[h]=Sn)}else if(i)for(const d in i){const h=_r(d);if(XS(h)){const g=i[d],v=o[h]=_t(g)||It(g)?{type:g}:qs({},g),y=v.type;let w=!1,E=!0;if(_t(y))for(let T=0;T<y.length;++T){const C=y[T],x=It(C)&&C.name;if(x==="Boolean"){w=!0;break}else x==="String"&&(E=!1)}else w=It(y)&&y.name==="Boolean";v[0]=w,v[1]=E,(w||fn(v,"default"))&&a.push(h)}}const c=[o,a];return Cn(t)&&s.set(t,c),c}function XS(t){return t[0]!=="$"&&!yf(t)}const BP=t=>t[0]==="_"||t==="$stable",A0=t=>_t(t)?t.map(zi):[zi(t)],t$=(t,e,n)=>{if(e._n)return e;const s=O((...r)=>A0(e(...r)),n);return s._c=!1,s},UP=(t,e,n)=>{const s=t._ctx;for(const r in t){if(BP(r))continue;const i=t[r];if(It(i))e[r]=t$(r,i,s);else if(i!=null){const o=A0(i);e[r]=()=>o}}},zP=(t,e)=>{const n=A0(e);t.slots.default=()=>n},jP=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},n$=(t,e,n)=>{const s=t.slots=NP();if(t.vnode.shapeFlag&32){const r=e._;r?(jP(s,e,n),n&&UR(s,"_",r,!0)):UP(e,s)}else e&&zP(t,e)},s$=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Sn;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:jP(r,e,n):(i=!e.$stable,UP(e,r)),o=e}else e&&(zP(t,e),o={default:1});if(i)for(const a in r)!BP(a)&&o[a]==null&&delete r[a]},Qs=_$;function r$(t){return i$(t)}function i$(t,e){const n=e_();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:d,parentNode:h,nextSibling:g,setScopeId:v=Gi,insertStaticContent:y}=t,w=(j,G,te,ce=null,ge=null,pe=null,Le=void 0,Ae=null,xe=!!G.dynamicChildren)=>{if(j===G)return;j&&!jd(j,G)&&(ce=ee(j),lt(j,ge,pe,!0),j=null),G.patchFlag===-2&&(xe=!1,G.dynamicChildren=null);const{type:Se,ref:rt,shapeFlag:De}=G;switch(Se){case c_:E(j,G,te,ce);break;case to:T(j,G,te,ce);break;case pm:j==null&&C(G,te,ce,Le);break;case Ke:W(j,G,te,ce,ge,pe,Le,Ae,xe);break;default:De&1?V(j,G,te,ce,ge,pe,Le,Ae,xe):De&6?q(j,G,te,ce,ge,pe,Le,Ae,xe):(De&64||De&128)&&Se.process(j,G,te,ce,ge,pe,Le,Ae,xe,Re)}rt!=null&&ge&&$m(rt,j&&j.ref,pe,G||j,!G)},E=(j,G,te,ce)=>{if(j==null)s(G.el=a(G.children),te,ce);else{const ge=G.el=j.el;G.children!==j.children&&c(ge,G.children)}},T=(j,G,te,ce)=>{j==null?s(G.el=u(G.children||""),te,ce):G.el=j.el},C=(j,G,te,ce)=>{[j.el,j.anchor]=y(j.children,G,te,ce,j.el,j.anchor)},x=({el:j,anchor:G},te,ce)=>{let ge;for(;j&&j!==G;)ge=g(j),s(j,te,ce),j=ge;s(G,te,ce)},I=({el:j,anchor:G})=>{let te;for(;j&&j!==G;)te=g(j),r(j),j=te;r(G)},V=(j,G,te,ce,ge,pe,Le,Ae,xe)=>{G.type==="svg"?Le="svg":G.type==="math"&&(Le="mathml"),j==null?F(G,te,ce,ge,pe,Le,Ae,xe):A(j,G,ge,pe,Le,Ae,xe)},F=(j,G,te,ce,ge,pe,Le,Ae)=>{let xe,Se;const{props:rt,shapeFlag:De,transition:Qe,dirs:ft}=j;if(xe=j.el=o(j.type,pe,rt&&rt.is,rt),De&8?d(xe,j.children):De&16&&P(j.children,xe,null,ce,ge,Zv(j,pe),Le,Ae),ft&&yl(j,null,ce,"created"),k(xe,j,j.scopeId,Le,ce),rt){for(const yt in rt)yt!=="value"&&!yf(yt)&&i(xe,yt,null,rt[yt],pe,ce);"value"in rt&&i(xe,"value",null,rt.value,pe),(Se=rt.onVnodeBeforeMount)&&Fi(Se,ce,j)}ft&&yl(j,null,ce,"beforeMount");const st=o$(ge,Qe);st&&Qe.beforeEnter(xe),s(xe,G,te),((Se=rt&&rt.onVnodeMounted)||st||ft)&&Qs(()=>{Se&&Fi(Se,ce,j),st&&Qe.enter(xe),ft&&yl(j,null,ce,"mounted")},ge)},k=(j,G,te,ce,ge)=>{if(te&&v(j,te),ce)for(let pe=0;pe<ce.length;pe++)v(j,ce[pe]);if(ge){let pe=ge.subTree;if(G===pe||KP(pe.type)&&(pe.ssContent===G||pe.ssFallback===G)){const Le=ge.vnode;k(j,Le,Le.scopeId,Le.slotScopeIds,ge.parent)}}},P=(j,G,te,ce,ge,pe,Le,Ae,xe=0)=>{for(let Se=xe;Se<j.length;Se++){const rt=j[Se]=Ae?Ea(j[Se]):zi(j[Se]);w(null,rt,G,te,ce,ge,pe,Le,Ae)}},A=(j,G,te,ce,ge,pe,Le)=>{const Ae=G.el=j.el;let{patchFlag:xe,dynamicChildren:Se,dirs:rt}=G;xe|=j.patchFlag&16;const De=j.props||Sn,Qe=G.props||Sn;let ft;if(te&&wl(te,!1),(ft=Qe.onVnodeBeforeUpdate)&&Fi(ft,te,G,j),rt&&yl(G,j,te,"beforeUpdate"),te&&wl(te,!0),(De.innerHTML&&Qe.innerHTML==null||De.textContent&&Qe.textContent==null)&&d(Ae,""),Se?N(j.dynamicChildren,Se,Ae,te,ce,Zv(G,ge),pe):Le||me(j,G,Ae,null,te,ce,Zv(G,ge),pe,!1),xe>0){if(xe&16)U(Ae,De,Qe,te,ge);else if(xe&2&&De.class!==Qe.class&&i(Ae,"class",null,Qe.class,ge),xe&4&&i(Ae,"style",De.style,Qe.style,ge),xe&8){const st=G.dynamicProps;for(let yt=0;yt<st.length;yt++){const Nt=st[yt],Ln=De[Nt],cn=Qe[Nt];(cn!==Ln||Nt==="value")&&i(Ae,Nt,Ln,cn,ge,te)}}xe&1&&j.children!==G.children&&d(Ae,G.children)}else!Le&&Se==null&&U(Ae,De,Qe,te,ge);((ft=Qe.onVnodeUpdated)||rt)&&Qs(()=>{ft&&Fi(ft,te,G,j),rt&&yl(G,j,te,"updated")},ce)},N=(j,G,te,ce,ge,pe,Le)=>{for(let Ae=0;Ae<G.length;Ae++){const xe=j[Ae],Se=G[Ae],rt=xe.el&&(xe.type===Ke||!jd(xe,Se)||xe.shapeFlag&70)?h(xe.el):te;w(xe,Se,rt,null,ce,ge,pe,Le,!0)}},U=(j,G,te,ce,ge)=>{if(G!==te){if(G!==Sn)for(const pe in G)!yf(pe)&&!(pe in te)&&i(j,pe,G[pe],null,ge,ce);for(const pe in te){if(yf(pe))continue;const Le=te[pe],Ae=G[pe];Le!==Ae&&pe!=="value"&&i(j,pe,Ae,Le,ge,ce)}"value"in te&&i(j,"value",G.value,te.value,ge)}},W=(j,G,te,ce,ge,pe,Le,Ae,xe)=>{const Se=G.el=j?j.el:a(""),rt=G.anchor=j?j.anchor:a("");let{patchFlag:De,dynamicChildren:Qe,slotScopeIds:ft}=G;ft&&(Ae=Ae?Ae.concat(ft):ft),j==null?(s(Se,te,ce),s(rt,te,ce),P(G.children||[],te,rt,ge,pe,Le,Ae,xe)):De>0&&De&64&&Qe&&j.dynamicChildren?(N(j.dynamicChildren,Qe,te,ge,pe,Le,Ae),(G.key!=null||ge&&G===ge.subTree)&&R0(j,G,!0)):me(j,G,te,rt,ge,pe,Le,Ae,xe)},q=(j,G,te,ce,ge,pe,Le,Ae,xe)=>{G.slotScopeIds=Ae,j==null?G.shapeFlag&512?ge.ctx.activate(G,te,ce,Le,xe):Pe(G,te,ce,ge,pe,Le,xe):Be(j,G,xe)},Pe=(j,G,te,ce,ge,pe,Le)=>{const Ae=j.component=E$(j,ce,ge);if(EP(j)&&(Ae.ctx.renderer=Re),T$(Ae,!1,Le),Ae.asyncDep){if(ge&&ge.registerDep(Ae,ye,Le),!j.el){const xe=Ae.subTree=M(to);T(null,xe,G,te)}}else ye(Ae,j,G,te,ge,pe,Le)},Be=(j,G,te)=>{const ce=G.component=j.component;if(m$(j,G,te))if(ce.asyncDep&&!ce.asyncResolved){_e(ce,G,te);return}else ce.next=G,ce.update();else G.el=j.el,ce.vnode=G},ye=(j,G,te,ce,ge,pe,Le)=>{const Ae=()=>{if(j.isMounted){let{next:De,bu:Qe,u:ft,parent:st,vnode:yt}=j;{const ne=HP(j);if(ne){De&&(De.el=yt.el,_e(j,De,Le)),ne.asyncDep.then(()=>{j.isUnmounted||Ae()});return}}let Nt=De,Ln;wl(j,!1),De?(De.el=yt.el,_e(j,De,Le)):De=yt,Qe&&fm(Qe),(Ln=De.props&&De.props.onVnodeBeforeUpdate)&&Fi(Ln,st,De,yt),wl(j,!0);const cn=eC(j),se=j.subTree;j.subTree=cn,w(se,cn,h(se.el),ee(se),j,ge,pe),De.el=cn.el,Nt===null&&g$(j,cn.el),ft&&Qs(ft,ge),(Ln=De.props&&De.props.onVnodeUpdated)&&Qs(()=>Fi(Ln,st,De,yt),ge)}else{let De;const{el:Qe,props:ft}=G,{bm:st,m:yt,parent:Nt,root:Ln,type:cn}=j,se=ac(G);wl(j,!1),st&&fm(st),!se&&(De=ft&&ft.onVnodeBeforeMount)&&Fi(De,Nt,G),wl(j,!0);{Ln.ce&&Ln.ce._injectChildStyle(cn);const ne=j.subTree=eC(j);w(null,ne,te,ce,j,ge,pe),G.el=ne.el}if(yt&&Qs(yt,ge),!se&&(De=ft&&ft.onVnodeMounted)){const ne=G;Qs(()=>Fi(De,Nt,ne),ge)}(G.shapeFlag&256||Nt&&ac(Nt.vnode)&&Nt.vnode.shapeFlag&256)&&j.a&&Qs(j.a,ge),j.isMounted=!0,G=te=ce=null}};j.scope.on();const xe=j.effect=new GR(Ae);j.scope.off();const Se=j.update=xe.run.bind(xe),rt=j.job=xe.runIfDirty.bind(xe);rt.i=j,rt.id=j.uid,xe.scheduler=()=>S0(rt),wl(j,!0),Se()},_e=(j,G,te)=>{G.component=j;const ce=j.vnode.props;j.vnode=G,j.next=null,JF(j,G.props,ce,te),s$(j,G.children,te),nl(),jS(j),sl()},me=(j,G,te,ce,ge,pe,Le,Ae,xe=!1)=>{const Se=j&&j.children,rt=j?j.shapeFlag:0,De=G.children,{patchFlag:Qe,shapeFlag:ft}=G;if(Qe>0){if(Qe&128){Ne(Se,De,te,ce,ge,pe,Le,Ae,xe);return}else if(Qe&256){nt(Se,De,te,ce,ge,pe,Le,Ae,xe);return}}ft&8?(rt&16&&we(Se,ge,pe),De!==Se&&d(te,De)):rt&16?ft&16?Ne(Se,De,te,ce,ge,pe,Le,Ae,xe):we(Se,ge,pe,!0):(rt&8&&d(te,""),ft&16&&P(De,te,ce,ge,pe,Le,Ae,xe))},nt=(j,G,te,ce,ge,pe,Le,Ae,xe)=>{j=j||rc,G=G||rc;const Se=j.length,rt=G.length,De=Math.min(Se,rt);let Qe;for(Qe=0;Qe<De;Qe++){const ft=G[Qe]=xe?Ea(G[Qe]):zi(G[Qe]);w(j[Qe],ft,te,null,ge,pe,Le,Ae,xe)}Se>rt?we(j,ge,pe,!0,!1,De):P(G,te,ce,ge,pe,Le,Ae,xe,De)},Ne=(j,G,te,ce,ge,pe,Le,Ae,xe)=>{let Se=0;const rt=G.length;let De=j.length-1,Qe=rt-1;for(;Se<=De&&Se<=Qe;){const ft=j[Se],st=G[Se]=xe?Ea(G[Se]):zi(G[Se]);if(jd(ft,st))w(ft,st,te,null,ge,pe,Le,Ae,xe);else break;Se++}for(;Se<=De&&Se<=Qe;){const ft=j[De],st=G[Qe]=xe?Ea(G[Qe]):zi(G[Qe]);if(jd(ft,st))w(ft,st,te,null,ge,pe,Le,Ae,xe);else break;De--,Qe--}if(Se>De){if(Se<=Qe){const ft=Qe+1,st=ft<rt?G[ft].el:ce;for(;Se<=Qe;)w(null,G[Se]=xe?Ea(G[Se]):zi(G[Se]),te,st,ge,pe,Le,Ae,xe),Se++}}else if(Se>Qe)for(;Se<=De;)lt(j[Se],ge,pe,!0),Se++;else{const ft=Se,st=Se,yt=new Map;for(Se=st;Se<=Qe;Se++){const He=G[Se]=xe?Ea(G[Se]):zi(G[Se]);He.key!=null&&yt.set(He.key,Se)}let Nt,Ln=0;const cn=Qe-st+1;let se=!1,ne=0;const be=new Array(cn);for(Se=0;Se<cn;Se++)be[Se]=0;for(Se=ft;Se<=De;Se++){const He=j[Se];if(Ln>=cn){lt(He,ge,pe,!0);continue}let ut;if(He.key!=null)ut=yt.get(He.key);else for(Nt=st;Nt<=Qe;Nt++)if(be[Nt-st]===0&&jd(He,G[Nt])){ut=Nt;break}ut===void 0?lt(He,ge,pe,!0):(be[ut-st]=Se+1,ut>=ne?ne=ut:se=!0,w(He,G[ut],te,null,ge,pe,Le,Ae,xe),Ln++)}const Ve=se?a$(be):rc;for(Nt=Ve.length-1,Se=cn-1;Se>=0;Se--){const He=st+Se,ut=G[He],Je=He+1<rt?G[He+1].el:ce;be[Se]===0?w(null,ut,te,Je,ge,pe,Le,Ae,xe):se&&(Nt<0||Se!==Ve[Nt]?ot(ut,te,Je,2):Nt--)}}},ot=(j,G,te,ce,ge=null)=>{const{el:pe,type:Le,transition:Ae,children:xe,shapeFlag:Se}=j;if(Se&6){ot(j.component.subTree,G,te,ce);return}if(Se&128){j.suspense.move(G,te,ce);return}if(Se&64){Le.move(j,G,te,Re);return}if(Le===Ke){s(pe,G,te);for(let De=0;De<xe.length;De++)ot(xe[De],G,te,ce);s(j.anchor,G,te);return}if(Le===pm){x(j,G,te);return}if(ce!==2&&Se&1&&Ae)if(ce===0)Ae.beforeEnter(pe),s(pe,G,te),Qs(()=>Ae.enter(pe),ge);else{const{leave:De,delayLeave:Qe,afterLeave:ft}=Ae,st=()=>s(pe,G,te),yt=()=>{De(pe,()=>{st(),ft&&ft()})};Qe?Qe(pe,st,yt):yt()}else s(pe,G,te)},lt=(j,G,te,ce=!1,ge=!1)=>{const{type:pe,props:Le,ref:Ae,children:xe,dynamicChildren:Se,shapeFlag:rt,patchFlag:De,dirs:Qe,cacheIndex:ft}=j;if(De===-2&&(ge=!1),Ae!=null&&$m(Ae,null,te,j,!0),ft!=null&&(G.renderCache[ft]=void 0),rt&256){G.ctx.deactivate(j);return}const st=rt&1&&Qe,yt=!ac(j);let Nt;if(yt&&(Nt=Le&&Le.onVnodeBeforeUnmount)&&Fi(Nt,G,j),rt&6)dt(j.component,te,ce);else{if(rt&128){j.suspense.unmount(te,ce);return}st&&yl(j,null,G,"beforeUnmount"),rt&64?j.type.remove(j,G,te,Re,ce):Se&&!Se.hasOnce&&(pe!==Ke||De>0&&De&64)?we(Se,G,te,!1,!0):(pe===Ke&&De&384||!ge&&rt&16)&&we(xe,G,te),ce&&pt(j)}(yt&&(Nt=Le&&Le.onVnodeUnmounted)||st)&&Qs(()=>{Nt&&Fi(Nt,G,j),st&&yl(j,null,G,"unmounted")},te)},pt=j=>{const{type:G,el:te,anchor:ce,transition:ge}=j;if(G===Ke){Ye(te,ce);return}if(G===pm){I(j);return}const pe=()=>{r(te),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(j.shapeFlag&1&&ge&&!ge.persisted){const{leave:Le,delayLeave:Ae}=ge,xe=()=>Le(te,pe);Ae?Ae(j.el,pe,xe):xe()}else pe()},Ye=(j,G)=>{let te;for(;j!==G;)te=g(j),r(j),j=te;r(G)},dt=(j,G,te)=>{const{bum:ce,scope:ge,job:pe,subTree:Le,um:Ae,m:xe,a:Se}=j;JS(xe),JS(Se),ce&&fm(ce),ge.stop(),pe&&(pe.flags|=8,lt(Le,j,G,te)),Ae&&Qs(Ae,G),Qs(()=>{j.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},we=(j,G,te,ce=!1,ge=!1,pe=0)=>{for(let Le=pe;Le<j.length;Le++)lt(j[Le],G,te,ce,ge)},ee=j=>{if(j.shapeFlag&6)return ee(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const G=g(j.anchor||j.el),te=G&&G[vP];return te?g(te):G};let he=!1;const ve=(j,G,te)=>{j==null?G._vnode&&lt(G._vnode,null,null,!0):w(G._vnode||null,j,G,null,null,null,te),G._vnode=j,he||(he=!0,jS(),mP(),he=!1)},Re={p:w,um:lt,m:ot,r:pt,mt:Pe,mc:P,pc:me,pbc:N,n:ee,o:t};return{render:ve,hydrate:void 0,createApp:QF(ve)}}function Zv({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function wl({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function o$(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function R0(t,e,n=!1){const s=t.children,r=e.children;if(_t(s)&&_t(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Ea(r[i]),a.el=o.el),!n&&a.patchFlag!==-2&&R0(o,a)),a.type===c_&&(a.el=o.el)}}function a$(t){const e=t.slice(),n=[0];let s,r,i,o,a;const u=t.length;for(s=0;s<u;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function HP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:HP(e)}function JS(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const l$=Symbol.for("v-scx"),u$=()=>ln(l$);function qn(t,e){return l_(t,null,e)}function qP(t,e){return l_(t,null,{flush:"post"})}function ct(t,e,n){return l_(t,e,n)}function l_(t,e,n=Sn){const{immediate:s,deep:r,flush:i,once:o}=n,a=qs({},n),u=e&&s||!e&&i!=="post";let c;if(Gf){if(i==="sync"){const v=u$();c=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=Gi,v.resume=Gi,v.pause=Gi,v}}const d=Ts;a.call=(v,y,w)=>eo(v,d,y,w);let h=!1;i==="post"?a.scheduler=v=>{Qs(v,d&&d.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(v,y)=>{y?v():S0(v)}),a.augmentJob=v=>{e&&(v.flags|=4),h&&(v.flags|=2,d&&(v.id=d.uid,v.i=d))};const g=AF(t,e,a);return Gf&&(c?c.push(g):u&&g()),g}function c$(t,e,n){const s=this.proxy,r=Hn(t)?t.includes(".")?WP(s,t):()=>s[t]:t.bind(s,s);let i;It(e)?i=e:(i=e.handler,n=e);const o=xh(this),a=l_(r,i.bind(s),n);return o(),a}function WP(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const d$=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${_r(e)}Modifiers`]||t[`${tl(e)}Modifiers`];function f$(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Sn;let r=n;const i=e.startsWith("update:"),o=i&&d$(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>Hn(d)?d.trim():d)),o.number&&(r=n.map(nw)));let a,u=s[a=wf(e)]||s[a=wf(_r(e))];!u&&i&&(u=s[a=wf(tl(e))]),u&&eo(u,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,eo(c,t,6,r)}}function GP(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!It(t)){const u=c=>{const d=GP(c,e,!0);d&&(a=!0,qs(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(Cn(t)&&s.set(t,null),null):(_t(i)?i.forEach(u=>o[u]=null):qs(o,i),Cn(t)&&s.set(t,o),o)}function u_(t,e){return!t||!Yg(e)?!1:(e=e.slice(2).replace(/Once$/,""),fn(t,e[0].toLowerCase()+e.slice(1))||fn(t,tl(e))||fn(t,e))}function eC(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:u,render:c,renderCache:d,props:h,data:g,setupState:v,ctx:y,inheritAttrs:w}=t,E=Fm(t);let T,C;try{if(n.shapeFlag&4){const I=r||s,V=I;T=zi(c.call(V,I,d,h,v,g,y)),C=a}else{const I=e;T=zi(I.length>1?I(h,{attrs:a,slots:o,emit:u}):I(h,null)),C=e.props?a:h$(a)}}catch(I){Cf.length=0,o_(I,t,1),T=M(to)}let x=T;if(C&&w!==!1){const I=Object.keys(C),{shapeFlag:V}=x;I.length&&V&7&&(i&&I.some(g0)&&(C=p$(C,i)),x=Vl(x,C,!1,!0))}return n.dirs&&(x=Vl(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&x0(x,n.transition),T=x,Fm(E),T}const h$=t=>{let e;for(const n in t)(n==="class"||n==="style"||Yg(n))&&((e||(e={}))[n]=t[n]);return e},p$=(t,e)=>{const n={};for(const s in t)(!g0(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function m$(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?tC(s,o,c):!!o;if(u&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const g=d[h];if(o[g]!==s[g]&&!u_(c,g))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?tC(s,o,c):!0:!!o;return!1}function tC(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!u_(n,i))return!0}return!1}function g$({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const KP=t=>t.__isSuspense;function _$(t,e){e&&e.pendingBranch?_t(t)?e.effects.push(...t):e.effects.push(t):kF(t)}const Ke=Symbol.for("v-fgt"),c_=Symbol.for("v-txt"),to=Symbol.for("v-cmt"),pm=Symbol.for("v-stc"),Cf=[];let Rr=null;function $(t=!1){Cf.push(Rr=t?null:[])}function v$(){Cf.pop(),Rr=Cf[Cf.length-1]||null}let Wf=1;function nC(t,e=!1){Wf+=t,t<0&&Rr&&e&&(Rr.hasOnce=!0)}function ZP(t){return t.dynamicChildren=Wf>0?Rr||rc:null,v$(),Wf>0&&Rr&&Rr.push(t),t}function ie(t,e,n,s,r,i){return ZP(z(t,e,n,s,r,i,!0))}function Y(t,e,n,s,r){return ZP(M(t,e,n,s,r,!0))}function yc(t){return t?t.__v_isVNode===!0:!1}function jd(t,e){return t.type===e.type&&t.key===e.key}const YP=({key:t})=>t??null,mm=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Hn(t)||Dt(t)||It(t)?{i:cs,r:t,k:e,f:!!n}:t:null);function z(t,e=null,n=null,s=0,r=null,i=t===Ke?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&YP(e),ref:e&&mm(e),scopeId:_P,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:cs};return a?(P0(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Hn(n)?8:16),Wf>0&&!o&&Rr&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Rr.push(u),u}const M=y$;function y$(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===AP)&&(t=to),yc(t)){const a=Vl(t,e,!0);return n&&P0(a,n),Wf>0&&!i&&Rr&&(a.shapeFlag&6?Rr[Rr.indexOf(t)]=a:Rr.push(a)),a.patchFlag=-2,a}if(I$(t)&&(t=t.__vccOpts),e){e=un(e);let{class:a,style:u}=e;a&&!Hn(a)&&(e.class=vt(a)),Cn(u)&&(E0(u)&&!_t(u)&&(u=qs({},u)),e.style=Ls(u))}const o=Hn(t)?1:KP(t)?128:OF(t)?64:Cn(t)?4:It(t)?2:0;return z(t,e,n,s,r,o,i,!0)}function un(t){return t?E0(t)||VP(t)?qs({},t):t:null}function Vl(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:u}=t,c=e?fe(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&YP(c),ref:e&&e.ref?n&&i?_t(i)?i.concat(mm(e)):[i,mm(e)]:mm(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Vl(t.ssContent),ssFallback:t.ssFallback&&Vl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&x0(d,u.clone(d)),d}function ae(t=" ",e=0){return M(c_,null,t,e)}function Um(t,e){const n=M(pm,null,t);return n.staticCount=e,n}function Ht(t="",e=!1){return e?($(),Y(to,null,t)):M(to,null,t)}function zi(t){return t==null||typeof t=="boolean"?M(to):_t(t)?M(Ke,null,t.slice()):yc(t)?Ea(t):M(c_,null,String(t))}function Ea(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Vl(t)}function P0(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(_t(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),P0(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!VP(e)?e._ctx=cs:r===3&&cs&&(cs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else It(e)?(e={default:e,_ctx:cs},n=32):(e=String(e),s&64?(n=16,e=[ae(e)]):n=8);t.children=e,t.shapeFlag|=n}function fe(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=vt([e.class,s.class]));else if(r==="style")e.style=Ls([e.style,s.style]);else if(Yg(r)){const i=e[r],o=s[r];o&&i!==o&&!(_t(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Fi(t,e,n,s=null){eo(t,e,7,[n,s])}const w$=DP();let b$=0;function E$(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||w$,i={uid:b$++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new WR(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$P(s,r),emitsOptions:GP(s,r),emit:null,emitted:null,propsDefaults:Sn,inheritAttrs:s.inheritAttrs,ctx:Sn,data:Sn,props:Sn,attrs:Sn,slots:Sn,refs:Sn,setupState:Sn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=f$.bind(null,i),t.ce&&t.ce(i),i}let Ts=null;const ps=()=>Ts||cs;let zm,hw;{const t=e_(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};zm=e("__VUE_INSTANCE_SETTERS__",n=>Ts=n),hw=e("__VUE_SSR_SETTERS__",n=>Gf=n)}const xh=t=>{const e=Ts;return zm(t),t.scope.on(),()=>{t.scope.off(),zm(e)}},sC=()=>{Ts&&Ts.scope.off(),zm(null)};function QP(t){return t.vnode.shapeFlag&4}let Gf=!1;function T$(t,e=!1,n=!1){e&&hw(e);const{props:s,children:r}=t.vnode,i=QP(t);XF(t,s,i,e),n$(t,r,n);const o=i?S$(t,e):void 0;return e&&hw(!1),o}function S$(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zF);const{setup:s}=n;if(s){nl();const r=t.setupContext=s.length>1?JP(t):null,i=xh(t),o=Ch(s,t,0,[t.props,r]),a=FR(o);if(sl(),i(),(a||t.sp)&&!ac(t)&&bP(t),a){if(o.then(sC,sC),e)return o.then(u=>{rC(t,u)}).catch(u=>{o_(u,t,0)});t.asyncDep=o}else rC(t,o)}else XP(t)}function rC(t,e,n){It(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Cn(e)&&(t.setupState=dP(e)),XP(t)}function XP(t,e,n){const s=t.type;t.render||(t.render=s.render||Gi);{const r=xh(t);nl();try{qF(t)}finally{sl(),r()}}}const C$={get(t,e){return Vs(t,"get",""),t[e]}};function JP(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,C$),slots:t.slots,emit:t.emit,expose:e}}function d_(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dP(oo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Sf)return Sf[n](t)},has(e,n){return n in e||n in Sf}})):t.proxy}function x$(t,e=!0){return It(t)?t.displayName||t.name:t.name||e&&t.__name}function I$(t){return It(t)&&"__vccOpts"in t}const Q=(t,e)=>xF(t,e,Gf);function Ft(t,e,n){const s=arguments.length;return s===2?Cn(e)&&!_t(e)?yc(e)?M(t,null,[e]):M(t,e):M(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&yc(n)&&(n=[n]),M(t,e,n))}const A$="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pw;const iC=typeof window<"u"&&window.trustedTypes;if(iC)try{pw=iC.createPolicy("vue",{createHTML:t=>t})}catch{}const e1=pw?t=>pw.createHTML(t):t=>t,R$="http://www.w3.org/2000/svg",P$="http://www.w3.org/1998/Math/MathML",Ro=typeof document<"u"?document:null,oC=Ro&&Ro.createElement("template"),k$={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Ro.createElementNS(R$,t):e==="mathml"?Ro.createElementNS(P$,t):n?Ro.createElement(t,{is:n}):Ro.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ro.createTextNode(t),createComment:t=>Ro.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ro.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{oC.innerHTML=e1(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=oC.content;if(s==="svg"||s==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},O$=Symbol("_vtc");function L$(t,e,n){const s=t[O$];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const jm=Symbol("_vod"),t1=Symbol("_vsh"),D$={beforeMount(t,{value:e},{transition:n}){t[jm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Hd(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),Hd(t,!0),s.enter(t)):s.leave(t,()=>{Hd(t,!1)}):Hd(t,e))},beforeUnmount(t,{value:e}){Hd(t,e)}};function Hd(t,e){t.style.display=e?t[jm]:"none",t[t1]=!e}const M$=Symbol(""),N$=/(^|;)\s*display\s*:/;function V$(t,e,n){const s=t.style,r=Hn(n);let i=!1;if(n&&!r){if(e)if(Hn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&gm(s,a,"")}else for(const o in e)n[o]==null&&gm(s,o,"");for(const o in n)o==="display"&&(i=!0),gm(s,o,n[o])}else if(r){if(e!==n){const o=s[M$];o&&(n+=";"+o),s.cssText=n,i=N$.test(n)}}else e&&t.removeAttribute("style");jm in t&&(t[jm]=i?s.display:"",t[t1]&&(s.display="none"))}const aC=/\s*!important$/;function gm(t,e,n){if(_t(n))n.forEach(s=>gm(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=F$(t,e);aC.test(n)?t.setProperty(tl(s),n.replace(aC,""),"important"):t[s]=n}}const lC=["Webkit","Moz","ms"],Yv={};function F$(t,e){const n=Yv[e];if(n)return n;let s=_r(e);if(s!=="filter"&&s in t)return Yv[e]=s;s=Jg(s);for(let r=0;r<lC.length;r++){const i=lC[r]+s;if(i in t)return Yv[e]=i}return e}const uC="http://www.w3.org/1999/xlink";function cC(t,e,n,s,r,i=J2(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(uC,e.slice(6,e.length)):t.setAttributeNS(uC,e,n):n==null||i&&!zR(n)?t.removeAttribute(e):t.setAttribute(e,i?"":wi(n)?String(n):n)}function dC(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?e1(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=zR(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Il(t,e,n,s){t.addEventListener(e,n,s)}function $$(t,e,n,s){t.removeEventListener(e,n,s)}const fC=Symbol("_vei");function B$(t,e,n,s,r=null){const i=t[fC]||(t[fC]={}),o=i[e];if(s&&o)o.value=s;else{const[a,u]=U$(e);if(s){const c=i[e]=H$(s,r);Il(t,a,c,u)}else o&&($$(t,a,o,u),i[e]=void 0)}}const hC=/(?:Once|Passive|Capture)$/;function U$(t){let e;if(hC.test(t)){e={};let s;for(;s=t.match(hC);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tl(t.slice(2)),e]}let Qv=0;const z$=Promise.resolve(),j$=()=>Qv||(z$.then(()=>Qv=0),Qv=Date.now());function H$(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;eo(q$(s,n.value),e,5,[s])};return n.value=t,n.attached=j$(),n}function q$(t,e){if(_t(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const pC=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,W$=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?L$(t,s,o):e==="style"?V$(t,n,s):Yg(e)?g0(e)||B$(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):G$(t,e,s,o))?(dC(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&cC(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Hn(s))?dC(t,_r(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),cC(t,e,s,o))};function G$(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&pC(e)&&It(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return pC(e)&&Hn(n)?!1:e in t}const Hm=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _t(e)?n=>fm(e,n):e};function K$(t){t.target.composing=!0}function mC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const lc=Symbol("_assign"),Bo={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[lc]=Hm(r);const i=s||r.props&&r.props.type==="number";Il(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=nw(a)),t[lc](a)}),n&&Il(t,"change",()=>{t.value=t.value.trim()}),e||(Il(t,"compositionstart",K$),Il(t,"compositionend",mC),Il(t,"change",mC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[lc]=Hm(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?nw(t.value):t.value,u=e??"";a!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},gC={deep:!0,created(t,e,n){t[lc]=Hm(n),Il(t,"change",()=>{const s=t._modelValue,r=Z$(t),i=t.checked,o=t[lc];if(_t(s)){const a=jR(s,r),u=a!==-1;if(i&&!u)o(s.concat(r));else if(!i&&u){const c=[...s];c.splice(a,1),o(c)}}else if(Qg(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(n1(t,i))})},mounted:_C,beforeUpdate(t,e,n){t[lc]=Hm(n),_C(t,e,n)}};function _C(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(_t(e))r=jR(e,s.props.value)>-1;else if(Qg(e))r=e.has(s.props.value);else{if(e===n)return;r=t_(e,n1(t,!0))}t.checked!==r&&(t.checked=r)}function Z$(t){return"_value"in t?t._value:t.value}function n1(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Y$=["ctrl","shift","alt","meta"],Q$={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Y$.some(n=>t[`${n}Key`]&&!e.includes(n))},xs=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=Q$[e[o]];if(a&&a(r,e))return}return t(r,...i)})},X$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},k0=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=tl(r.key);if(e.some(o=>o===i||X$[o]===i))return t(r)})},J$=qs({patchProp:W$},k$);let vC;function s1(){return vC||(vC=r$(J$))}const eB=(...t)=>{s1().render(...t)},tB=(...t)=>{const e=s1().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=sB(s);if(!r)return;const i=e._component;!It(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,nB(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function nB(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function sB(t){return Hn(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ku=typeof document<"u";function r1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function rB(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&r1(t.default)}const dn=Object.assign;function Xv(t,e){const n={};for(const s in e){const r=e[s];n[s]=Ei(r)?r.map(t):t(r)}return n}const xf=()=>{},Ei=Array.isArray,i1=/#/g,iB=/&/g,oB=/\//g,aB=/=/g,lB=/\?/g,o1=/\+/g,uB=/%5B/g,cB=/%5D/g,a1=/%5E/g,dB=/%60/g,l1=/%7B/g,fB=/%7C/g,u1=/%7D/g,hB=/%20/g;function O0(t){return encodeURI(""+t).replace(fB,"|").replace(uB,"[").replace(cB,"]")}function pB(t){return O0(t).replace(l1,"{").replace(u1,"}").replace(a1,"^")}function mw(t){return O0(t).replace(o1,"%2B").replace(hB,"+").replace(i1,"%23").replace(iB,"%26").replace(dB,"`").replace(l1,"{").replace(u1,"}").replace(a1,"^")}function mB(t){return mw(t).replace(aB,"%3D")}function gB(t){return O0(t).replace(i1,"%23").replace(lB,"%3F")}function _B(t){return t==null?"":gB(t).replace(oB,"%2F")}function Kf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const vB=/\/$/,yB=t=>t.replace(vB,"");function Jv(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(s=e.slice(0,u),i=e.slice(u+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=TB(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Kf(o)}}function wB(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function yC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function bB(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&wc(e.matched[s],n.matched[r])&&c1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function c1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!EB(t[n],e[n]))return!1;return!0}function EB(t,e){return Ei(t)?wC(t,e):Ei(e)?wC(e,t):t===e}function wC(t,e){return Ei(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function TB(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const ma={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zf;(function(t){t.pop="pop",t.push="push"})(Zf||(Zf={}));var If;(function(t){t.back="back",t.forward="forward",t.unknown=""})(If||(If={}));function SB(t){if(!t)if(Ku){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),yB(t)}const CB=/^[^#]+#/;function xB(t,e){return t.replace(CB,"#")+e}function IB(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const f_=()=>({left:window.scrollX,top:window.scrollY});function AB(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=IB(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function bC(t,e){return(history.state?history.state.position-e:-1)+t}const gw=new Map;function RB(t,e){gw.set(t,e)}function PB(t){const e=gw.get(t);return gw.delete(t),e}let kB=()=>location.protocol+"//"+location.host;function d1(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,u=r.slice(a);return u[0]!=="/"&&(u="/"+u),yC(u,"")}return yC(n,t)+s+r}function OB(t,e,n,s){let r=[],i=[],o=null;const a=({state:g})=>{const v=d1(t,location),y=n.value,w=e.value;let E=0;if(g){if(n.value=v,e.value=g,o&&o===y){o=null;return}E=w?g.position-w.position:0}else s(v);r.forEach(T=>{T(n.value,y,{delta:E,type:Zf.pop,direction:E?E>0?If.forward:If.back:If.unknown})})};function u(){o=n.value}function c(g){r.push(g);const v=()=>{const y=r.indexOf(g);y>-1&&r.splice(y,1)};return i.push(v),v}function d(){const{history:g}=window;g.state&&g.replaceState(dn({},g.state,{scroll:f_()}),"")}function h(){for(const g of i)g();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:c,destroy:h}}function EC(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?f_():null}}function LB(t){const{history:e,location:n}=window,s={value:d1(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const h=t.indexOf("#"),g=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+u:kB()+t+u;try{e[d?"replaceState":"pushState"](c,"",g),r.value=c}catch(v){console.error(v),n[d?"replace":"assign"](g)}}function o(u,c){const d=dn({},e.state,EC(r.value.back,u,r.value.forward,!0),c,{position:r.value.position});i(u,d,!0),s.value=u}function a(u,c){const d=dn({},r.value,e.state,{forward:u,scroll:f_()});i(d.current,d,!0);const h=dn({},EC(s.value,u,null),{position:d.position+1},c);i(u,h,!1),s.value=u}return{location:s,state:r,push:a,replace:o}}function DB(t){t=SB(t);const e=LB(t),n=OB(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=dn({location:"",base:t,go:s,createHref:xB.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function MB(t){return typeof t=="string"||t&&typeof t=="object"}function f1(t){return typeof t=="string"||typeof t=="symbol"}const h1=Symbol("");var TC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(TC||(TC={}));function bc(t,e){return dn(new Error,{type:t,[h1]:!0},e)}function Co(t,e){return t instanceof Error&&h1 in t&&(e==null||!!(t.type&e))}const SC="[^/]+?",NB={sensitive:!1,strict:!1,start:!0,end:!0},VB=/[.+*?^${}()[\]/\\]/g;function FB(t,e){const n=dn({},NB,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const g=c[h];let v=40+(n.sensitive?.25:0);if(g.type===0)h||(r+="/"),r+=g.value.replace(VB,"\\$&"),v+=40;else if(g.type===1){const{value:y,repeatable:w,optional:E,regexp:T}=g;i.push({name:y,repeatable:w,optional:E});const C=T||SC;if(C!==SC){v+=10;try{new RegExp(`(${C})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${y}" (${C}): `+I.message)}}let x=w?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(x=E&&c.length<2?`(?:/${x})`:"/"+x),E&&(x+="?"),r+=x,v+=20,E&&(v+=-8),w&&(v+=-20),C===".*"&&(v+=-50)}d.push(v)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const d=c.match(o),h={};if(!d)return null;for(let g=1;g<d.length;g++){const v=d[g]||"",y=i[g-1];h[y.name]=v&&y.repeatable?v.split("/"):v}return h}function u(c){let d="",h=!1;for(const g of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const v of g)if(v.type===0)d+=v.value;else if(v.type===1){const{value:y,repeatable:w,optional:E}=v,T=y in c?c[y]:"";if(Ei(T)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const C=Ei(T)?T.join("/"):T;if(!C)if(E)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);d+=C}}return d||"/"}return{re:o,score:s,keys:i,parse:a,stringify:u}}function $B(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function p1(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=$B(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(CC(s))return 1;if(CC(r))return-1}return r.length-s.length}function CC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const BB={type:0,value:""},UB=/[a-zA-Z0-9_]/;function zB(t){if(!t)return[[]];if(t==="/")return[[BB]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${n})/"${c}": ${v}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,u,c="",d="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function g(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(c&&h(),o()):u===":"?(h(),n=1):g();break;case 4:g(),n=s;break;case 1:u==="("?n=2:UB.test(u)?g():(h(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:h(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function jB(t,e,n){const s=FB(zB(t.path),n),r=dn(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function HB(t,e){const n=[],s=new Map;e=RC({strict:!1,end:!0,sensitive:!1},e);function r(h){return s.get(h)}function i(h,g,v){const y=!v,w=IC(h);w.aliasOf=v&&v.record;const E=RC(e,h),T=[w];if("alias"in h){const I=typeof h.alias=="string"?[h.alias]:h.alias;for(const V of I)T.push(IC(dn({},w,{components:v?v.record.components:w.components,path:V,aliasOf:v?v.record:w})))}let C,x;for(const I of T){const{path:V}=I;if(g&&V[0]!=="/"){const F=g.record.path,k=F[F.length-1]==="/"?"":"/";I.path=g.record.path+(V&&k+V)}if(C=jB(I,g,E),v?v.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),y&&h.name&&!AC(C)&&o(h.name)),m1(C)&&u(C),w.children){const F=w.children;for(let k=0;k<F.length;k++)i(F[k],C,v&&v.children[k])}v=v||C}return x?()=>{o(x)}:xf}function o(h){if(f1(h)){const g=s.get(h);g&&(s.delete(h),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(h);g>-1&&(n.splice(g,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function u(h){const g=GB(h,n);n.splice(g,0,h),h.record.name&&!AC(h)&&s.set(h.record.name,h)}function c(h,g){let v,y={},w,E;if("name"in h&&h.name){if(v=s.get(h.name),!v)throw bc(1,{location:h});E=v.record.name,y=dn(xC(g.params,v.keys.filter(x=>!x.optional).concat(v.parent?v.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&xC(h.params,v.keys.map(x=>x.name))),w=v.stringify(y)}else if(h.path!=null)w=h.path,v=n.find(x=>x.re.test(w)),v&&(y=v.parse(w),E=v.record.name);else{if(v=g.name?s.get(g.name):n.find(x=>x.re.test(g.path)),!v)throw bc(1,{location:h,currentLocation:g});E=v.record.name,y=dn({},g.params,h.params),w=v.stringify(y)}const T=[];let C=v;for(;C;)T.unshift(C.record),C=C.parent;return{name:E,path:w,params:y,matched:T,meta:WB(T)}}t.forEach(h=>i(h));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:r}}function xC(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function IC(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:qB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function qB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function AC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function WB(t){return t.reduce((e,n)=>dn(e,n.meta),{})}function RC(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function GB(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;p1(t,e[i])<0?s=i:n=i+1}const r=KB(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function KB(t){let e=t;for(;e=e.parent;)if(m1(e)&&p1(t,e)===0)return e}function m1({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ZB(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(o1," "),o=i.indexOf("="),a=Kf(o<0?i:i.slice(0,o)),u=o<0?null:Kf(i.slice(o+1));if(a in e){let c=e[a];Ei(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function PC(t){let e="";for(let n in t){const s=t[n];if(n=mB(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ei(s)?s.map(i=>i&&mw(i)):[s&&mw(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function YB(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Ei(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const g1=Symbol(""),kC=Symbol(""),h_=Symbol(""),L0=Symbol(""),_w=Symbol("");function qd(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function QB(t,e,n){const s=()=>{t[e].delete(n)};Is(s),SP(s),TP(()=>{t[e].add(n)}),t[e].add(n)}function XB(t){const e=ln(g1,{}).value;e&&QB(e,"updateGuards",t)}function Ta(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((a,u)=>{const c=g=>{g===!1?u(bc(4,{from:n,to:e})):g instanceof Error?u(g):MB(g)?u(bc(2,{from:e,to:g})):(o&&s.enterCallbacks[r]===o&&typeof g=="function"&&o.push(g),a())},d=i(()=>t.call(s&&s.instances[r],e,n,c));let h=Promise.resolve(d);t.length<3&&(h=h.then(c)),h.catch(g=>u(g))})}function ey(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let u=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(r1(u)){const d=(u.__vccOpts||u)[e];d&&i.push(Ta(d,n,s,o,a,r))}else{let c=u();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=rB(d)?d.default:d;o.mods[a]=d,o.components[a]=h;const v=(h.__vccOpts||h)[e];return v&&Ta(v,n,s,o,a,r)()}))}}return i}function OC(t){const e=ln(h_),n=ln(L0),s=Q(()=>{const u=m(t.to);return e.resolve(u)}),r=Q(()=>{const{matched:u}=s.value,{length:c}=u,d=u[c-1],h=n.matched;if(!d||!h.length)return-1;const g=h.findIndex(wc.bind(null,d));if(g>-1)return g;const v=LC(u[c-2]);return c>1&&LC(d)===v&&h[h.length-1].path!==v?h.findIndex(wc.bind(null,u[c-2])):g}),i=Q(()=>r.value>-1&&nU(n.params,s.value.params)),o=Q(()=>r.value>-1&&r.value===n.matched.length-1&&c1(n.params,s.value.params));function a(u={}){if(tU(u)){const c=e[m(t.replace)?"replace":"push"](m(t.to)).catch(xf);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Q(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function JB(t){return t.length===1?t[0]:t}const eU=K({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:OC,setup(t,{slots:e}){const n=vr(OC(t)),{options:s}=ln(h_),r=Q(()=>({[DC(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[DC(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&JB(e.default(n));return t.custom?i:Ft("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),p_=eU;function tU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nU(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Ei(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function LC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const DC=(t,e,n)=>t??e??n,sU=K({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ln(_w),r=Q(()=>t.route||s.value),i=ln(kC,0),o=Q(()=>{let c=m(i);const{matched:d}=r.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),a=Q(()=>r.value.matched[o.value]);rs(kC,Q(()=>o.value+1)),rs(g1,a),rs(_w,r);const u=Z();return ct(()=>[u.value,a.value,t.name],([c,d,h],[g,v,y])=>{d&&(d.instances[h]=c,v&&v!==d&&c&&c===g&&(d.leaveGuards.size||(d.leaveGuards=v.leaveGuards),d.updateGuards.size||(d.updateGuards=v.updateGuards))),c&&d&&(!v||!wc(d,v)||!g)&&(d.enterCallbacks[h]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,h=a.value,g=h&&h.components[d];if(!g)return MC(n.default,{Component:g,route:c});const v=h.props[d],y=v?v===!0?c.params:typeof v=="function"?v(c):v:null,E=Ft(g,dn({},y,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[d]=null)},ref:u}));return MC(n.default,{Component:E,route:c})||E}}});function MC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const rU=sU;function iU(t){const e=HB(t.routes,t),n=t.parseQuery||ZB,s=t.stringifyQuery||PC,r=t.history,i=qd(),o=qd(),a=qd(),u=Cs(ma);let c=ma;Ku&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Xv.bind(null,ee=>""+ee),h=Xv.bind(null,_B),g=Xv.bind(null,Kf);function v(ee,he){let ve,Re;return f1(ee)?(ve=e.getRecordMatcher(ee),Re=he):Re=ee,e.addRoute(Re,ve)}function y(ee){const he=e.getRecordMatcher(ee);he&&e.removeRoute(he)}function w(){return e.getRoutes().map(ee=>ee.record)}function E(ee){return!!e.getRecordMatcher(ee)}function T(ee,he){if(he=dn({},he||u.value),typeof ee=="string"){const te=Jv(n,ee,he.path),ce=e.resolve({path:te.path},he),ge=r.createHref(te.fullPath);return dn(te,ce,{params:g(ce.params),hash:Kf(te.hash),redirectedFrom:void 0,href:ge})}let ve;if(ee.path!=null)ve=dn({},ee,{path:Jv(n,ee.path,he.path).path});else{const te=dn({},ee.params);for(const ce in te)te[ce]==null&&delete te[ce];ve=dn({},ee,{params:h(te)}),he.params=h(he.params)}const Re=e.resolve(ve,he),Ue=ee.hash||"";Re.params=d(g(Re.params));const j=wB(s,dn({},ee,{hash:pB(Ue),path:Re.path})),G=r.createHref(j);return dn({fullPath:j,hash:Ue,query:s===PC?YB(ee.query):ee.query||{}},Re,{redirectedFrom:void 0,href:G})}function C(ee){return typeof ee=="string"?Jv(n,ee,u.value.path):dn({},ee)}function x(ee,he){if(c!==ee)return bc(8,{from:he,to:ee})}function I(ee){return k(ee)}function V(ee){return I(dn(C(ee),{replace:!0}))}function F(ee){const he=ee.matched[ee.matched.length-1];if(he&&he.redirect){const{redirect:ve}=he;let Re=typeof ve=="function"?ve(ee):ve;return typeof Re=="string"&&(Re=Re.includes("?")||Re.includes("#")?Re=C(Re):{path:Re},Re.params={}),dn({query:ee.query,hash:ee.hash,params:Re.path!=null?{}:ee.params},Re)}}function k(ee,he){const ve=c=T(ee),Re=u.value,Ue=ee.state,j=ee.force,G=ee.replace===!0,te=F(ve);if(te)return k(dn(C(te),{state:typeof te=="object"?dn({},Ue,te.state):Ue,force:j,replace:G}),he||ve);const ce=ve;ce.redirectedFrom=he;let ge;return!j&&bB(s,Re,ve)&&(ge=bc(16,{to:ce,from:Re}),ot(Re,Re,!0,!1)),(ge?Promise.resolve(ge):N(ce,Re)).catch(pe=>Co(pe)?Co(pe,2)?pe:Ne(pe):me(pe,ce,Re)).then(pe=>{if(pe){if(Co(pe,2))return k(dn({replace:G},C(pe.to),{state:typeof pe.to=="object"?dn({},Ue,pe.to.state):Ue,force:j}),he||ce)}else pe=W(ce,Re,!0,G,Ue);return U(ce,Re,pe),pe})}function P(ee,he){const ve=x(ee,he);return ve?Promise.reject(ve):Promise.resolve()}function A(ee){const he=Ye.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(ee):ee()}function N(ee,he){let ve;const[Re,Ue,j]=oU(ee,he);ve=ey(Re.reverse(),"beforeRouteLeave",ee,he);for(const te of Re)te.leaveGuards.forEach(ce=>{ve.push(Ta(ce,ee,he))});const G=P.bind(null,ee,he);return ve.push(G),we(ve).then(()=>{ve=[];for(const te of i.list())ve.push(Ta(te,ee,he));return ve.push(G),we(ve)}).then(()=>{ve=ey(Ue,"beforeRouteUpdate",ee,he);for(const te of Ue)te.updateGuards.forEach(ce=>{ve.push(Ta(ce,ee,he))});return ve.push(G),we(ve)}).then(()=>{ve=[];for(const te of j)if(te.beforeEnter)if(Ei(te.beforeEnter))for(const ce of te.beforeEnter)ve.push(Ta(ce,ee,he));else ve.push(Ta(te.beforeEnter,ee,he));return ve.push(G),we(ve)}).then(()=>(ee.matched.forEach(te=>te.enterCallbacks={}),ve=ey(j,"beforeRouteEnter",ee,he,A),ve.push(G),we(ve))).then(()=>{ve=[];for(const te of o.list())ve.push(Ta(te,ee,he));return ve.push(G),we(ve)}).catch(te=>Co(te,8)?te:Promise.reject(te))}function U(ee,he,ve){a.list().forEach(Re=>A(()=>Re(ee,he,ve)))}function W(ee,he,ve,Re,Ue){const j=x(ee,he);if(j)return j;const G=he===ma,te=Ku?history.state:{};ve&&(Re||G?r.replace(ee.fullPath,dn({scroll:G&&te&&te.scroll},Ue)):r.push(ee.fullPath,Ue)),u.value=ee,ot(ee,he,ve,G),Ne()}let q;function Pe(){q||(q=r.listen((ee,he,ve)=>{if(!dt.listening)return;const Re=T(ee),Ue=F(Re);if(Ue){k(dn(Ue,{replace:!0,force:!0}),Re).catch(xf);return}c=Re;const j=u.value;Ku&&RB(bC(j.fullPath,ve.delta),f_()),N(Re,j).catch(G=>Co(G,12)?G:Co(G,2)?(k(dn(C(G.to),{force:!0}),Re).then(te=>{Co(te,20)&&!ve.delta&&ve.type===Zf.pop&&r.go(-1,!1)}).catch(xf),Promise.reject()):(ve.delta&&r.go(-ve.delta,!1),me(G,Re,j))).then(G=>{G=G||W(Re,j,!1),G&&(ve.delta&&!Co(G,8)?r.go(-ve.delta,!1):ve.type===Zf.pop&&Co(G,20)&&r.go(-1,!1)),U(Re,j,G)}).catch(xf)}))}let Be=qd(),ye=qd(),_e;function me(ee,he,ve){Ne(ee);const Re=ye.list();return Re.length?Re.forEach(Ue=>Ue(ee,he,ve)):console.error(ee),Promise.reject(ee)}function nt(){return _e&&u.value!==ma?Promise.resolve():new Promise((ee,he)=>{Be.add([ee,he])})}function Ne(ee){return _e||(_e=!ee,Pe(),Be.list().forEach(([he,ve])=>ee?ve(ee):he()),Be.reset()),ee}function ot(ee,he,ve,Re){const{scrollBehavior:Ue}=t;if(!Ku||!Ue)return Promise.resolve();const j=!ve&&PB(bC(ee.fullPath,0))||(Re||!ve)&&history.state&&history.state.scroll||null;return Pt().then(()=>Ue(ee,he,j)).then(G=>G&&AB(G)).catch(G=>me(G,ee,he))}const lt=ee=>r.go(ee);let pt;const Ye=new Set,dt={currentRoute:u,listening:!0,addRoute:v,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:w,resolve:T,options:t,push:I,replace:V,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ye.add,isReady:nt,install(ee){const he=this;ee.component("RouterLink",p_),ee.component("RouterView",rU),ee.config.globalProperties.$router=he,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>m(u)}),Ku&&!pt&&u.value===ma&&(pt=!0,I(r.location).catch(Ue=>{}));const ve={};for(const Ue in ma)Object.defineProperty(ve,Ue,{get:()=>u.value[Ue],enumerable:!0});ee.provide(h_,he),ee.provide(L0,uP(ve)),ee.provide(_w,u);const Re=ee.unmount;Ye.add(ee),ee.unmount=function(){Ye.delete(ee),Ye.size<1&&(c=ma,q&&q(),q=null,u.value=ma,pt=!1,_e=!1),Re()}}};function we(ee){return ee.reduce((he,ve)=>he.then(()=>A(ve)),Promise.resolve())}return dt}function oU(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>wc(c,a))?s.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>wc(c,u))||r.push(u))}return[n,s,r]}function wr(){return ln(h_)}function ao(t){return ln(L0)}function _1(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=_1(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function v1(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=_1(t))&&(s&&(s+=" "),s+=e);return s}const NC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,VC=v1,m_=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return VC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,o=Object.keys(r).map(c=>{const d=n==null?void 0:n[c],h=i==null?void 0:i[c];if(d===null)return null;const g=NC(d)||NC(h);return r[c][g]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,g]=d;return g===void 0||(c[h]=g),c},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,d)=>{let{class:h,className:g,...v}=d;return Object.entries(v).every(y=>{let[w,E]=y;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...c,h,g]:c},[]);return VC(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},D0="-",aU=t=>{const e=uU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const a=o.split(D0);return a[0]===""&&a.length!==1&&a.shift(),y1(a,e)||lU(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&s[o]?[...u,...s[o]]:u}}},y1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?y1(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(D0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},FC=/^\[(.+)\]$/,lU=t=>{if(FC.test(t)){const e=FC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uU=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const r in n)vw(n[r],s,r,e);return s},vw=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:$C(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(cU(r)){vw(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,o])=>{vw(o,$C(e,i),n,s)})})},$C=(t,e)=>{let n=t;return e.split(D0).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},cU=t=>t.isThemeGetter,dU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return r(i,o),o},set(i,o){n.has(i)?n.set(i,o):r(i,o)}}},yw="!",ww=":",fU=ww.length,hU=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=r=>{const i=[];let o=0,a=0,u=0,c;for(let y=0;y<r.length;y++){let w=r[y];if(o===0&&a===0){if(w===ww){i.push(r.slice(u,y)),u=y+fU;continue}if(w==="/"){c=y;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=i.length===0?r:r.substring(u),h=pU(d),g=h!==d,v=c&&c>u?c-u:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:v}};if(e){const r=e+ww,i=s;s=o=>o.startsWith(r)?i(o.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const r=s;s=i=>n({className:i,parseClassName:r})}return s},pU=t=>t.endsWith(yw)?t.substring(0,t.length-1):t.startsWith(yw)?t.substring(1):t,mU=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const r=[];let i=[];return s.forEach(o=>{o[0]==="["||e[o]?(r.push(...i.sort(),o),i=[]):i.push(o)}),r.push(...i.sort()),r}},gU=t=>({cache:dU(t.cacheSize),parseClassName:hU(t),sortModifiers:mU(t),...aU(t)}),_U=/\s+/,vU=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:i}=e,o=[],a=t.trim().split(_U);let u="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:g,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:w}=n(d);if(h){u=d+(u.length>0?" "+u:u);continue}let E=!!w,T=s(E?y.substring(0,w):y);if(!T){if(!E){u=d+(u.length>0?" "+u:u);continue}if(T=s(y),!T){u=d+(u.length>0?" "+u:u);continue}E=!1}const C=i(g).join(":"),x=v?C+yw:C,I=x+T;if(o.includes(I))continue;o.push(I);const V=r(T,E);for(let F=0;F<V.length;++F){const k=V[F];o.push(x+k)}u=d+(u.length>0?" "+u:u)}return u};function yU(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=w1(e))&&(s&&(s+=" "),s+=n);return s}const w1=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=w1(t[s]))&&(n&&(n+=" "),n+=e);return n};function wU(t,...e){let n,s,r,i=o;function o(u){const c=e.reduce((d,h)=>h(d),t());return n=gU(c),s=n.cache.get,r=n.cache.set,i=a,a(u)}function a(u){const c=s(u);if(c)return c;const d=vU(u,n);return r(u,d),d}return function(){return i(yU.apply(null,arguments))}}const _s=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},b1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,E1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,bU=/^\d+\/\d+$/,EU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ju=t=>bU.test(t),Gt=t=>!!t&&!Number.isNaN(Number(t)),bl=t=>!!t&&Number.isInteger(Number(t)),BC=t=>t.endsWith("%")&&Gt(t.slice(0,-1)),ga=t=>EU.test(t),IU=()=>!0,AU=t=>TU.test(t)&&!SU.test(t),M0=()=>!1,RU=t=>CU.test(t),PU=t=>xU.test(t),kU=t=>!et(t)&&!tt(t),OU=t=>jc(t,C1,M0),et=t=>b1.test(t),El=t=>jc(t,x1,AU),ty=t=>jc(t,jU,Gt),LU=t=>jc(t,T1,M0),DU=t=>jc(t,S1,PU),MU=t=>jc(t,M0,RU),tt=t=>E1.test(t),Dp=t=>Hc(t,x1),NU=t=>Hc(t,HU),VU=t=>Hc(t,T1),FU=t=>Hc(t,C1),$U=t=>Hc(t,S1),BU=t=>Hc(t,qU,!0),jc=(t,e,n)=>{const s=b1.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Hc=(t,e,n=!1)=>{const s=E1.exec(t);return s?s[1]?e(s[1]):n:!1},T1=t=>t==="position",UU=new Set(["image","url"]),S1=t=>UU.has(t),zU=new Set(["length","size","percentage"]),C1=t=>zU.has(t),x1=t=>t==="length",jU=t=>t==="number",HU=t=>t==="family-name",qU=t=>t==="shadow",WU=()=>{const t=_s("color"),e=_s("font"),n=_s("text"),s=_s("font-weight"),r=_s("tracking"),i=_s("leading"),o=_s("breakpoint"),a=_s("container"),u=_s("spacing"),c=_s("radius"),d=_s("shadow"),h=_s("inset-shadow"),g=_s("drop-shadow"),v=_s("blur"),y=_s("perspective"),w=_s("aspect"),E=_s("ease"),T=_s("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],F=()=>[tt,et,u],k=()=>[ju,"full","auto",...F()],P=()=>[bl,"none","subgrid",tt,et],A=()=>["auto",{span:["full",bl,tt,et]},tt,et],N=()=>[bl,"auto",tt,et],U=()=>["auto","min","max","fr",tt,et],W=()=>["start","end","center","between","around","evenly","stretch","baseline"],q=()=>["start","end","center","stretch"],Pe=()=>["auto",...F()],Be=()=>[ju,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],ye=()=>[t,tt,et],_e=()=>[BC,El],me=()=>["","none","full",c,tt,et],nt=()=>["",Gt,Dp,El],Ne=()=>["solid","dashed","dotted","double"],ot=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],lt=()=>["","none",v,tt,et],pt=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt,et],Ye=()=>["none",Gt,tt,et],dt=()=>["none",Gt,tt,et],we=()=>[Gt,tt,et],ee=()=>[ju,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ga],breakpoint:[ga],color:[IU],container:[ga],"drop-shadow":[ga],ease:["in","out","in-out"],font:[kU],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ga],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ga],shadow:[ga],spacing:["px",Gt],text:[ga],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ju,et,tt,w]}],container:["container"],columns:[{columns:[Gt,et,tt,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),et,tt]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[bl,"auto",tt,et]}],basis:[{basis:[ju,"full","auto",a,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gt,ju,"auto","initial","none",et]}],grow:[{grow:["",Gt,tt,et]}],shrink:[{shrink:["",Gt,tt,et]}],order:[{order:[bl,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...q(),"baseline"]}],"align-self":[{self:["auto",...q(),"baseline"]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:Pe()}],mx:[{mx:Pe()}],my:[{my:Pe()}],ms:[{ms:Pe()}],me:[{me:Pe()}],mt:[{mt:Pe()}],mr:[{mr:Pe()}],mb:[{mb:Pe()}],ml:[{ml:Pe()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:Be()}],w:[{w:[a,"screen",...Be()]}],"min-w":[{"min-w":[a,"screen","none",...Be()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Be()]}],h:[{h:["screen",...Be()]}],"min-h":[{"min-h":["screen","none",...Be()]}],"max-h":[{"max-h":["screen",...Be()]}],"font-size":[{text:["base",n,Dp,El]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,tt,ty]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",BC,et]}],"font-family":[{font:[NU,et,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,tt,et]}],"line-clamp":[{"line-clamp":[Gt,"none",tt,ty]}],leading:[{leading:[i,...F()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ye()}],"text-color":[{text:ye()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gt,"from-font","auto",tt,El]}],"text-decoration-color":[{decoration:ye()}],"underline-offset":[{"underline-offset":[Gt,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),VU,LU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",FU,OU]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bl,tt,et],radial:["",tt,et],conic:[bl,tt,et]},$U,DU]}],"bg-color":[{bg:ye()}],"gradient-from-pos":[{from:_e()}],"gradient-via-pos":[{via:_e()}],"gradient-to-pos":[{to:_e()}],"gradient-from":[{from:ye()}],"gradient-via":[{via:ye()}],"gradient-to":[{to:ye()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:nt()}],"border-w-x":[{"border-x":nt()}],"border-w-y":[{"border-y":nt()}],"border-w-s":[{"border-s":nt()}],"border-w-e":[{"border-e":nt()}],"border-w-t":[{"border-t":nt()}],"border-w-r":[{"border-r":nt()}],"border-w-b":[{"border-b":nt()}],"border-w-l":[{"border-l":nt()}],"divide-x":[{"divide-x":nt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":nt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:ye()}],"border-color-x":[{"border-x":ye()}],"border-color-y":[{"border-y":ye()}],"border-color-s":[{"border-s":ye()}],"border-color-e":[{"border-e":ye()}],"border-color-t":[{"border-t":ye()}],"border-color-r":[{"border-r":ye()}],"border-color-b":[{"border-b":ye()}],"border-color-l":[{"border-l":ye()}],"divide-color":[{divide:ye()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gt,tt,et]}],"outline-w":[{outline:["",Gt,Dp,El]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,BU,MU]}],"shadow-color":[{shadow:ye()}],"inset-shadow":[{"inset-shadow":["none",tt,et,h]}],"inset-shadow-color":[{"inset-shadow":ye()}],"ring-w":[{ring:nt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ye()}],"ring-offset-w":[{"ring-offset":[Gt,El]}],"ring-offset-color":[{"ring-offset":ye()}],"inset-ring-w":[{"inset-ring":nt()}],"inset-ring-color":[{"inset-ring":ye()}],opacity:[{opacity:[Gt,tt,et]}],"mix-blend":[{"mix-blend":[...ot(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ot()}],filter:[{filter:["","none",tt,et]}],blur:[{blur:lt()}],brightness:[{brightness:[Gt,tt,et]}],contrast:[{contrast:[Gt,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",g,tt,et]}],grayscale:[{grayscale:["",Gt,tt,et]}],"hue-rotate":[{"hue-rotate":[Gt,tt,et]}],invert:[{invert:["",Gt,tt,et]}],saturate:[{saturate:[Gt,tt,et]}],sepia:[{sepia:["",Gt,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":lt()}],"backdrop-brightness":[{"backdrop-brightness":[Gt,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[Gt,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gt,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gt,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",Gt,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[Gt,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[Gt,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",Gt,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gt,"initial",tt,et]}],ease:[{ease:["linear","initial",E,tt,et]}],delay:[{delay:[Gt,tt,et]}],animate:[{animate:["none",T,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,tt,et]}],"perspective-origin":[{"perspective-origin":pt()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:dt()}],"scale-x":[{"scale-x":dt()}],"scale-y":[{"scale-y":dt()}],"scale-z":[{"scale-z":dt()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:pt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:ye()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ye()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...ye()]}],"stroke-w":[{stroke:[Gt,Dp,El,ty]}],stroke:[{stroke:["none",...ye()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},GU=wU(WU);function Fe(...t){return GU(v1(t))}function Mp(t,e){e.value=typeof t=="function"?t(e.value):t}const KU=["top","right","bottom","left"],Ba=Math.min,Ar=Math.max,qm=Math.round,Np=Math.floor,Ki=t=>({x:t,y:t}),ZU={left:"right",right:"left",bottom:"top",top:"bottom"},YU={start:"end",end:"start"};function bw(t,e,n){return Ar(t,Ba(e,n))}function Go(t,e){return typeof t=="function"?t(e):t}function Ko(t){return t.split("-")[0]}function qc(t){return t.split("-")[1]}function N0(t){return t==="x"?"y":"x"}function V0(t){return t==="y"?"height":"width"}function Ua(t){return["top","bottom"].includes(Ko(t))?"y":"x"}function F0(t){return N0(Ua(t))}function QU(t,e,n){n===void 0&&(n=!1);const s=qc(t),r=F0(t),i=V0(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Wm(o)),[o,Wm(o)]}function XU(t){const e=Wm(t);return[Ew(t),e,Ew(e)]}function Ew(t){return t.replace(/start|end/g,e=>YU[e])}function JU(t,e,n){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?i:o;default:return[]}}function e4(t,e,n,s){const r=qc(t);let i=JU(Ko(t),n==="start",s);return r&&(i=i.map(o=>o+"-"+r),e&&(i=i.concat(i.map(Ew)))),i}function Wm(t){return t.replace(/left|right|bottom|top/g,e=>ZU[e])}function t4(t){return{top:0,right:0,bottom:0,left:0,...t}}function I1(t){return typeof t!="number"?t4(t):{top:t,right:t,bottom:t,left:t}}function Gm(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function UC(t,e,n){let{reference:s,floating:r}=t;const i=Ua(e),o=F0(e),a=V0(o),u=Ko(e),c=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,g=s[a]/2-r[a]/2;let v;switch(u){case"top":v={x:d,y:s.y-r.height};break;case"bottom":v={x:d,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:h};break;case"left":v={x:s.x-r.width,y:h};break;default:v={x:s.x,y:s.y}}switch(qc(e)){case"start":v[o]-=g*(n&&c?-1:1);break;case"end":v[o]+=g*(n&&c?-1:1);break}return v}const n4=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=UC(c,s,u),g=s,v={},y=0;for(let w=0;w<a.length;w++){const{name:E,fn:T}=a[w],{x:C,y:x,data:I,reset:V}=await T({x:d,y:h,initialPlacement:s,placement:g,strategy:r,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=C??d,h=x??h,v={...v,[E]:{...v[E],...I}},V&&y<=50&&(y++,typeof V=="object"&&(V.placement&&(g=V.placement),V.rects&&(c=V.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):V.rects),{x:d,y:h}=UC(c,g,u)),w=-1)}return{x:d,y:h,placement:g,strategy:r,middlewareData:v}};async function Yf(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:v=0}=Go(e,t),y=I1(v),E=a[g?h==="floating"?"reference":"floating":h],T=Gm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),C=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},V=Gm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:x,strategy:u}):C);return{top:(T.top-V.top+y.top)/I.y,bottom:(V.bottom-T.bottom+y.bottom)/I.y,left:(T.left-V.left+y.left)/I.x,right:(V.right-T.right+y.right)/I.x}}const s4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=Go(t,e)||{};if(c==null)return{};const h=I1(d),g={x:n,y:s},v=F0(r),y=V0(v),w=await o.getDimensions(c),E=v==="y",T=E?"top":"left",C=E?"bottom":"right",x=E?"clientHeight":"clientWidth",I=i.reference[y]+i.reference[v]-g[v]-i.floating[y],V=g[v]-i.reference[v],F=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=F?F[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(F)))&&(k=a.floating[x]||i.floating[y]);const P=I/2-V/2,A=k/2-w[y]/2-1,N=Ba(h[T],A),U=Ba(h[C],A),W=N,q=k-w[y]-U,Pe=k/2-w[y]/2+P,Be=bw(W,Pe,q),ye=!u.arrow&&qc(r)!=null&&Pe!==Be&&i.reference[y]/2-(Pe<W?N:U)-w[y]/2<0,_e=ye?Pe<W?Pe-W:Pe-q:0;return{[v]:g[v]+_e,data:{[v]:Be,centerOffset:Pe-Be-_e,...ye&&{alignmentOffset:_e}},reset:ye}}}),r4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...E}=Go(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const T=Ko(r),C=Ua(a),x=Ko(a)===a,I=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=g||(x||!w?[Wm(a)]:XU(a)),F=y!=="none";!g&&F&&V.push(...e4(a,w,y,I));const k=[a,...V],P=await Yf(e,E),A=[];let N=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&A.push(P[T]),h){const Pe=QU(r,o,I);A.push(P[Pe[0]],P[Pe[1]])}if(N=[...N,{placement:r,overflows:A}],!A.every(Pe=>Pe<=0)){var U,W;const Pe=(((U=i.flip)==null?void 0:U.index)||0)+1,Be=k[Pe];if(Be)return{data:{index:Pe,overflows:N},reset:{placement:Be}};let ye=(W=N.filter(_e=>_e.overflows[0]<=0).sort((_e,me)=>_e.overflows[1]-me.overflows[1])[0])==null?void 0:W.placement;if(!ye)switch(v){case"bestFit":{var q;const _e=(q=N.filter(me=>{if(F){const nt=Ua(me.placement);return nt===C||nt==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(nt=>nt>0).reduce((nt,Ne)=>nt+Ne,0)]).sort((me,nt)=>me[1]-nt[1])[0])==null?void 0:q[0];_e&&(ye=_e);break}case"initialPlacement":ye=a;break}if(r!==ye)return{reset:{placement:ye}}}return{}}}};function zC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jC(t){return KU.some(e=>t[e]>=0)}const i4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Go(t,e);switch(s){case"referenceHidden":{const i=await Yf(e,{...r,elementContext:"reference"}),o=zC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jC(o)}}}case"escaped":{const i=await Yf(e,{...r,altBoundary:!0}),o=zC(i,n.floating);return{data:{escapedOffsets:o,escaped:jC(o)}}}default:return{}}}}};async function o4(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Ko(n),a=qc(n),u=Ua(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&u?-1:1,h=Go(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),u?{x:v*d,y:g*c}:{x:g*c,y:v*d}}const a4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:o,middlewareData:a}=e,u=await o4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+u.x,y:i+u.y,data:{...u,placement:o}}}}},l4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:T,y:C}=E;return{x:T,y:C}}},...u}=Go(t,e),c={x:n,y:s},d=await Yf(e,u),h=Ua(Ko(r)),g=N0(h);let v=c[g],y=c[h];if(i){const E=g==="y"?"top":"left",T=g==="y"?"bottom":"right",C=v+d[E],x=v-d[T];v=bw(C,v,x)}if(o){const E=h==="y"?"top":"left",T=h==="y"?"bottom":"right",C=y+d[E],x=y-d[T];y=bw(C,y,x)}const w=a.fn({...e,[g]:v,[h]:y});return{...w,data:{x:w.x-n,y:w.y-s,enabled:{[g]:i,[h]:o}}}}}},u4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=Go(t,e),d={x:n,y:s},h=Ua(r),g=N0(h);let v=d[g],y=d[h];const w=Go(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const x=g==="y"?"height":"width",I=i.reference[g]-i.floating[x]+E.mainAxis,V=i.reference[g]+i.reference[x]-E.mainAxis;v<I?v=I:v>V&&(v=V)}if(c){var T,C;const x=g==="y"?"width":"height",I=["top","left"].includes(Ko(r)),V=i.reference[h]-i.floating[x]+(I&&((T=o.offset)==null?void 0:T[h])||0)+(I?0:E.crossAxis),F=i.reference[h]+i.reference[x]+(I?0:((C=o.offset)==null?void 0:C[h])||0)-(I?E.crossAxis:0);y<V?y=V:y>F&&(y=F)}return{[g]:v,[h]:y}}}},c4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:o,elements:a}=e,{apply:u=()=>{},...c}=Go(t,e),d=await Yf(e,c),h=Ko(r),g=qc(r),v=Ua(r)==="y",{width:y,height:w}=i.floating;let E,T;h==="top"||h==="bottom"?(E=h,T=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(T=h,E=g==="end"?"top":"bottom");const C=w-d.top-d.bottom,x=y-d.left-d.right,I=Ba(w-d[E],C),V=Ba(y-d[T],x),F=!e.middlewareData.shift;let k=I,P=V;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=x),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(k=C),F&&!g){const N=Ar(d.left,0),U=Ar(d.right,0),W=Ar(d.top,0),q=Ar(d.bottom,0);v?P=y-2*(N!==0||U!==0?N+U:Ar(d.left,d.right)):k=w-2*(W!==0||q!==0?W+q:Ar(d.top,d.bottom))}await u({...e,availableWidth:P,availableHeight:k});const A=await o.getDimensions(a.floating);return y!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function g_(){return typeof window<"u"}function ru(t){return $0(t)?(t.nodeName||"").toLowerCase():"#document"}function Or(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lo(t){var e;return(e=($0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $0(t){return g_()?t instanceof Node||t instanceof Or(t).Node:!1}function Ti(t){return g_()?t instanceof Element||t instanceof Or(t).Element:!1}function no(t){return g_()?t instanceof HTMLElement||t instanceof Or(t).HTMLElement:!1}function HC(t){return!g_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Or(t).ShadowRoot}function Ih(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Si(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function d4(t){return["table","td","th"].includes(ru(t))}function __(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function B0(t){const e=U0(),n=Ti(t)?Si(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function f4(t){let e=za(t);for(;no(e)&&!Ec(e);){if(B0(e))return e;if(__(e))return null;e=za(e)}return null}function U0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ec(t){return["html","body","#document"].includes(ru(t))}function Si(t){return Or(t).getComputedStyle(t)}function v_(t){return Ti(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function za(t){if(ru(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HC(t)&&t.host||lo(t);return HC(e)?e.host:e}function A1(t){const e=za(t);return Ec(e)?t.ownerDocument?t.ownerDocument.body:t.body:no(e)&&Ih(e)?e:A1(e)}function Qf(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=A1(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),o=Or(r);if(i){const a=Tw(o);return e.concat(o,o.visualViewport||[],Ih(r)?r:[],a&&n?Qf(a):[])}return e.concat(r,Qf(r,[],n))}function Tw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function R1(t){const e=Si(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=no(t),i=r?t.offsetWidth:n,o=r?t.offsetHeight:s,a=qm(n)!==i||qm(s)!==o;return a&&(n=i,s=o),{width:n,height:s,$:a}}function z0(t){return Ti(t)?t:t.contextElement}function uc(t){const e=z0(t);if(!no(e))return Ki(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=R1(e);let o=(i?qm(n.width):n.width)/s,a=(i?qm(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const h4=Ki(0);function P1(t){const e=Or(t);return!U0()||!e.visualViewport?h4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Or(t)?!1:e}function Fl(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=z0(t);let o=Ki(1);e&&(s?Ti(s)&&(o=uc(s)):o=uc(t));const a=p4(i,n,s)?P1(i):Ki(0);let u=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(i){const g=Or(i),v=s&&Ti(s)?Or(s):s;let y=g,w=Tw(y);for(;w&&s&&v!==y;){const E=uc(w),T=w.getBoundingClientRect(),C=Si(w),x=T.left+(w.clientLeft+parseFloat(C.paddingLeft))*E.x,I=T.top+(w.clientTop+parseFloat(C.paddingTop))*E.y;u*=E.x,c*=E.y,d*=E.x,h*=E.y,u+=x,c+=I,y=Or(w),w=Tw(y)}}return Gm({width:d,height:h,x:u,y:c})}function j0(t,e){const n=v_(t).scrollLeft;return e?e.left+n:Fl(lo(t)).left+n}function k1(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),r=s.left+e.scrollLeft-(n?0:j0(t,s)),i=s.top+e.scrollTop;return{x:r,y:i}}function m4(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",o=lo(s),a=e?__(e.floating):!1;if(s===o||a&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Ki(1);const d=Ki(0),h=no(s);if((h||!h&&!i)&&((ru(s)!=="body"||Ih(o))&&(u=v_(s)),no(s))){const v=Fl(s);c=uc(s),d.x=v.x+s.clientLeft,d.y=v.y+s.clientTop}const g=o&&!h&&!i?k1(o,u,!0):Ki(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+g.x,y:n.y*c.y-u.scrollTop*c.y+d.y+g.y}}function g4(t){return Array.from(t.getClientRects())}function _4(t){const e=lo(t),n=v_(t),s=t.ownerDocument.body,r=Ar(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=Ar(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+j0(t);const a=-n.scrollTop;return Si(s).direction==="rtl"&&(o+=Ar(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}function v4(t,e){const n=Or(t),s=lo(t),r=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,u=0;if(r){i=r.width,o=r.height;const c=U0();(!c||c&&e==="fixed")&&(a=r.offsetLeft,u=r.offsetTop)}return{width:i,height:o,x:a,y:u}}function y4(t,e){const n=Fl(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=no(t)?uc(t):Ki(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,u=r*i.x,c=s*i.y;return{width:o,height:a,x:u,y:c}}function qC(t,e,n){let s;if(e==="viewport")s=v4(t,n);else if(e==="document")s=_4(lo(t));else if(Ti(e))s=y4(e,n);else{const r=P1(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Gm(s)}function O1(t,e){const n=za(t);return n===e||!Ti(n)||Ec(n)?!1:Si(n).position==="fixed"||O1(n,e)}function w4(t,e){const n=e.get(t);if(n)return n;let s=Qf(t,[],!1).filter(a=>Ti(a)&&ru(a)!=="body"),r=null;const i=Si(t).position==="fixed";let o=i?za(t):t;for(;Ti(o)&&!Ec(o);){const a=Si(o),u=B0(o);!u&&a.position==="fixed"&&(r=null),(i?!u&&!r:!u&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ih(o)&&!u&&O1(t,o))?s=s.filter(d=>d!==o):r=a,o=za(o)}return e.set(t,s),s}function b4(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?__(e)?[]:w4(e,this._c):[].concat(n),s],a=o[0],u=o.reduce((c,d)=>{const h=qC(e,d,r);return c.top=Ar(h.top,c.top),c.right=Ba(h.right,c.right),c.bottom=Ba(h.bottom,c.bottom),c.left=Ar(h.left,c.left),c},qC(e,a,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function E4(t){const{width:e,height:n}=R1(t);return{width:e,height:n}}function T4(t,e,n){const s=no(e),r=lo(e),i=n==="fixed",o=Fl(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const u=Ki(0);if(s||!s&&!i)if((ru(e)!=="body"||Ih(r))&&(a=v_(e)),s){const g=Fl(e,!0,i,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else r&&(u.x=j0(r));const c=r&&!s&&!i?k1(r,a):Ki(0),d=o.left+a.scrollLeft-u.x-c.x,h=o.top+a.scrollTop-u.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function ny(t){return Si(t).position==="static"}function WC(t,e){if(!no(t)||Si(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lo(t)===n&&(n=n.ownerDocument.body),n}function L1(t,e){const n=Or(t);if(__(t))return n;if(!no(t)){let r=za(t);for(;r&&!Ec(r);){if(Ti(r)&&!ny(r))return r;r=za(r)}return n}let s=WC(t,e);for(;s&&d4(s)&&ny(s);)s=WC(s,e);return s&&Ec(s)&&ny(s)&&!B0(s)?n:s||f4(t)||n}const S4=async function(t){const e=this.getOffsetParent||L1,n=this.getDimensions,s=await n(t.floating);return{reference:T4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function C4(t){return Si(t).direction==="rtl"}const x4={convertOffsetParentRelativeRectToViewportRelativeRect:m4,getDocumentElement:lo,getClippingRect:b4,getOffsetParent:L1,getElementRects:S4,getClientRects:g4,getDimensions:E4,getScale:uc,isElement:Ti,isRTL:C4};function D1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function I4(t,e){let n=null,s;const r=lo(t);function i(){var a;clearTimeout(s),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:g,height:v}=c;if(a||e(),!g||!v)return;const y=Np(h),w=Np(r.clientWidth-(d+g)),E=Np(r.clientHeight-(h+v)),T=Np(d),x={rootMargin:-y+"px "+-w+"px "+-E+"px "+-T+"px",threshold:Ar(0,Ba(1,u))||1};let I=!0;function V(F){const k=F[0].intersectionRatio;if(k!==u){if(!I)return o();k?o(!1,k):s=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!D1(c,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(V,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(V,x)}n.observe(t)}return o(!0),i}function A4(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,c=z0(t),d=r||i?[...c?Qf(c):[],...Qf(e)]:[];d.forEach(T=>{r&&T.addEventListener("scroll",n,{passive:!0}),i&&T.addEventListener("resize",n)});const h=c&&a?I4(c,n):null;let g=-1,v=null;o&&(v=new ResizeObserver(T=>{let[C]=T;C&&C.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(e)})),n()}),c&&!u&&v.observe(c),v.observe(e));let y,w=u?Fl(t):null;u&&E();function E(){const T=Fl(t);w&&!D1(w,T)&&n(),w=T,y=requestAnimationFrame(E)}return n(),()=>{var T;d.forEach(C=>{r&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),h==null||h(),(T=v)==null||T.disconnect(),v=null,u&&cancelAnimationFrame(y)}}const R4=a4,P4=l4,GC=r4,k4=c4,O4=i4,L4=s4,D4=u4,M4=(t,e,n)=>{const s=new Map,r={platform:x4,...n},i={...r.platform,_c:s};return n4(t,e,{...r,platform:i})};function N4(t){return t!=null&&typeof t=="object"&&"$el"in t}function Sw(t){if(N4(t)){const e=t.$el;return $0(e)&&ru(e)==="#comment"?null:e}return t}function Zu(t){return typeof t=="function"?t():m(t)}function V4(t){return{name:"arrow",options:t,fn(e){const n=Sw(Zu(t.element));return n==null?{}:L4({element:n,padding:t.padding}).fn(e)}}}function M1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KC(t,e){const n=M1(t);return Math.round(e*n)/n}function F4(t,e,n){n===void 0&&(n={});const s=n.whileElementsMounted,r=Q(()=>{var k;return(k=Zu(n.open))!=null?k:!0}),i=Q(()=>Zu(n.middleware)),o=Q(()=>{var k;return(k=Zu(n.placement))!=null?k:"bottom"}),a=Q(()=>{var k;return(k=Zu(n.strategy))!=null?k:"absolute"}),u=Q(()=>{var k;return(k=Zu(n.transform))!=null?k:!0}),c=Q(()=>Sw(t.value)),d=Q(()=>Sw(e.value)),h=Z(0),g=Z(0),v=Z(a.value),y=Z(o.value),w=Cs({}),E=Z(!1),T=Q(()=>{const k={position:v.value,left:"0",top:"0"};if(!d.value)return k;const P=KC(d.value,h.value),A=KC(d.value,g.value);return u.value?{...k,transform:"translate("+P+"px, "+A+"px)",...M1(d.value)>=1.5&&{willChange:"transform"}}:{position:v.value,left:P+"px",top:A+"px"}});let C;function x(){if(c.value==null||d.value==null)return;const k=r.value;M4(c.value,d.value,{middleware:i.value,placement:o.value,strategy:a.value}).then(P=>{h.value=P.x,g.value=P.y,v.value=P.strategy,y.value=P.placement,w.value=P.middlewareData,E.value=k!==!1})}function I(){typeof C=="function"&&(C(),C=void 0)}function V(){if(I(),s===void 0){x();return}if(c.value!=null&&d.value!=null){C=s(c.value,d.value,x);return}}function F(){r.value||(E.value=!1)}return ct([i,o,a,r],x,{flush:"sync"}),ct([c,d],V,{flush:"sync"}),ct(r,F,{flush:"sync"}),su()&&zc(I),{x:Tl(h),y:Tl(g),strategy:Tl(v),placement:Tl(y),middlewareData:Tl(w),isPositioned:Tl(E),floatingStyles:T,update:x}}function H0(t){return t?t.flatMap(e=>e.type===Ke?H0(e.children):[e]):[]}const Km=K({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{var u,c;if(!n.default)return null;const s=H0(n.default()),r=s.findIndex(d=>d.type!==to);if(r===-1)return s;const i=s[r];(u=i.props)==null||delete u.ref;const o=i.props?fe(e,i.props):e;e.class&&((c=i.props)!=null&&c.class)&&delete i.props.class;const a=Vl(i,o);for(const d in o)d.startsWith("on")&&(a.props||(a.props={}),a.props[d]=o[d]);return s.length===1?a:(s[r]=a,s)}}}),$4=["area","img","input"],Xe=K({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const s=t.asChild?"template":t.as;return typeof s=="string"&&$4.includes(s)?()=>Ft(s,e):s!=="template"?()=>Ft(t.as,e,{default:n.default}):()=>Ft(Km,e,{default:n.default})}}),Ah=K({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>($(),Y(m(Xe),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:O(()=>[J(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function B4(t,e){var n;const s=Cs();return qn(()=>{s.value=t()},{...e,flush:(n=void 0)!=null?n:"sync"}),rl(s)}function iu(t){return su()?(zc(t),!0):!1}function U4(){const t=new Set,e=i=>{t.delete(i)};return{on:i=>{t.add(i);const o=()=>e(i);return iu(o),{off:o}},off:e,trigger:(...i)=>Promise.all(Array.from(t).map(o=>o(...i))),clear:()=>{t.clear()}}}function z4(t){let e=!1,n;const s=Uc(!0);return(...r)=>(e||(n=s.run(()=>t(...r)),e=!0),n)}function N1(t){let e=0,n,s;const r=()=>{e-=1,s&&e<=0&&(s.stop(),n=void 0,s=void 0)};return(...i)=>(e+=1,s||(s=Uc(!0),n=s.run(()=>t(...i))),iu(r),n)}const uo=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const j4=t=>typeof t<"u",H4=Object.prototype.toString,q4=t=>H4.call(t)==="[object Object]",Cw=()=>{},ZC=W4();function W4(){var t,e;return uo&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function G4(t,e){function n(...s){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(i)})}return n}function K4(t,e={}){let n,s,r=Cw;const i=u=>{clearTimeout(u),r(),r=Cw};let o;return u=>{const c=ke(t),d=ke(e.maxWait);return n&&i(n),c<=0||d!==void 0&&d<=0?(s&&(i(s),s=null),Promise.resolve(u())):new Promise((h,g)=>{r=e.rejectOnCancel?g:h,o=u,d&&!s&&(s=setTimeout(()=>{n&&i(n),s=null,h(o())},d)),n=setTimeout(()=>{s&&i(s),s=null,h(u())},c)})}}function Z4(t){return ps()}function sy(t){return Array.isArray(t)?t:[t]}function V1(t,e=1e4){return T0((n,s)=>{let r=ke(t),i;const o=()=>setTimeout(()=>{r=ke(t),s()},ke(e));return iu(()=>{clearTimeout(i)}),{get(){return n(),r},set(a){r=a,s(),clearTimeout(i),i=o()}}})}function F1(t,e=200,n={}){return G4(K4(e,n),t)}const Y4=ke;function Q4(t,e){Z4()&&ra(t,e)}function q0(t,e,n={}){const{immediate:s=!0,immediateCallback:r=!1}=n,i=Cs(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function u(){i.value=!1,a()}function c(...d){r&&t(),a(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...d)},ke(e))}return s&&(i.value=!0,uo&&c()),iu(u),{isPending:rl(i),start:c,stop:u}}function X4(t=1e3,e={}){const{controls:n=!1,callback:s}=e,r=q0(s??Cw,t,e),i=Q(()=>!r.isPending.value);return n?{ready:i,...r}:i}function J4(t,e,n){return ct(t,e,{...n,immediate:!0})}function ez(t,e,n){const s=ct(t,(...r)=>(Pt(()=>s()),e(...r)),n);return s}const Rh=uo?window:void 0;function Jr(t){var e;const n=ke(t);return(e=n==null?void 0:n.$el)!=null?e:n}function ja(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},s=(a,u,c,d)=>(a.addEventListener(u,c,d),()=>a.removeEventListener(u,c,d)),r=Q(()=>{const a=sy(ke(t[0])).filter(u=>u!=null);return a.every(u=>typeof u!="string")?a:void 0}),i=J4(()=>{var a,u;return[(u=(a=r.value)==null?void 0:a.map(c=>Jr(c)))!=null?u:[Rh].filter(c=>c!=null),sy(ke(r.value?t[1]:t[0])),sy(m(r.value?t[2]:t[1])),ke(r.value?t[3]:t[2])]},([a,u,c,d])=>{if(n(),!(a!=null&&a.length)||!(u!=null&&u.length)||!(c!=null&&c.length))return;const h=q4(d)?{...d}:d;e.push(...a.flatMap(g=>u.flatMap(v=>c.map(y=>s(g,v,y,h)))))},{flush:"post"}),o=()=>{i(),n()};return iu(n),o}function W0(){const t=Cs(!1),e=ps();return e&&bt(()=>{t.value=!0},e),t}function tz(t){const e=W0();return Q(()=>(e.value,!!t()))}function nz(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function G0(...t){let e,n,s={};t.length===3?(e=t[0],n=t[1],s=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,n=t[0],s=t[1]):(e=t[0],n=t[1]):(e=!0,n=t[0]);const{target:r=Rh,eventName:i="keydown",passive:o=!1,dedupe:a=!1}=s,u=nz(e);return ja(r,i,d=>{d.repeat&&ke(a)||u(d)&&n(d)},o)}function $1(t,e={}){const{immediate:n=!0,fpsLimit:s=void 0,window:r=Rh,once:i=!1}=e,o=Cs(!1),a=Q(()=>s?1e3/ke(s):null);let u=0,c=null;function d(v){if(!o.value||!r)return;u||(u=v);const y=v-u;if(a.value&&y<a.value){c=r.requestAnimationFrame(d);return}if(u=v,t({delta:y,timestamp:v}),i){o.value=!1,c=null;return}c=r.requestAnimationFrame(d)}function h(){!o.value&&r&&(o.value=!0,u=0,c=r.requestAnimationFrame(d))}function g(){o.value=!1,c!=null&&r&&(r.cancelAnimationFrame(c),c=null)}return n&&h(),iu(g),{isActive:rl(o),pause:g,resume:h}}function sz(t){return JSON.parse(JSON.stringify(t))}function $l(t,e,n={}){const{window:s=Rh,...r}=n;let i;const o=tz(()=>s&&"ResizeObserver"in s),a=()=>{i&&(i.disconnect(),i=void 0)},u=Q(()=>{const h=ke(t);return Array.isArray(h)?h.map(g=>Jr(g)):[Jr(h)]}),c=ct(u,h=>{if(a(),o.value&&s){i=new ResizeObserver(e);for(const g of h)g&&i.observe(g,r)}},{immediate:!0,flush:"post"}),d=()=>{a(),c()};return iu(d),{isSupported:o,stop:d}}function Mr(t,e,n,s={}){var r,i,o;const{clone:a=!1,passive:u=!1,eventName:c,deep:d=!1,defaultValue:h,shouldEmit:g}=s,v=ps(),y=n||(v==null?void 0:v.emit)||((r=v==null?void 0:v.$emit)==null?void 0:r.bind(v))||((o=(i=v==null?void 0:v.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(v==null?void 0:v.proxy));let w=c;e||(e="modelValue"),w=w||`update:${e.toString()}`;const E=x=>a?typeof a=="function"?a(x):sz(x):x,T=()=>j4(t[e])?E(t[e]):h,C=x=>{g?g(x)&&y(w,x):y(w,x)};if(u){const x=T(),I=Z(x);let V=!1;return ct(()=>t[e],F=>{V||(V=!0,I.value=E(F),Pt(()=>V=!1))}),ct(I,F=>{!V&&(F!==t[e]||d)&&C(F)},{deep:d}),I}else return Q({get(){return T()},set(x){C(x)}})}function gn(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,s=Symbol(n);return[o=>{const a=ln(s,o);if(a||a===null)return a;throw new Error(`Injection \`${s.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(rs(s,o),o)]}function YC(t){return typeof t=="string"?`'${t}'`:new rz().serialize(t)}const rz=function(){var e;class t{constructor(){FS(this,e,new Map)}compare(s,r){const i=typeof s,o=typeof r;return i==="string"&&o==="string"?s.localeCompare(r):i==="number"&&o==="number"?s-r:String.prototype.localeCompare.call(this.serialize(s,!0),this.serialize(r,!0))}serialize(s,r){if(s===null)return"null";switch(typeof s){case"string":return r?s:`'${s}'`;case"bigint":return`${s}n`;case"object":return this.$object(s);case"function":return this.$function(s)}return String(s)}serializeObject(s){const r=Object.prototype.toString.call(s);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),s);const i=s.constructor,o=i===Object||i===void 0?"":i.name;if(o!==""&&globalThis[o]===i)return this.serializeBuiltInType(o,s);if(typeof s.toJSON=="function"){const a=s.toJSON();return o+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(o,Object.entries(s))}serializeBuiltInType(s,r){const i=this["$"+s];if(i)return i.call(this,r);if(typeof(r==null?void 0:r.entries)=="function")return this.serializeObjectEntries(s,r.entries());throw new Error(`Cannot serialize ${s}`)}serializeObjectEntries(s,r){const i=Array.from(r).sort((a,u)=>this.compare(a[0],u[0]));let o=`${s}{`;for(let a=0;a<i.length;a++){const[u,c]=i[a];o+=`${this.serialize(u,!0)}:${this.serialize(c)}`,a<i.length-1&&(o+=",")}return o+"}"}$object(s){let r=Ud(this,e).get(s);return r===void 0&&(Ud(this,e).set(s,`#${Ud(this,e).size}`),r=this.serializeObject(s),Ud(this,e).set(s,r)),r}$function(s){const r=Function.prototype.toString.call(s);return r.slice(-15)==="[native code] }"?`${s.name||""}()[native]`:`${s.name}(${s.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(s){let r="[";for(let i=0;i<s.length;i++)r+=this.serialize(s[i]),i<s.length-1&&(r+=",");return r+"]"}$Date(s){try{return`Date(${s.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(s){return`ArrayBuffer[${new Uint8Array(s).join(",")}]`}$Set(s){return`Set${this.$Array(Array.from(s).sort((r,i)=>this.compare(r,i)))}`}$Map(s){return this.serializeObjectEntries("Map",s.entries())}}e=new WeakMap;for(const n of["Error","RegExp","URL"])t.prototype["$"+n]=function(s){return`${n}(${s})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+n]=function(s){return`${n}[${s.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])t.prototype["$"+n]=function(s){return`${n}[${s.join("n,")}${s.length>0?"n":""}]`};return t}();function Xf(t,e){return t===e||YC(t)===YC(e)}function Jf(t){return t==null}function QC(t,e){return Jf(t)?!1:Array.isArray(t)?t.some(n=>Xf(n,e)):Xf(t,e)}const[y_,_de]=gn("ConfigProvider");function ou(t){const e=y_({dir:Z("ltr")});return Q(()=>{var n;return(t==null?void 0:t.value)||((n=e.dir)==null?void 0:n.value)||"ltr"})}function $e(){const t=ps(),e=Z(),n=Q(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:Jr(e)}),s=Object.assign({},t.exposed),r={};for(const o in t.props)Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(s).length>0)for(const o in s)Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>s[o]});Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=r;function i(o){e.value=o,o&&(Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=r)}return{forwardRef:i,currentRef:e,currentElement:n}}const iz=["INPUT","TEXTAREA"];function oz(t,e,n,s={}){if(!e||s.enableIgnoredElement&&iz.includes(e.nodeName))return null;const{arrowKeyOptions:r="both",attributeName:i="[data-reka-collection-item]",itemsArray:o=[],loop:a=!0,dir:u="ltr",preventScroll:c=!0,focus:d=!1}=s,[h,g,v,y,w,E]=[t.key==="ArrowRight",t.key==="ArrowLeft",t.key==="ArrowUp",t.key==="ArrowDown",t.key==="Home",t.key==="End"],T=v||y,C=h||g;if(!w&&!E&&(!T&&!C||r==="vertical"&&C||r==="horizontal"&&T))return null;const x=n?Array.from(n.querySelectorAll(i)):o;if(!x.length)return null;c&&t.preventDefault();let I=null;return C||T?I=B1(x,e,{goForward:T?y:u==="ltr"?h:g,loop:a}):w?I=x.at(0)||null:E&&(I=x.at(-1)||null),d&&(I==null||I.focus()),I}function B1(t,e,n,s=t.length){if(--s===0)return null;const r=t.indexOf(e),i=n.goForward?r+1:r-1;if(!n.loop&&(i<0||i>=t.length))return null;const o=(i+t.length)%t.length,a=t[o];return a?a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false"?B1(t,a,n,s):a:null}let az=0;function Ci(t,e="reka"){const n=y_({useId:void 0});return GS?`${e}-${GS()}`:n.useId?`${e}-${n.useId()}`:`${e}-${++az}`}function U1(t,e){const n=Z(t);function s(i){return e[n.value][i]??n.value}return{state:n,dispatch:i=>{n.value=s(i)}}}function lz(t,e){var E;const n=Z({}),s=Z("none"),r=Z(t),i=t.value?"mounted":"unmounted";let o;const a=((E=e.value)==null?void 0:E.ownerDocument.defaultView)??Rh,{state:u,dispatch:c}=U1(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),d=T=>{var C;if(uo){const x=new CustomEvent(T,{bubbles:!1,cancelable:!1});(C=e.value)==null||C.dispatchEvent(x)}};ct(t,async(T,C)=>{var I;const x=C!==T;if(await Pt(),x){const V=s.value,F=Vp(e.value);T?(c("MOUNT"),d("enter"),F==="none"&&d("after-enter")):F==="none"||F==="undefined"||((I=n.value)==null?void 0:I.display)==="none"?(c("UNMOUNT"),d("leave"),d("after-leave")):C&&V!==F?(c("ANIMATION_OUT"),d("leave")):(c("UNMOUNT"),d("after-leave"))}},{immediate:!0});const h=T=>{const C=Vp(e.value),x=C.includes(T.animationName),I=u.value==="mounted"?"enter":"leave";if(T.target===e.value&&x&&(d(`after-${I}`),c("ANIMATION_END"),!r.value)){const V=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a==null?void 0:a.setTimeout(()=>{var F;((F=e.value)==null?void 0:F.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=V)})}T.target===e.value&&C==="none"&&c("ANIMATION_END")},g=T=>{T.target===e.value&&(s.value=Vp(e.value))},v=ct(e,(T,C)=>{T?(n.value=getComputedStyle(T),T.addEventListener("animationstart",g),T.addEventListener("animationcancel",h),T.addEventListener("animationend",h)):(c("ANIMATION_END"),o!==void 0&&(a==null||a.clearTimeout(o)),C==null||C.removeEventListener("animationstart",g),C==null||C.removeEventListener("animationcancel",h),C==null||C.removeEventListener("animationend",h))},{immediate:!0}),y=ct(u,()=>{const T=Vp(e.value);s.value=u.value==="mounted"?T:"none"});return Is(()=>{v(),y()}),{isPresent:Q(()=>["mounted","unmountSuspended"].includes(u.value))}}function Vp(t){return t&&getComputedStyle(t).animationName||"none"}const Pi=K({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:n}){var c;const{present:s,forceMount:r}=$n(t),i=Z(),{isPresent:o}=lz(s,i);n({present:o});let a=e.default({present:o.value});a=H0(a||[]);const u=ps();if(a&&(a==null?void 0:a.length)>1){const d=(c=u==null?void 0:u.parent)!=null&&c.type.name?`<${u.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${d}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}return()=>r.value||s.value||o.value?Ft(e.default({present:o.value})[0],{ref:d=>{const h=Jr(d);return typeof(h==null?void 0:h.hasAttribute)>"u"||(h!=null&&h.hasAttribute("data-reka-popper-content-wrapper")?i.value=h.firstElementChild:i.value=h),h}}):null}}),[co,uz]=gn("DialogRoot"),z1=K({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,r=Mr(n,"open",e,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=Z(),o=Z(),{modal:a}=$n(n);return uz({open:r,modal:a,openModal:()=>{r.value=!0},onOpenChange:u=>{r.value=u},onOpenToggle:()=>{r.value=!r.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:o}),(u,c)=>J(u.$slots,"default",{open:m(r)})}}),j1=K({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;$e();const n=co();return(s,r)=>($(),Y(m(Xe),fe(e,{type:s.as==="button"?"button":void 0,onClick:r[0]||(r[0]=i=>m(n).onOpenChange(!1))}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["type"]))}});function Ph(t){const e=ps(),n=e==null?void 0:e.type.emits,s={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),n==null||n.forEach(r=>{s[wf(_r(r))]=(...i)=>t(r,...i)}),s}function w_(t,e,n){const s=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),s.dispatchEvent(r)}const cz="dismissableLayer.pointerDownOutside",dz="dismissableLayer.focusOutside";function H1(t,e){const n=e.closest("[data-dismissable-layer]"),s=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),r=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(s===n||r.indexOf(s)<r.indexOf(n)))}function fz(t,e){var i;const n=((i=e==null?void 0:e.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=Z(!1),r=Z(()=>{});return qn(o=>{if(!uo)return;const a=async c=>{const d=c.target;if(!(!(e!=null&&e.value)||!d)){if(H1(e.value,d)){s.value=!1;return}if(c.target&&!s.value){let h=function(){w_(cz,t,g)};const g={originalEvent:c};c.pointerType==="touch"?(n.removeEventListener("click",r.value),r.value=h,n.addEventListener("click",r.value,{once:!0})):h()}else n.removeEventListener("click",r.value);s.value=!1}},u=window.setTimeout(()=>{n.addEventListener("pointerdown",a)},0);o(()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",a),n.removeEventListener("click",r.value)})}),{onPointerDownCapture:()=>s.value=!0}}function hz(t,e){var r;const n=((r=e==null?void 0:e.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=Z(!1);return qn(i=>{if(!uo)return;const o=async a=>{if(!(e!=null&&e.value))return;await Pt(),await Pt();const u=a.target;!e.value||!u||H1(e.value,u)||a.target&&!s.value&&w_(dz,t,{originalEvent:a})};n.addEventListener("focusin",o),i(()=>n.removeEventListener("focusin",o))}),{onFocusCapture:()=>s.value=!0,onBlurCapture:()=>s.value=!1}}const ci=vr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b_=K({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r,currentElement:i}=$e(),o=Q(()=>{var y;return((y=i.value)==null?void 0:y.ownerDocument)??globalThis.document}),a=Q(()=>ci.layersRoot),u=Q(()=>i.value?Array.from(a.value).indexOf(i.value):-1),c=Q(()=>ci.layersWithOutsidePointerEventsDisabled.size>0),d=Q(()=>{const y=Array.from(a.value),[w]=[...ci.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(w);return u.value>=E}),h=fz(async y=>{const w=[...ci.branches].some(E=>E==null?void 0:E.contains(y.target));!d.value||w||(s("pointerDownOutside",y),s("interactOutside",y),await Pt(),y.defaultPrevented||s("dismiss"))},i),g=hz(y=>{[...ci.branches].some(E=>E==null?void 0:E.contains(y.target))||(s("focusOutside",y),s("interactOutside",y),y.defaultPrevented||s("dismiss"))},i);G0("Escape",y=>{u.value===a.value.size-1&&(s("escapeKeyDown",y),y.defaultPrevented||s("dismiss"))});let v;return qn(y=>{i.value&&(n.disableOutsidePointerEvents&&(ci.layersWithOutsidePointerEventsDisabled.size===0&&(v=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),ci.layersWithOutsidePointerEventsDisabled.add(i.value)),a.value.add(i.value),y(()=>{n.disableOutsidePointerEvents&&ci.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=v)}))}),qn(y=>{y(()=>{i.value&&(a.value.delete(i.value),ci.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(y,w)=>($(),Y(m(Xe),{ref:m(r),"as-child":y.asChild,as:y.as,"data-dismissable-layer":"",style:Ls({pointerEvents:c.value?d.value?"auto":"none":void 0}),onFocusCapture:m(g).onFocusCapture,onBlurCapture:m(g).onBlurCapture,onPointerdownCapture:m(h).onPointerDownCapture},{default:O(()=>[J(y.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});function fs(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const pz="menu.itemSelect",xw=["Enter"," "],mz=["ArrowDown","PageUp","Home"],q1=["ArrowUp","PageDown","End"],gz=[...mz,...q1];[...xw],[...xw];function W1(t){return t?"open":"closed"}function Iw(t){const e=fs();for(const n of t)if(n===e||(n.focus(),fs()!==e))return}function _z(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,d=e[o].y;u>s!=d>s&&n<(c-a)*(s-u)/(d-u)+a&&(r=!r)}return r}function vz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return _z(n,e)}function Aw(t){return t.pointerType==="mouse"}const yz=z4(()=>Z([]));function wz(){const t=yz();return{add(e){const n=t.value[0];e!==n&&(n==null||n.pause()),t.value=XC(t.value,e),t.value.unshift(e)},remove(e){var n;t.value=XC(t.value,e),(n=t.value[0])==null||n.resume()}}}function XC(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function bz(t){return t.filter(e=>e.tagName!=="A")}const ry="focusScope.autoFocusOnMount",iy="focusScope.autoFocusOnUnmount",JC={bubbles:!1,cancelable:!0};function _m(t,{select:e=!1}={}){const n=fs();for(const s of t)if(ya(s,{select:e}),fs()!==n)return!0}function Ez(t){const e=K0(t),n=ex(e,t),s=ex(e.reverse(),t);return[n,s]}function K0(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ex(t,e){for(const n of t)if(!Tz(n,{upTo:e}))return n}function Tz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Sz(t){return t instanceof HTMLInputElement&&"select"in t}function ya(t,{select:e=!1}={}){if(t&&t.focus){const n=fs();t.focus({preventScroll:!0}),t!==n&&Sz(t)&&e&&t.select()}}const Z0=K({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const n=t,s=e,{currentRef:r,currentElement:i}=$e(),o=Z(null),a=wz(),u=vr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});qn(d=>{if(!uo)return;const h=i.value;if(!n.trapped)return;function g(E){if(u.paused||!h)return;const T=E.target;h.contains(T)?o.value=T:ya(o.value,{select:!0})}function v(E){if(u.paused||!h)return;const T=E.relatedTarget;T!==null&&(h.contains(T)||ya(o.value,{select:!0}))}function y(E){h.contains(o.value)||ya(h)}document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(y);h&&w.observe(h,{childList:!0,subtree:!0}),d(()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()})}),qn(async d=>{const h=i.value;if(await Pt(),!h)return;a.add(u);const g=fs();if(!h.contains(g)){const y=new CustomEvent(ry,JC);h.addEventListener(ry,w=>s("mountAutoFocus",w)),h.dispatchEvent(y),y.defaultPrevented||(_m(bz(K0(h)),{select:!0}),fs()===g&&ya(h))}d(()=>{h.removeEventListener(ry,E=>s("mountAutoFocus",E));const y=new CustomEvent(iy,JC),w=E=>{s("unmountAutoFocus",E)};h.addEventListener(iy,w),h.dispatchEvent(y),setTimeout(()=>{y.defaultPrevented||ya(g??document.body,{select:!0}),h.removeEventListener(iy,w),a.remove(u)},0)})});function c(d){if(!n.loop&&!n.trapped||u.paused)return;const h=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,g=fs();if(h&&g){const v=d.currentTarget,[y,w]=Ez(v);y&&w?!d.shiftKey&&g===w?(d.preventDefault(),n.loop&&ya(y,{select:!0})):d.shiftKey&&g===y&&(d.preventDefault(),n.loop&&ya(w,{select:!0})):g===v&&d.preventDefault()}}return(d,h)=>($(),Y(m(Xe),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":d.asChild,as:d.as,onKeydown:c},{default:O(()=>[J(d.$slots,"default")]),_:3},8,["as-child","as"]))}}),G1=K({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=co(),{forwardRef:i,currentElement:o}=$e();return r.titleId||(r.titleId=Ci(void 0,"reka-dialog-title")),r.descriptionId||(r.descriptionId=Ci(void 0,"reka-dialog-description")),bt(()=>{r.contentElement=o,fs()!==document.body&&(r.triggerElement.value=fs())}),(a,u)=>($(),Y(m(Z0),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:u[5]||(u[5]=c=>s("openAutoFocus",c)),onUnmountAutoFocus:u[6]||(u[6]=c=>s("closeAutoFocus",c))},{default:O(()=>[M(m(b_),fe({id:m(r).contentId,ref:m(i),as:a.as,"as-child":a.asChild,"disable-outside-pointer-events":a.disableOutsidePointerEvents,role:"dialog","aria-describedby":m(r).descriptionId,"aria-labelledby":m(r).titleId,"data-state":m(W1)(m(r).open.value)},a.$attrs,{onDismiss:u[0]||(u[0]=c=>m(r).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=c=>s("escapeKeyDown",c)),onFocusOutside:u[2]||(u[2]=c=>s("focusOutside",c)),onInteractOutside:u[3]||(u[3]=c=>s("interactOutside",c)),onPointerDownOutside:u[4]||(u[4]=c=>s("pointerDownOutside",c))}),{default:O(()=>[J(a.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}});var Cz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hu=new WeakMap,Fp=new WeakMap,$p={},oy=0,K1=function(t){return t&&(t.host||K1(t.parentNode))},xz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=K1(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Iz=function(t,e,n,s){var r=xz(e,Array.isArray(t)?t:[t]);$p[n]||($p[n]=new WeakMap);var i=$p[n],o=[],a=new Set,u=new Set(r),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};r.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(g){if(a.has(g))d(g);else try{var v=g.getAttribute(s),y=v!==null&&v!=="false",w=(Hu.get(g)||0)+1,E=(i.get(g)||0)+1;Hu.set(g,w),i.set(g,E),o.push(g),w===1&&y&&Fp.set(g,!0),E===1&&g.setAttribute(n,"true"),y||g.setAttribute(s,"true")}catch(T){console.error("aria-hidden: cannot operate on ",g,T)}})};return d(e),a.clear(),oy++,function(){o.forEach(function(h){var g=Hu.get(h)-1,v=i.get(h)-1;Hu.set(h,g),i.set(h,v),g||(Fp.has(h)||h.removeAttribute(s),Fp.delete(h)),v||h.removeAttribute(n)}),oy--,oy||(Hu=new WeakMap,Hu=new WeakMap,Fp=new WeakMap,$p={})}},Az=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=Cz(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),Iz(s,r,n,"aria-hidden")):function(){return null}};function Y0(t){let e;ct(()=>Jr(t),n=>{n?e=Az(n):e&&e()}),Is(()=>{e&&e()})}const Rz=K({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=co(),i=Ph(s),{forwardRef:o,currentElement:a}=$e();return Y0(a),(u,c)=>($(),Y(G1,fe({...n,...m(i)},{ref:m(o),"trap-focus":m(r).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:c[0]||(c[0]=d=>{var h;d.defaultPrevented||(d.preventDefault(),(h=m(r).triggerElement.value)==null||h.focus())}),onPointerDownOutside:c[1]||(c[1]=d=>{const h=d.detail.originalEvent,g=h.button===0&&h.ctrlKey===!0;(h.button===2||g)&&d.preventDefault()}),onFocusOutside:c[2]||(c[2]=d=>{d.preventDefault()})}),{default:O(()=>[J(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Pz=K({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,r=Ph(e);$e();const i=co(),o=Z(!1),a=Z(!1);return(u,c)=>($(),Y(G1,fe({...n,...m(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=d=>{var h;d.defaultPrevented||(o.value||(h=m(i).triggerElement.value)==null||h.focus(),d.preventDefault()),o.value=!1,a.value=!1}),onInteractOutside:c[1]||(c[1]=d=>{var v;d.defaultPrevented||(o.value=!0,d.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const h=d.target;((v=m(i).triggerElement.value)==null?void 0:v.contains(h))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&a.value&&d.preventDefault()})}),{default:O(()=>[J(u.$slots,"default")]),_:3},16))}}),Z1=K({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=co(),i=Ph(s),{forwardRef:o}=$e();return(a,u)=>($(),Y(m(Pi),{present:a.forceMount||m(r).open.value},{default:O(()=>[m(r).modal.value?($(),Y(Rz,fe({key:0,ref:m(o)},{...n,...m(i),...a.$attrs}),{default:O(()=>[J(a.$slots,"default")]),_:3},16)):($(),Y(Pz,fe({key:1,ref:m(o)},{...n,...m(i),...a.$attrs}),{default:O(()=>[J(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),kz=K({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(t){const e=t;$e();const n=co();return(s,r)=>($(),Y(m(Xe),fe(e,{id:m(n).descriptionId}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["id"]))}});function ay(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Rw(t,e,n=".",s){if(!ay(e))return Rw(t,{},n,s);const r=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(s&&s(r,i,o,n)||(Array.isArray(o)&&Array.isArray(r[i])?r[i]=[...o,...r[i]]:ay(o)&&ay(r[i])?r[i]=Rw(o,r[i],(n?`${n}.`:"")+i.toString(),s):r[i]=o))}return r}function Oz(t){return(...e)=>e.reduce((n,s)=>Rw(n,s,"",t),{})}const Lz=Oz(),Dz=N1(()=>{const t=Z(new Map),e=Z(),n=Q(()=>{for(const o of t.value.values())if(o)return!0;return!1}),s=y_({scrollBody:Z(!0)});let r=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",ZC&&(r==null||r()),e.value=void 0};return ct(n,(o,a)=>{var h;if(!uo)return;if(!o){a&&i();return}e.value===void 0&&(e.value=document.body.style.overflow);const u=window.innerWidth-document.documentElement.clientWidth,c={padding:u,margin:0},d=(h=s.scrollBody)!=null&&h.value?typeof s.scrollBody.value=="object"?Lz({padding:s.scrollBody.value.padding===!0?u:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?u:s.scrollBody.value.margin},c):c:{padding:0,margin:0};u>0&&(document.body.style.paddingRight=typeof d.padding=="number"?`${d.padding}px`:String(d.padding),document.body.style.marginRight=typeof d.margin=="number"?`${d.margin}px`:String(d.margin),document.body.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),ZC&&(r=ja(document,"touchmove",g=>Mz(g),{passive:!1})),Pt(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function Q0(t){const e=Math.random().toString(36).substring(2,7),n=Dz();n.value.set(e,t??!1);const s=Q({get:()=>n.value.get(e)??!1,set:r=>n.value.set(e,r)});return Q4(()=>{n.value.delete(e)}),s}function Y1(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Y1(n)}}function Mz(t){const e=t||window.event,n=e.target;return n instanceof Element&&Y1(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}const Nz=K({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(t){const e=co();return Q0(!0),$e(),(n,s)=>($(),Y(m(Xe),{as:n.as,"as-child":n.asChild,"data-state":m(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:O(()=>[J(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Q1=K({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=co(),{forwardRef:n}=$e();return(s,r)=>{var i;return(i=m(e))!=null&&i.modal.value?($(),Y(m(Pi),{key:0,present:s.forceMount||m(e).open.value},{default:O(()=>[M(Nz,fe(s.$attrs,{ref:m(n),as:s.as,"as-child":s.asChild}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):Ht("",!0)}}}),E_=K({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=W0();return(n,s)=>m(e)||n.forceMount?($(),Y(C0,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[J(n.$slots,"default")],8,["to","disabled","defer"])):Ht("",!0)}});function br(t){const e=ps(),n=Object.keys((e==null?void 0:e.type.props)??{}).reduce((r,i)=>{const o=(e==null?void 0:e.type.props[i]).default;return o!==void 0&&(r[i]=o),r},{}),s=Oo(t);return Q(()=>{const r={},i=(e==null?void 0:e.vnode.props)??{};return Object.keys(i).forEach(o=>{r[_r(o)]=i[o]}),Object.keys({...n,...r}).reduce((o,a)=>(s.value[a]!==void 0&&(o[a]=s.value[a]),o),{})})}function as(t,e){const n=br(t),s=e?Ph(e):{};return Q(()=>({...n.value,...s}))}const Vz=K({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(t){const e=t,n=co();return $e(),(s,r)=>($(),Y(m(Xe),fe(e,{id:m(n).titleId}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["id"]))}}),Fz=K({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=co(),{forwardRef:s,currentElement:r}=$e();return n.contentId||(n.contentId=Ci(void 0,"reka-dialog-content")),bt(()=>{n.triggerElement.value=r.value}),(i,o)=>($(),Y(m(Xe),fe(e,{ref:m(s),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":m(n).open.value||!1,"aria-controls":m(n).open.value?m(n).contentId:void 0,"data-state":m(n).open.value?"open":"closed",onClick:m(n).onOpenToggle}),{default:O(()=>[J(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}});function Pw(){const t=Z(),e=Q(()=>{var n,s;return["#text","#comment"].includes((n=t.value)==null?void 0:n.$el.nodeName)?(s=t.value)==null?void 0:s.$el.nextElementSibling:Jr(t)});return{primitiveElement:t,currentElement:e}}function kh(t){return Q(()=>{var e;return Y4(t)?!!((e=Jr(t))!=null&&e.closest("form")):!0})}const tx="data-reka-collection-item";function rr(t={}){const{key:e="",isProvider:n=!1}=t,s=`${e}CollectionProvider`;let r;if(n){const d=Z(new Map);r={collectionRef:Z(),itemMap:d},rs(s,r)}else r=ln(s);const i=(d=!1)=>{const h=r.collectionRef.value;if(!h)return[];const g=Array.from(h.querySelectorAll(`[${tx}]`)),y=Array.from(r.itemMap.value.values()).sort((w,E)=>g.indexOf(w.ref)-g.indexOf(E.ref));return d?y:y.filter(w=>w.ref.dataset.disabled!=="")},o=K({name:"CollectionSlot",setup(d,{slots:h}){const{primitiveElement:g,currentElement:v}=Pw();return ct(v,()=>{r.collectionRef.value=v.value}),()=>Ft(Km,{ref:g},h)}}),a=K({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(d,{slots:h,attrs:g}){const{primitiveElement:v,currentElement:y}=Pw();return qn(w=>{if(y.value){const E=oo(y.value);r.itemMap.value.set(E,{ref:y.value,value:d.value}),w(()=>r.itemMap.value.delete(E))}}),()=>Ft(Km,{...g,[tx]:"",ref:v},h)}}),u=Q(()=>Array.from(r.itemMap.value.values())),c=Q(()=>r.itemMap.value.size);return{getItems:i,reactiveItems:u,itemMapSize:c,CollectionSlot:o,CollectionItem:a}}const $z="rovingFocusGroup.onEntryFocus",Bz={bubbles:!1,cancelable:!0},Uz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function jz(t,e,n){const s=zz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Uz[s]}function X1(t,e=!1){const n=fs();for(const s of t)if(s===n||(s.focus({preventScroll:e}),fs()!==n))return}function Hz(t,e){return t.map((n,s)=>t[(e+s)%t.length])}const[qz,Wz]=gn("RovingFocusGroup"),J1=K({__name:"RovingFocusGroup",props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},preventScrollOnEntryFocus:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:n}){const s=t,r=n,{loop:i,orientation:o,dir:a}=$n(s),u=ou(a),c=Mr(s,"currentTabStopId",r,{defaultValue:s.defaultCurrentTabStopId,passive:s.currentTabStopId===void 0}),d=Z(!1),h=Z(!1),g=Z(0),{getItems:v,CollectionSlot:y}=rr({isProvider:!0});function w(T){const C=!h.value;if(T.currentTarget&&T.target===T.currentTarget&&C&&!d.value){const x=new CustomEvent($z,Bz);if(T.currentTarget.dispatchEvent(x),r("entryFocus",x),!x.defaultPrevented){const I=v().map(P=>P.ref).filter(P=>P.dataset.disabled!==""),V=I.find(P=>P.getAttribute("data-active")===""),F=I.find(P=>P.id===c.value),k=[V,F,...I].filter(Boolean);X1(k,s.preventScrollOnEntryFocus)}}h.value=!1}function E(){setTimeout(()=>{h.value=!1},1)}return e({getItems:v}),Wz({loop:i,dir:u,orientation:o,currentTabStopId:c,onItemFocus:T=>{c.value=T},onItemShiftTab:()=>{d.value=!0},onFocusableItemAdd:()=>{g.value++},onFocusableItemRemove:()=>{g.value--}}),(T,C)=>($(),Y(m(y),null,{default:O(()=>[M(m(Xe),{tabindex:d.value||g.value===0?-1:0,"data-orientation":m(o),as:T.as,"as-child":T.asChild,dir:m(u),style:{outline:"none"},onMousedown:C[0]||(C[0]=x=>h.value=!0),onMouseup:E,onFocus:w,onBlur:C[1]||(C[1]=x=>d.value=!1)},{default:O(()=>[J(T.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),nx=K({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:s}=Pw(),r=Q(()=>e.checked??e.value);return ct(r,(i,o)=>{if(!s.value)return;const a=s.value,u=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(d&&i!==o){const h=new Event("input",{bubbles:!0}),g=new Event("change",{bubbles:!0});d.call(a,i),a.dispatchEvent(h),a.dispatchEvent(g)}}),(i,o)=>($(),Y(Ah,fe({ref_key:"primitiveElement",ref:n},{...e,...i.$attrs},{as:"input"}),null,16))}}),T_=K({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,n=Q(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),s=Q(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((r,i)=>typeof r=="object"?Object.entries(r).map(([o,a])=>({name:`[${e.name}][${i}][${o}]`,value:a})):{name:`[${e.name}][${i}]`,value:r}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([r,i])=>({name:`[${e.name}][${r}]`,value:i})):[]);return(r,i)=>n.value?($(),Y(nx,fe({key:r.name},{...e,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):($(!0),ie(Ke,{key:1},jt(s.value,o=>($(),Y(nx,fe({key:o.name,ref_for:!0},{...e,...r.$attrs},{name:o.name,value:o.value}),null,16,["name","value"]))),128))}}),[Gz,vde]=gn("CheckboxGroupRoot");function Zm(t){return t==="indeterminate"}function ek(t){return Zm(t)?"indeterminate":t?"checked":"unchecked"}const tk=K({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=qz(),s=Ci(),r=Q(()=>e.tabStopId||s),i=Q(()=>n.currentTabStopId.value===r.value),{getItems:o,CollectionItem:a}=rr();bt(()=>{e.focusable&&n.onFocusableItemAdd()}),Is(()=>{e.focusable&&n.onFocusableItemRemove()});function u(c){if(c.key==="Tab"&&c.shiftKey){n.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const d=jz(c,n.orientation.value,n.dir.value);if(d!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||!e.allowShiftKey&&c.shiftKey)return;c.preventDefault();let h=[...o().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")];if(d==="last")h.reverse();else if(d==="prev"||d==="next"){d==="prev"&&h.reverse();const g=h.indexOf(c.currentTarget);h=n.loop.value?Hz(h,g+1):h.slice(g+1)}Pt(()=>X1(h))}}return(c,d)=>($(),Y(m(a),null,{default:O(()=>[M(m(Xe),{tabindex:i.value?0:-1,"data-orientation":m(n).orientation.value,"data-active":c.active?"":void 0,"data-disabled":c.focusable?void 0:"",as:c.as,"as-child":c.asChild,onMousedown:d[0]||(d[0]=h=>{c.focusable?m(n).onItemFocus(r.value):h.preventDefault()}),onFocus:d[1]||(d[1]=h=>m(n).onItemFocus(r.value)),onKeydown:u},{default:O(()=>[J(c.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Kz,Zz]=gn("CheckboxRoot"),Yz=K({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r,currentElement:i}=$e(),o=Gz(null),a=Mr(n,"modelValue",s,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),u=Q(()=>(o==null?void 0:o.disabled.value)||n.disabled),c=Q(()=>Jf(o==null?void 0:o.modelValue.value)?a.value==="indeterminate"?"indeterminate":a.value:QC(o.modelValue.value,n.value));function d(){if(Jf(o==null?void 0:o.modelValue.value))a.value=Zm(a.value)?!0:!a.value;else{const v=[...o.modelValue.value||[]];if(QC(v,n.value)){const y=v.findIndex(w=>Xf(w,n.value));v.splice(y,1)}else v.push(n.value);o.modelValue.value=v}}const h=kh(i),g=Q(()=>{var v;return n.id&&i.value?(v=document.querySelector(`[for="${n.id}"]`))==null?void 0:v.innerText:void 0});return Zz({disabled:u,state:c}),(v,y)=>{var w,E;return $(),Y(bi((w=m(o))!=null&&w.rovingFocus.value?m(tk):m(Xe)),fe(v.$attrs,{id:v.id,ref:m(r),role:"checkbox","as-child":v.asChild,as:v.as,type:v.as==="button"?"button":void 0,"aria-checked":m(Zm)(c.value)?"mixed":c.value,"aria-required":v.required,"aria-label":v.$attrs["aria-label"]||g.value,"data-state":m(ek)(c.value),"data-disabled":u.value?"":void 0,disabled:u.value,focusable:(E=m(o))!=null&&E.rovingFocus.value?!u.value:void 0,onKeydown:k0(xs(()=>{},["prevent"]),["enter"]),onClick:d}),{default:O(()=>[J(v.$slots,"default",{modelValue:m(a),state:c.value}),m(h)&&v.name&&!m(o)?($(),Y(m(T_),{key:0,type:"checkbox",checked:!!c.value,name:v.name,value:v.value,disabled:u.value,required:v.required},null,8,["checked","name","value","disabled","required"])):Ht("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),Qz=K({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e}=$e(),n=Kz();return(s,r)=>($(),Y(m(Pi),{present:s.forceMount||m(Zm)(m(n).state.value)||m(n).state.value===!0},{default:O(()=>[M(m(Xe),fe({ref:m(e),"data-state":m(ek)(m(n).state.value),"data-disabled":m(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":s.asChild,as:s.as},s.$attrs),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[nk,Xz]=gn("PopperRoot"),X0=K({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=Z();return Xz({anchor:e,onAnchorChange:n=>e.value=n}),(n,s)=>J(n.$slots,"default")}}),J0=K({__name:"PopperAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:s}=$e(),r=nk();return qP(()=>{r.onAnchorChange(e.reference??s.value)}),(i,o)=>($(),Y(m(Xe),{ref:m(n),as:i.as,"as-child":i.asChild},{default:O(()=>[J(i.$slots,"default")]),_:3},8,["as","as-child"]))}});function Jz(t){return t!==null}function e3(t){return{name:"transformOrigin",options:t,fn(e){var E,T,C;const{placement:n,rects:s,middlewareData:r}=e,o=((E=r.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=kw(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(((T=r.arrow)==null?void 0:T.x)??0)+a/2,v=(((C=r.arrow)==null?void 0:C.y)??0)+u/2;let y="",w="";return c==="bottom"?(y=o?h:`${g}px`,w=`${-u}px`):c==="top"?(y=o?h:`${g}px`,w=`${s.floating.height+u}px`):c==="right"?(y=`${-u}px`,w=o?h:`${v}px`):c==="left"&&(y=`${s.floating.width+u}px`,w=o?h:`${v}px`),{data:{x:y,y:w}}}}}function kw(t){const[e,n="center"]=t.split("-");return[e,n]}function sk(t){const e=Z(),n=Q(()=>{var r;return((r=e.value)==null?void 0:r.width)??0}),s=Q(()=>{var r;return((r=e.value)==null?void 0:r.height)??0});return bt(()=>{const r=Jr(t);if(r){e.value={width:r.offsetWidth,height:r.offsetHeight};const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;u=h.inlineSize,c=h.blockSize}else u=r.offsetWidth,c=r.offsetHeight;e.value={width:u,height:c}});return i.observe(r,{box:"border-box"}),()=>i.unobserve(r)}else e.value=void 0}),{width:n,height:s}}const rk={side:"bottom",sideOffset:0,align:"center",alignOffset:0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[yde,t3]=gn("PopperContent"),eE=K({inheritAttrs:!1,__name:"PopperContent",props:kP({side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...rk}),emits:["placed"],setup(t,{emit:e}){const n=t,s=e,r=nk(),{forwardRef:i,currentElement:o}=$e(),a=Z(),u=Z(),{width:c,height:d}=sk(u),h=Q(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),g=Q(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),v=Q(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),y=Q(()=>({padding:g.value,boundary:v.value.filter(Jz),altBoundary:v.value.length>0})),w=B4(()=>[R4({mainAxis:n.sideOffset+d.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&GC({...y.value}),n.avoidCollisions&&P4({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?D4():void 0,...y.value}),!n.prioritizePosition&&n.avoidCollisions&&GC({...y.value}),k4({...y.value,apply:({elements:U,rects:W,availableWidth:q,availableHeight:Pe})=>{const{width:Be,height:ye}=W.reference,_e=U.floating.style;_e.setProperty("--reka-popper-available-width",`${q}px`),_e.setProperty("--reka-popper-available-height",`${Pe}px`),_e.setProperty("--reka-popper-anchor-width",`${Be}px`),_e.setProperty("--reka-popper-anchor-height",`${ye}px`)}}),u.value&&V4({element:u.value,padding:n.arrowPadding}),e3({arrowWidth:c.value,arrowHeight:d.value}),n.hideWhenDetached&&O4({strategy:"referenceHidden",...y.value})]),E=Q(()=>n.reference??r.anchor.value),{floatingStyles:T,placement:C,isPositioned:x,middlewareData:I}=F4(E,a,{strategy:n.positionStrategy,placement:h,whileElementsMounted:(...U)=>A4(...U,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:w}),V=Q(()=>kw(C.value)[0]),F=Q(()=>kw(C.value)[1]);qP(()=>{x.value&&s("placed")});const k=Q(()=>{var U;return((U=I.value.arrow)==null?void 0:U.centerOffset)!==0}),P=Z("");qn(()=>{o.value&&(P.value=window.getComputedStyle(o.value).zIndex)});const A=Q(()=>{var U;return((U=I.value.arrow)==null?void 0:U.x)??0}),N=Q(()=>{var U;return((U=I.value.arrow)==null?void 0:U.y)??0});return t3({placedSide:V,onArrowChange:U=>u.value=U,arrowX:A,arrowY:N,shouldHideArrow:k}),(U,W)=>{var q,Pe,Be;return $(),ie("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:Ls({...m(T),transform:m(x)?m(T).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P.value,"--reka-popper-transform-origin":[(q=m(I).transformOrigin)==null?void 0:q.x,(Pe=m(I).transformOrigin)==null?void 0:Pe.y].join(" "),...((Be=m(I).hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[M(m(Xe),fe({ref:m(i)},U.$attrs,{"as-child":n.asChild,as:U.as,"data-side":V.value,"data-align":F.value,style:{animation:m(x)?void 0:"none"}}),{default:O(()=>[J(U.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}});function tE(t){const e=V1("",1e3);return{search:e,handleTypeaheadSearch:(r,i)=>{e.value=e.value+r;{const o=fs(),a=i.map(g=>{var v,y;return{...g,textValue:((v=g.value)==null?void 0:v.textValue)??((y=g.ref.textContent)==null?void 0:y.trim())??""}}),u=a.find(g=>g.ref===o),c=a.map(g=>g.textValue),d=s3(c,e.value,u==null?void 0:u.textValue),h=a.find(g=>g.textValue===d);return h&&h.ref.focus(),h==null?void 0:h.ref}},resetTypeahead:()=>{e.value=""}}}function n3(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function s3(t,e,n){const r=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=n3(t,Math.max(i,0));r.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function ik(t){const e=y_({nonce:Z()});return Q(()=>{var n;return(t==null?void 0:t.value)||((n=e.nonce)==null?void 0:n.value)})}function r3(){const t=Z(!1);return bt(()=>{ja("keydown",()=>{t.value=!0},{capture:!0,passive:!0}),ja(["pointerdown","pointermove"],()=>{t.value=!1},{capture:!0,passive:!0})}),t}const i3=N1(r3),[S_,o3]=gn(["MenuRoot","MenuSub"],"MenuContext"),[nE,a3]=gn("MenuRoot"),l3=K({__name:"MenuRoot",props:{open:{type:Boolean,default:!1},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,s=e,{modal:r,dir:i}=$n(n),o=ou(i),a=Mr(n,"open",s),u=Z(),c=i3();return o3({open:a,onOpenChange:d=>{a.value=d},content:u,onContentChange:d=>{u.value=d}}),a3({onClose:()=>{a.value=!1},isUsingKeyboardRef:c,dir:o,modal:r}),(d,h)=>($(),Y(m(X0),null,{default:O(()=>[J(d.$slots,"default")]),_:3}))}});let ly=0;function ok(){qn(t=>{if(!uo)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??sx()),document.body.insertAdjacentElement("beforeend",e[1]??sx()),ly++,t(()=>{ly===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),ly--})})}function sx(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}const[ak,u3]=gn("MenuContent"),lk=K({__name:"MenuContentImpl",props:kP({loop:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},disableOutsideScroll:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},{...rk}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(t,{emit:e}){const n=t,s=e,r=S_(),i=nE(),{trapFocus:o,disableOutsidePointerEvents:a,loop:u}=$n(n);ok(),Q0(a.value);const c=Z(""),d=Z(0),h=Z(0),g=Z(null),v=Z("right"),y=Z(0),w=Z(null),E=Z(),{forwardRef:T,currentElement:C}=$e(),{handleTypeaheadSearch:x}=tE();ct(C,A=>{r.onContentChange(A)}),Is(()=>{window.clearTimeout(d.value)});function I(A){var U,W;return v.value===((U=g.value)==null?void 0:U.side)&&vz(A,(W=g.value)==null?void 0:W.area)}async function V(A){var N;s("openAutoFocus",A),!A.defaultPrevented&&(A.preventDefault(),(N=C.value)==null||N.focus({preventScroll:!0}))}function F(A){var _e;if(A.defaultPrevented)return;const U=A.target.closest("[data-reka-menu-content]")===A.currentTarget,W=A.ctrlKey||A.altKey||A.metaKey,q=A.key.length===1,Pe=oz(A,fs(),C.value,{loop:u.value,arrowKeyOptions:"vertical",dir:i==null?void 0:i.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(Pe)return Pe==null?void 0:Pe.focus();if(A.code==="Space")return;const Be=((_e=E.value)==null?void 0:_e.getItems())??[];if(U&&(A.key==="Tab"&&A.preventDefault(),!W&&q&&x(A.key,Be)),A.target!==C.value||!gz.includes(A.key))return;A.preventDefault();const ye=[...Be.map(me=>me.ref)];q1.includes(A.key)&&ye.reverse(),Iw(ye)}function k(A){var N,U;(U=(N=A==null?void 0:A.currentTarget)==null?void 0:N.contains)!=null&&U.call(N,A.target)||(window.clearTimeout(d.value),c.value="")}function P(A){var W;if(!Aw(A))return;const N=A.target,U=y.value!==A.clientX;if((W=A==null?void 0:A.currentTarget)!=null&&W.contains(N)&&U){const q=A.clientX>y.value?"right":"left";v.value=q,y.value=A.clientX}}return u3({onItemEnter:A=>!!I(A),onItemLeave:A=>{var N;I(A)||((N=C.value)==null||N.focus(),w.value=null)},onTriggerLeave:A=>!!I(A),searchRef:c,pointerGraceTimerRef:h,onPointerGraceIntentChange:A=>{g.value=A}}),(A,N)=>($(),Y(m(Z0),{"as-child":"",trapped:m(o),onMountAutoFocus:V,onUnmountAutoFocus:N[7]||(N[7]=U=>s("closeAutoFocus",U))},{default:O(()=>[M(m(b_),{"as-child":"","disable-outside-pointer-events":m(a),onEscapeKeyDown:N[2]||(N[2]=U=>s("escapeKeyDown",U)),onPointerDownOutside:N[3]||(N[3]=U=>s("pointerDownOutside",U)),onFocusOutside:N[4]||(N[4]=U=>s("focusOutside",U)),onInteractOutside:N[5]||(N[5]=U=>s("interactOutside",U)),onDismiss:N[6]||(N[6]=U=>s("dismiss"))},{default:O(()=>[M(m(J1),{ref_key:"rovingFocusGroupRef",ref:E,"current-tab-stop-id":w.value,"onUpdate:currentTabStopId":N[0]||(N[0]=U=>w.value=U),"as-child":"",orientation:"vertical",dir:m(i).dir.value,loop:m(u),onEntryFocus:N[1]||(N[1]=U=>{s("entryFocus",U),m(i).isUsingKeyboardRef.value||U.preventDefault()})},{default:O(()=>[M(m(eE),{ref:m(T),role:"menu",as:A.as,"as-child":A.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":m(W1)(m(r).open.value),dir:m(i).dir.value,side:A.side,"side-offset":A.sideOffset,align:A.align,"align-offset":A.alignOffset,"avoid-collisions":A.avoidCollisions,"collision-boundary":A.collisionBoundary,"collision-padding":A.collisionPadding,"arrow-padding":A.arrowPadding,"prioritize-position":A.prioritizePosition,"position-strategy":A.positionStrategy,"update-position-strategy":A.updatePositionStrategy,sticky:A.sticky,"hide-when-detached":A.hideWhenDetached,reference:A.reference,onKeydown:F,onBlur:k,onPointermove:P},{default:O(()=>[J(A.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),c3=K({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=ak(),{forwardRef:s}=$e(),{CollectionItem:r}=rr(),i=Z(!1);async function o(u){if(!u.defaultPrevented&&Aw(u)){if(e.disabled)n.onItemLeave(u);else if(!n.onItemEnter(u)){const d=u.currentTarget;d==null||d.focus({preventScroll:!0})}}}async function a(u){await Pt(),!u.defaultPrevented&&Aw(u)&&n.onItemLeave(u)}return(u,c)=>($(),Y(m(r),{value:{textValue:u.textValue}},{default:O(()=>[M(m(Xe),fe({ref:m(s),role:"menuitem",tabindex:"-1"},u.$attrs,{as:u.as,"as-child":u.asChild,"aria-disabled":u.disabled||void 0,"data-disabled":u.disabled?"":void 0,"data-highlighted":i.value?"":void 0,onPointermove:o,onPointerleave:a,onFocus:c[0]||(c[0]=async d=>{await Pt(),!(d.defaultPrevented||u.disabled)&&(i.value=!0)}),onBlur:c[1]||(c[1]=async d=>{await Pt(),!d.defaultPrevented&&(i.value=!1)})}),{default:O(()=>[J(u.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),d3=K({__name:"MenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r,currentElement:i}=$e(),o=nE(),a=ak(),u=Z(!1);async function c(){const d=i.value;if(!n.disabled&&d){const h=new CustomEvent(pz,{bubbles:!0,cancelable:!0});s("select",h),await Pt(),h.defaultPrevented?u.value=!1:o.onClose()}}return(d,h)=>($(),Y(c3,fe(n,{ref:m(r),onClick:c,onPointerdown:h[0]||(h[0]=()=>{u.value=!0}),onPointerup:h[1]||(h[1]=async g=>{var v;await Pt(),!g.defaultPrevented&&(u.value||(v=g.currentTarget)==null||v.click())}),onKeydown:h[2]||(h[2]=async g=>{const v=m(a).searchRef.value!=="";d.disabled||v&&g.key===" "||m(xw).includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})}),{default:O(()=>[J(d.$slots,"default")]),_:3},16))}}),f3=K({__name:"MenuRootContentModal",props:{loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=as(n,s),i=S_(),{forwardRef:o,currentElement:a}=$e();return Y0(a),(u,c)=>($(),Y(lk,fe(m(r),{ref:m(o),"trap-focus":m(i).open.value,"disable-outside-pointer-events":m(i).open.value,"disable-outside-scroll":!0,onDismiss:c[0]||(c[0]=d=>m(i).onOpenChange(!1)),onFocusOutside:c[1]||(c[1]=xs(d=>s("focusOutside",d),["prevent"]))}),{default:O(()=>[J(u.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),h3=K({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=as(t,e),i=S_();return(o,a)=>($(),Y(lk,fe(m(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:a[0]||(a[0]=u=>m(i).onOpenChange(!1))}),{default:O(()=>[J(o.$slots,"default")]),_:3},16))}}),p3=K({__name:"MenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=as(t,e),i=S_(),o=nE();return(a,u)=>($(),Y(m(Pi),{present:a.forceMount||m(i).open.value},{default:O(()=>[m(o).modal.value?($(),Y(f3,on(fe({key:0},{...a.$attrs,...m(r)})),{default:O(()=>[J(a.$slots,"default")]),_:3},16)):($(),Y(h3,on(fe({key:1},{...a.$attrs,...m(r)})),{default:O(()=>[J(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),m3=K({__name:"MenuLabel",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t;return(n,s)=>($(),Y(m(Xe),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),g3=K({__name:"MenuPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,s)=>($(),Y(m(E_),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),_3=K({__name:"MenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(Xe),fe(e,{role:"separator","aria-orientation":"horizontal"}),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),v3=K({__name:"MenuAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(J0),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),uk=K({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,s)=>($(),Y(m(E_),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),[ck,y3]=gn("DropdownMenuRoot"),w3=K({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean},open:{type:Boolean,default:void 0},dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:e}){const n=t,s=e;$e();const r=Mr(n,"open",s,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=Z(),{modal:o,dir:a}=$n(n),u=ou(a);return y3({open:r,onOpenChange:c=>{r.value=c},onOpenToggle:()=>{r.value=!r.value},triggerId:"",triggerElement:i,contentId:"",modal:o,dir:u}),(c,d)=>($(),Y(m(l3),{open:m(r),"onUpdate:open":d[0]||(d[0]=h=>Dt(r)?r.value=h:null),dir:m(u),modal:m(o)},{default:O(()=>[J(c.$slots,"default",{open:m(r)})]),_:3},8,["open","dir","modal"]))}}),b3=K({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const r=as(t,e);$e();const i=ck(),o=Z(!1);function a(u){u.defaultPrevented||(o.value||setTimeout(()=>{var c;(c=i.triggerElement.value)==null||c.focus()},0),o.value=!1,u.preventDefault())}return i.contentId||(i.contentId=Ci(void 0,"reka-dropdown-menu-content")),(u,c)=>{var d;return $(),Y(m(p3),fe(m(r),{id:m(i).contentId,"aria-labelledby":(d=m(i))==null?void 0:d.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:a,onInteractOutside:c[0]||(c[0]=h=>{var w;if(h.defaultPrevented)return;const g=h.detail.originalEvent,v=g.button===0&&g.ctrlKey===!0,y=g.button===2||v;(!m(i).modal.value||y)&&(o.value=!0),(w=m(i).triggerElement.value)!=null&&w.contains(h.target)&&h.preventDefault()})}),{default:O(()=>[J(u.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),E3=K({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,r=Ph(e);return $e(),(i,o)=>($(),Y(m(d3),on(un({...n,...m(r)})),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),T3=K({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return $e(),(n,s)=>($(),Y(m(m3),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),S3=K({__name:"DropdownMenuPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,s)=>($(),Y(m(g3),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),C3=K({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return $e(),(n,s)=>($(),Y(m(_3),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),x3=K({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=ck(),{forwardRef:s,currentElement:r}=$e();return bt(()=>{n.triggerElement=r}),n.triggerId||(n.triggerId=Ci(void 0,"reka-dropdown-menu-trigger")),(i,o)=>($(),Y(m(v3),{"as-child":""},{default:O(()=>[M(m(Xe),{id:m(n).triggerId,ref:m(s),type:i.as==="button"?"button":void 0,"as-child":e.asChild,as:i.as,"aria-haspopup":"menu","aria-expanded":m(n).open.value,"aria-controls":m(n).open.value?m(n).contentId:void 0,"data-disabled":i.disabled?"":void 0,disabled:i.disabled,"data-state":m(n).open.value?"open":"closed",onClick:o[0]||(o[0]=async a=>{var u;!i.disabled&&a.button===0&&a.ctrlKey===!1&&((u=m(n))==null||u.onOpenToggle(),await Pt(),m(n).open.value&&a.preventDefault())}),onKeydown:o[1]||(o[1]=k0(a=>{i.disabled||(["Enter"," "].includes(a.key)&&m(n).onOpenToggle(),a.key==="ArrowDown"&&m(n).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())},["enter","space","arrow-down"]))},{default:O(()=>[J(i.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}});function I3(t,e){const n=V1(!1,300),s=Z(null),r=U4();function i(){s.value=null,n.value=!1}function o(a,u){const c=a.currentTarget,d={x:a.clientX,y:a.clientY},h=A3(d,c.getBoundingClientRect()),g=R3(d,h),v=P3(u.getBoundingClientRect()),y=O3([...g,...v]);s.value=y,n.value=!0}return qn(a=>{if(t.value&&e.value){const u=d=>o(d,e.value),c=d=>o(d,t.value);t.value.addEventListener("pointerleave",u),e.value.addEventListener("pointerleave",c),a(()=>{var d,h;(d=t.value)==null||d.removeEventListener("pointerleave",u),(h=e.value)==null||h.removeEventListener("pointerleave",c)})}}),qn(a=>{var u;if(s.value){const c=d=>{var E,T;if(!s.value||!(d.target instanceof HTMLElement))return;const h=d.target,g={x:d.clientX,y:d.clientY},v=((E=t.value)==null?void 0:E.contains(h))||((T=e.value)==null?void 0:T.contains(h)),y=!k3(g,s.value),w=!!h.closest("[data-grace-area-trigger]");v?i():(y||w)&&(i(),r.trigger())};(u=t.value)==null||u.ownerDocument.addEventListener("pointermove",c),a(()=>{var d;return(d=t.value)==null?void 0:d.ownerDocument.removeEventListener("pointermove",c)})}}),{isPointerInTransit:n,onPointerExit:r.on}}function A3(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,s,r,i)){case i:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function R3(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function P3(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function k3(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,u=e[i].y,c=e[o].x,d=e[o].y;u>s!=d>s&&n<(c-a)*(s-u)/(d-u)+a&&(r=!r)}return r}function O3(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),L3(e)}function L3(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(r.y-o.y)>=(i.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const D3=K({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(t){const e=t;return $e(),(n,s)=>($(),Y(m(Xe),fe(e,{onMousedown:s[0]||(s[0]=r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})}),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}});function eh(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}const M3=K({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return $e(),(n,s)=>($(),Y(m(Xe),fe(e,{"data-type":"ellipsis"}),{default:O(()=>[J(n.$slots,"default",{},()=>[s[0]||(s[0]=ae(""))])]),_:3},16))}}),[Wc,N3]=gn("PaginationRoot"),V3=K({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(t,{emit:e}){const n=t,s=e,{siblingCount:r,disabled:i,showEdges:o}=$n(n);$e();const a=Mr(n,"page",s,{defaultValue:n.defaultPage,passive:n.page===void 0}),u=Q(()=>Math.max(1,Math.ceil(n.total/(n.itemsPerPage||1))));return N3({page:a,onPageChange(c){a.value=c},pageCount:u,siblingCount:r,disabled:i,showEdges:o}),(c,d)=>($(),Y(m(Xe),{as:c.as,"as-child":c.asChild},{default:O(()=>[J(c.$slots,"default",{page:m(a),pageCount:u.value})]),_:3},8,["as","as-child"]))}}),F3=K({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Wc();$e();const s=Q(()=>n.page.value===1||n.disabled.value);return(r,i)=>($(),Y(m(Xe),fe(e,{"aria-label":"First Page",type:r.as==="button"?"button":void 0,disabled:s.value,onClick:i[0]||(i[0]=o=>!s.value&&m(n).onPageChange(1))}),{default:O(()=>[J(r.$slots,"default",{},()=>[i[1]||(i[1]=ae("First page"))])]),_:3},16,["type","disabled"]))}}),$3=K({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=Wc();$e();const s=Q(()=>n.page.value===n.pageCount.value||n.disabled.value);return(r,i)=>($(),Y(m(Xe),fe(e,{"aria-label":"Last Page",type:r.as==="button"?"button":void 0,disabled:s.value,onClick:i[0]||(i[0]=o=>!s.value&&m(n).onPageChange(m(n).pageCount.value))}),{default:O(()=>[J(r.$slots,"default",{},()=>[i[1]||(i[1]=ae("Last page"))])]),_:3},16,["type","disabled"]))}});function _a(t,e){const n=e-t+1;return Array.from({length:n},(s,r)=>r+t)}function B3(t){return t.map(e=>typeof e=="number"?{type:"page",value:e}:{type:"ellipsis"})}const Bp="ellipsis";function U3(t,e,n,s){const i=e,o=Math.max(t-n,1),a=Math.min(t+n,i);if(s){const c=Math.min(2*n+5,e)-2,d=o>3&&Math.abs(i-c-1+1)>2&&Math.abs(o-1)>2,h=a<i-2&&Math.abs(i-c)>2&&Math.abs(i-a)>2;if(!d&&h)return[..._a(1,c),Bp,i];if(d&&!h){const v=_a(i-c+1,i);return[1,Bp,...v]}if(d&&h){const v=_a(o,a);return[1,Bp,...v,Bp,i]}return _a(1,i)}else{const u=n*2+1;return e<u?_a(1,i):t<=n+1?_a(1,u):e-t<=n?_a(e-u+1,i):_a(o,a)}}const z3=K({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;$e();const n=Wc(),s=Q(()=>B3(U3(n.page.value,n.pageCount.value,n.siblingCount.value,n.showEdges.value)));return(r,i)=>($(),Y(m(Xe),on(un(e)),{default:O(()=>[J(r.$slots,"default",{items:s.value})]),_:3},16))}}),j3=K({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;$e();const n=Wc(),s=Q(()=>n.page.value===e.value),r=Q(()=>n.disabled.value);return(i,o)=>($(),Y(m(Xe),fe(e,{"data-type":"page","aria-label":`Page ${i.value}`,"aria-current":s.value?"page":void 0,"data-selected":s.value?"true":void 0,disabled:r.value,type:i.as==="button"?"button":void 0,onClick:o[0]||(o[0]=a=>!r.value&&m(n).onPageChange(i.value))}),{default:O(()=>[J(i.$slots,"default",{},()=>[ae(Ie(i.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),H3=K({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;$e();const n=Wc(),s=Q(()=>n.page.value===n.pageCount.value||n.disabled.value);return(r,i)=>($(),Y(m(Xe),fe(e,{"aria-label":"Next Page",type:r.as==="button"?"button":void 0,disabled:s.value,onClick:i[0]||(i[0]=o=>!s.value&&m(n).onPageChange(m(n).page.value+1))}),{default:O(()=>[J(r.$slots,"default",{},()=>[i[1]||(i[1]=ae("Next page"))])]),_:3},16,["type","disabled"]))}}),q3=K({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;$e();const n=Wc(),s=Q(()=>n.page.value===1||n.disabled.value);return(r,i)=>($(),Y(m(Xe),fe(e,{"aria-label":"Previous Page",type:r.as==="button"?"button":void 0,disabled:s.value,onClick:i[0]||(i[0]=o=>!s.value&&m(n).onPageChange(m(n).page.value-1))}),{default:O(()=>[J(r.$slots,"default",{},()=>[i[1]||(i[1]=ae("Prev page"))])]),_:3},16,["type","disabled"]))}}),W3="radio.select";function G3(t,e,n){w_(W3,n,{originalEvent:t,value:e})}const K3=K({__name:"Radio",props:{id:{},value:{},disabled:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:checked","select"],setup(t,{emit:e}){const n=t,s=e,r=Mr(n,"checked",s,{passive:n.checked===void 0}),{value:i}=$n(n),{forwardRef:o,currentElement:a}=$e(),u=kh(a),c=Q(()=>{var h;return n.id&&a.value?((h=document.querySelector(`[for="${n.id}"]`))==null?void 0:h.innerText)??n.value:void 0});function d(h){G3(h,n.value,g=>{s("select",g),!(g!=null&&g.defaultPrevented)&&(r.value=!0,u.value&&g.stopPropagation())})}return(h,g)=>($(),Y(m(Xe),fe(h.$attrs,{id:h.id,ref:m(o),role:"radio",type:h.as==="button"?"button":void 0,as:h.as,"aria-checked":m(r),"aria-label":c.value,"as-child":h.asChild,disabled:h.disabled?"":void 0,"data-state":m(r)?"checked":"unchecked","data-disabled":h.disabled?"":void 0,value:m(i),required:h.required,name:h.name,onClick:xs(d,["stop"])}),{default:O(()=>[J(h.$slots,"default",{checked:m(r)}),m(u)&&h.name?($(),Y(m(T_),{key:0,type:"radio",tabindex:"-1",value:m(i),checked:!!m(r),name:h.name,disabled:h.disabled,required:h.required},null,8,["value","checked","name","disabled","required"])):Ht("",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),[Z3,Y3]=gn("RadioGroupRoot"),Q3=K({__name:"RadioGroupRoot",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean,default:!1},orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r,currentElement:i}=$e(),o=Mr(n,"modelValue",s,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),{disabled:a,loop:u,orientation:c,name:d,required:h,dir:g}=$n(n),v=ou(g),y=kh(i);return Y3({modelValue:o,changeModelValue:w=>{o.value=w},disabled:a,loop:u,orientation:c,name:d==null?void 0:d.value,required:h}),(w,E)=>($(),Y(m(J1),{"as-child":"",orientation:m(c),dir:m(v),loop:m(u)},{default:O(()=>[M(m(Xe),{ref:m(r),role:"radiogroup","data-disabled":m(a)?"":void 0,"as-child":w.asChild,as:w.as,"aria-orientation":m(c),"aria-required":m(h),dir:m(v)},{default:O(()=>[J(w.$slots,"default",{modelValue:m(o)}),m(y)&&m(d)?($(),Y(m(T_),{key:0,required:m(h),disabled:m(a),value:m(o),name:m(d)},null,8,["required","disabled","value","name"])):Ht("",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),[X3,J3]=gn("RadioGroupItem"),ej=K({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r,currentElement:i}=$e(),o=Z3(),a=Q(()=>o.disabled.value||n.disabled),u=Q(()=>o.required.value||n.required),c=Q(()=>{var v;return Xf((v=o.modelValue)==null?void 0:v.value,n.value)});J3({disabled:a,checked:c});const d=Z(!1),h=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];ja("keydown",v=>{h.includes(v.key)&&(d.value=!0)}),ja("keyup",()=>{d.value=!1});function g(){setTimeout(()=>{var v;d.value&&((v=i.value)==null||v.click())},0)}return(v,y)=>($(),Y(m(tk),{checked:c.value,disabled:a.value,"as-child":"",focusable:!a.value,active:c.value},{default:O(()=>[M(K3,fe({...v.$attrs,...n},{ref:m(r),checked:c.value,required:u.value,disabled:a.value,"onUpdate:checked":y[0]||(y[0]=w=>m(o).changeModelValue(v.value)),onSelect:y[1]||(y[1]=w=>s("select",w)),onKeydown:y[2]||(y[2]=k0(xs(()=>{},["prevent"]),["enter"])),onFocus:g}),{default:O(()=>[J(v.$slots,"default",{checked:c.value,required:u.value,disabled:a.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),tj=K({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:e}=$e(),n=X3();return(s,r)=>($(),Y(m(Pi),{present:s.forceMount||m(n).checked.value},{default:O(()=>[M(m(Xe),fe({ref:m(e),"data-state":m(n).checked.value?"checked":"unchecked","data-disabled":m(n).disabled.value?"":void 0,"as-child":s.asChild,as:s.as},s.$attrs),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),[ni,nj]=gn("ScrollAreaRoot"),sj=K({__name:"ScrollAreaRoot",props:{type:{default:"hover"},dir:{},scrollHideDelay:{default:600},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,s=Z(0),r=Z(0),i=Z(),o=Z(),a=Z(),u=Z(),c=Z(!1),d=Z(!1),{type:h,dir:g,scrollHideDelay:v}=$n(n),y=ou(g);function w(){var x;(x=i.value)==null||x.scrollTo({top:0})}function E(){var x;(x=i.value)==null||x.scrollTo({top:0,left:0})}e({viewport:i,scrollTop:w,scrollTopLeft:E});const{forwardRef:T,currentElement:C}=$e();return nj({type:h,dir:y,scrollHideDelay:v,scrollArea:C,viewport:i,onViewportChange:x=>{i.value=x||void 0},content:o,onContentChange:x=>{o.value=x},scrollbarX:a,scrollbarXEnabled:c,scrollbarY:u,scrollbarYEnabled:d,onScrollbarXChange:x=>{a.value=x||void 0},onScrollbarYChange:x=>{u.value=x||void 0},onScrollbarXEnabledChange:x=>{c.value=x},onScrollbarYEnabledChange:x=>{d.value=x},onCornerWidthChange:x=>{s.value=x},onCornerHeightChange:x=>{r.value=x}}),(x,I)=>($(),Y(m(Xe),{ref:m(T),"as-child":n.asChild,as:x.as,dir:m(y),style:Ls({position:"relative","--reka-scroll-area-corner-width":`${s.value}px`,"--reka-scroll-area-corner-height":`${r.value}px`})},{default:O(()=>[J(x.$slots,"default")]),_:3},8,["as-child","as","dir","style"]))}}),rj=K({__name:"ScrollAreaCornerImpl",setup(t){const e=ni(),n=Z(0),s=Z(0),r=Q(()=>!!n.value&&!!s.value);function i(){var u;const a=((u=e.scrollbarX.value)==null?void 0:u.offsetHeight)||0;e.onCornerHeightChange(a),s.value=a}function o(){var u;const a=((u=e.scrollbarY.value)==null?void 0:u.offsetWidth)||0;e.onCornerWidthChange(a),n.value=a}return $l(e.scrollbarX.value,i),$l(e.scrollbarY.value,o),ct(()=>e.scrollbarX.value,i),ct(()=>e.scrollbarY.value,o),(a,u)=>{var c;return r.value?($(),Y(m(Xe),fe({key:0,style:{width:`${n.value}px`,height:`${s.value}px`,position:"absolute",right:m(e).dir.value==="ltr"?0:void 0,left:m(e).dir.value==="rtl"?0:void 0,bottom:0}},(c=a.$parent)==null?void 0:c.$props),{default:O(()=>[J(a.$slots,"default")]),_:3},16,["style"])):Ht("",!0)}}}),ij=K({__name:"ScrollAreaCorner",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n}=$e(),s=ni(),r=Q(()=>!!s.scrollbarX.value&&!!s.scrollbarY.value),i=Q(()=>s.type.value!=="scroll"&&r.value);return(o,a)=>i.value?($(),Y(rj,fe({key:0},e,{ref:m(n)}),{default:O(()=>[J(o.$slots,"default")]),_:3},16)):Ht("",!0)}});function dk(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function C_(t){const e=fk(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function fk(t,e){const n=t/e;return Number.isNaN(n)?0:n}function oj(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function r(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)}function rx(t,e,n="ltr"){const s=C_(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-r,o=e.content-e.viewport,a=i-s,u=n==="ltr"?[0,o]:[o*-1,0],c=eh(t,u[0],u[1]);return dk([0,o],[0,a])(c)}function Up(t){return t?Number.parseInt(t,10):0}function aj(t,e,n,s="ltr"){const r=C_(n),i=r/2,o=e||i,a=r-o,u=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=s==="ltr"?[0,d]:[d*-1,0];return dk([u,c],h)(t)}function ix(t,e){return t>0&&t<e}const hk=K({__name:"ScrollAreaScrollbarImpl",props:{isHorizontal:{type:Boolean}},emits:["onDragScroll","onWheelScroll","onThumbPointerDown"],setup(t,{emit:e}){const n=t,s=e,r=ni(),i=x_(),o=I_(),{forwardRef:a,currentElement:u}=$e(),c=Z(""),d=Z();function h(T){var C,x;if(d.value){const I=T.clientX-((C=d.value)==null?void 0:C.left),V=T.clientY-((x=d.value)==null?void 0:x.top);s("onDragScroll",{x:I,y:V})}}function g(T){T.button===0&&(T.target.setPointerCapture(T.pointerId),d.value=u.value.getBoundingClientRect(),c.value=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",r.viewport&&(r.viewport.value.style.scrollBehavior="auto"),h(T))}function v(T){h(T)}function y(T){const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=c.value,r.viewport&&(r.viewport.value.style.scrollBehavior=""),d.value=void 0}function w(T){var V;const C=T.target,x=(V=u.value)==null?void 0:V.contains(C),I=i.sizes.value.content-i.sizes.value.viewport;x&&i.handleWheelScroll(T,I)}bt(()=>{document.addEventListener("wheel",w,{passive:!1})}),Is(()=>{document.removeEventListener("wheel",w)});function E(){var T,C,x,I,V;u.value&&(n.isHorizontal?i.handleSizeChange({content:((T=r.viewport.value)==null?void 0:T.scrollWidth)??0,viewport:((C=r.viewport.value)==null?void 0:C.offsetWidth)??0,scrollbar:{size:u.value.clientWidth??0,paddingStart:Up(getComputedStyle(u.value).paddingLeft),paddingEnd:Up(getComputedStyle(u.value).paddingRight)}}):i.handleSizeChange({content:((x=r.viewport.value)==null?void 0:x.scrollHeight)??0,viewport:((I=r.viewport.value)==null?void 0:I.offsetHeight)??0,scrollbar:{size:((V=u.value)==null?void 0:V.clientHeight)??0,paddingStart:Up(getComputedStyle(u.value).paddingLeft),paddingEnd:Up(getComputedStyle(u.value).paddingRight)}}))}return $l(u,E),$l(r.content,E),(T,C)=>($(),Y(m(Xe),{ref:m(a),style:{position:"absolute"},"data-scrollbarimpl":"",as:m(o).as.value,"as-child":m(o).asChild.value,onPointerdown:g,onPointermove:v,onPointerup:y},{default:O(()=>[J(T.$slots,"default")]),_:3},8,["as","as-child"]))}}),lj=K({__name:"ScrollAreaScrollbarX",setup(t){const e=ni(),n=x_(),{forwardRef:s,currentElement:r}=$e();bt(()=>{r.value&&e.onScrollbarXChange(r.value)});const i=Q(()=>n.sizes.value);return(o,a)=>($(),Y(hk,{ref:m(s),"is-horizontal":!0,"data-orientation":"horizontal",style:Ls({bottom:0,left:m(e).dir.value==="rtl"?"var(--reka-scroll-area-corner-width)":0,right:m(e).dir.value==="ltr"?"var(--reka-scroll-area-corner-width)":0,"--reka-scroll-area-thumb-width":i.value?`${m(C_)(i.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=u=>m(n).onDragScroll(u.x))},{default:O(()=>[J(o.$slots,"default")]),_:3},8,["style"]))}}),uj=K({__name:"ScrollAreaScrollbarY",setup(t){const e=ni(),n=x_(),{forwardRef:s,currentElement:r}=$e();bt(()=>{r.value&&e.onScrollbarYChange(r.value)});const i=Q(()=>n.sizes.value);return(o,a)=>($(),Y(hk,{ref:m(s),"is-horizontal":!1,"data-orientation":"vertical",style:Ls({top:0,right:m(e).dir.value==="ltr"?0:void 0,left:m(e).dir.value==="rtl"?0:void 0,bottom:"var(--reka-scroll-area-corner-height)","--reka-scroll-area-thumb-height":i.value?`${m(C_)(i.value)}px`:void 0}),onOnDragScroll:a[0]||(a[0]=u=>m(n).onDragScroll(u.y))},{default:O(()=>[J(o.$slots,"default")]),_:3},8,["style"]))}}),[x_,cj]=gn("ScrollAreaScrollbarVisible"),sE=K({__name:"ScrollAreaScrollbarVisible",setup(t){const e=ni(),n=I_(),{forwardRef:s}=$e(),r=Z({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),i=Q(()=>{const T=fk(r.value.viewport,r.value.content);return T>0&&T<1}),o=Z(),a=Z(0);function u(T,C){if(v.value){const x=e.viewport.value.scrollLeft+T.deltaY;e.viewport.value.scrollLeft=x,ix(x,C)&&T.preventDefault()}else{const x=e.viewport.value.scrollTop+T.deltaY;e.viewport.value.scrollTop=x,ix(x,C)&&T.preventDefault()}}function c(T,C){v.value?a.value=C.x:a.value=C.y}function d(T){a.value=0}function h(T){r.value=T}function g(T,C){return aj(T,a.value,r.value,C)}const v=Q(()=>n.isHorizontal.value);function y(T){v.value?e.viewport.value.scrollLeft=g(T,e.dir.value):e.viewport.value.scrollTop=g(T)}function w(){if(v.value){if(e.viewport.value&&o.value){const T=e.viewport.value.scrollLeft,C=rx(T,r.value,e.dir.value);o.value.style.transform=`translate3d(${C}px, 0, 0)`}}else if(e.viewport.value&&o.value){const T=e.viewport.value.scrollTop,C=rx(T,r.value);o.value.style.transform=`translate3d(0, ${C}px, 0)`}}function E(T){o.value=T}return cj({sizes:r,hasThumb:i,handleWheelScroll:u,handleThumbDown:c,handleThumbUp:d,handleSizeChange:h,onThumbPositionChange:w,onThumbChange:E,onDragScroll:y}),(T,C)=>v.value?($(),Y(lj,fe({key:0},T.$attrs,{ref:m(s)}),{default:O(()=>[J(T.$slots,"default")]),_:3},16)):($(),Y(uj,fe({key:1},T.$attrs,{ref:m(s)}),{default:O(()=>[J(T.$slots,"default")]),_:3},16))}}),pk=K({__name:"ScrollAreaScrollbarAuto",props:{forceMount:{type:Boolean}},setup(t){const e=ni(),n=I_(),{forwardRef:s}=$e(),r=Z(!1),i=F1(()=>{if(e.viewport.value){const o=e.viewport.value.offsetWidth<e.viewport.value.scrollWidth,a=e.viewport.value.offsetHeight<e.viewport.value.scrollHeight;r.value=n.isHorizontal.value?o:a}},10);return bt(()=>i()),$l(e.viewport,i),$l(e.content,i),(o,a)=>($(),Y(m(Pi),{present:o.forceMount||r.value},{default:O(()=>[M(sE,fe(o.$attrs,{ref:m(s),"data-state":r.value?"visible":"hidden"}),{default:O(()=>[J(o.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),dj=K({inheritAttrs:!1,__name:"ScrollAreaScrollbarHover",props:{forceMount:{type:Boolean}},setup(t){const e=ni(),{forwardRef:n}=$e();let s;const r=Z(!1);function i(){window.clearTimeout(s),r.value=!0}function o(){s=window.setTimeout(()=>{r.value=!1},e.scrollHideDelay.value)}return bt(()=>{const a=e.scrollArea.value;a&&(a.addEventListener("pointerenter",i),a.addEventListener("pointerleave",o))}),Is(()=>{const a=e.scrollArea.value;a&&(window.clearTimeout(s),a.removeEventListener("pointerenter",i),a.removeEventListener("pointerleave",o))}),(a,u)=>($(),Y(m(Pi),{present:a.forceMount||r.value},{default:O(()=>[M(pk,fe(a.$attrs,{ref:m(n),"data-state":r.value?"visible":"hidden"}),{default:O(()=>[J(a.$slots,"default")]),_:3},16,["data-state"])]),_:3},8,["present"]))}}),fj=K({__name:"ScrollAreaScrollbarScroll",props:{forceMount:{type:Boolean}},setup(t){const e=ni(),n=I_(),{forwardRef:s}=$e(),{state:r,dispatch:i}=U1("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});qn(a=>{if(r.value==="idle"){const u=window.setTimeout(()=>i("HIDE"),e.scrollHideDelay.value);a(()=>{window.clearTimeout(u)})}});const o=F1(()=>i("SCROLL_END"),100);return qn(a=>{const u=e.viewport.value,c=n.isHorizontal.value?"scrollLeft":"scrollTop";if(u){let d=u[c];const h=()=>{const g=u[c];d!==g&&(i("SCROLL"),o()),d=g};u.addEventListener("scroll",h),a(()=>{u.removeEventListener("scroll",h)})}}),(a,u)=>($(),Y(m(Pi),{present:a.forceMount||m(r)!=="hidden"},{default:O(()=>[M(sE,fe(a.$attrs,{ref:m(s)}),{default:O(()=>[J(a.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),[I_,hj]=gn("ScrollAreaScrollbar"),pj=K({inheritAttrs:!1,__name:"ScrollAreaScrollbar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,{forwardRef:n}=$e(),s=ni(),r=Q(()=>e.orientation==="horizontal");ct(r,()=>{r.value?s.onScrollbarXEnabledChange(!0):s.onScrollbarYEnabledChange(!0)},{immediate:!0}),Is(()=>{s.onScrollbarXEnabledChange(!1),s.onScrollbarYEnabledChange(!1)});const{orientation:i,forceMount:o,asChild:a,as:u}=$n(e);return hj({orientation:i,forceMount:o,isHorizontal:r,as:u,asChild:a}),(c,d)=>m(s).type.value==="hover"?($(),Y(dj,fe({key:0},c.$attrs,{ref:m(n),"force-mount":m(o)}),{default:O(()=>[J(c.$slots,"default")]),_:3},16,["force-mount"])):m(s).type.value==="scroll"?($(),Y(fj,fe({key:1},c.$attrs,{ref:m(n),"force-mount":m(o)}),{default:O(()=>[J(c.$slots,"default")]),_:3},16,["force-mount"])):m(s).type.value==="auto"?($(),Y(pk,fe({key:2},c.$attrs,{ref:m(n),"force-mount":m(o)}),{default:O(()=>[J(c.$slots,"default")]),_:3},16,["force-mount"])):m(s).type.value==="always"?($(),Y(sE,fe({key:3},c.$attrs,{ref:m(n),"data-state":"visible"}),{default:O(()=>[J(c.$slots,"default")]),_:3},16)):Ht("",!0)}}),mj=K({__name:"ScrollAreaThumb",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=ni(),s=x_();function r(g){const y=g.target.getBoundingClientRect(),w=g.clientX-y.left,E=g.clientY-y.top;s.handleThumbDown(g,{x:w,y:E})}function i(g){s.handleThumbUp(g)}const{forwardRef:o,currentElement:a}=$e(),u=Z(),c=Q(()=>n.viewport.value);function d(){if(!u.value){const g=oj(c.value,s.onThumbPositionChange);u.value=g,s.onThumbPositionChange()}}const h=Q(()=>s.sizes.value);return ez(h,()=>{s.onThumbChange(a.value),c.value&&(s.onThumbPositionChange(),c.value.addEventListener("scroll",d))}),Is(()=>{var g;c.value.removeEventListener("scroll",d),(g=n.viewport.value)==null||g.removeEventListener("scroll",d)}),(g,v)=>($(),Y(m(Xe),{ref:m(o),"data-state":m(s).hasThumb?"visible":"hidden",style:{width:"var(--reka-scroll-area-thumb-width)",height:"var(--reka-scroll-area-thumb-height)"},"as-child":e.asChild,as:g.as,onPointerdown:r,onPointerup:i},{default:O(()=>[J(g.$slots,"default")]),_:3},8,["data-state","as-child","as"]))}}),gj=K({inheritAttrs:!1,__name:"ScrollAreaViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t,{expose:e}){const n=t,{nonce:s}=$n(n),r=ik(s),i=ni(),o=Z();bt(()=>{i.onViewportChange(o.value),i.onContentChange(u.value)}),e({viewportElement:o});const{forwardRef:a,currentElement:u}=$e();return(c,d)=>($(),ie(Ke,null,[z("div",fe({ref_key:"viewportElement",ref:o,"data-reka-scroll-area-viewport":"",style:{overflowX:m(i).scrollbarXEnabled.value?"scroll":"hidden",overflowY:m(i).scrollbarYEnabled.value?"scroll":"hidden"}},c.$attrs,{tabindex:0}),[M(m(Xe),{ref:m(a),style:Ls({minWidth:m(i).scrollbarXEnabled.value?"fit-content":void 0}),"as-child":n.asChild,as:c.as},{default:O(()=>[J(c.$slots,"default")]),_:3},8,["style","as-child","as"])],16),M(m(Xe),{as:"style",nonce:m(r)},{default:O(()=>d[0]||(d[0]=[ae(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-scroll-area-viewport] { scrollbar-width:none; -ms-overflow-style:none; -webkit-overflow-scrolling:touch; } [data-reka-scroll-area-viewport]::-webkit-scrollbar { display:none; } ")])),_:1},8,["nonce"])],64))}}),_j=[" ","Enter","ArrowUp","ArrowDown"],vj=[" ","Enter"],di=10;function Ym(t,e,n){return t===void 0?!1:Array.isArray(t)?t.some(s=>Ow(s,e,n)):Ow(t,e,n)}function Ow(t,e,n){return t===void 0||e===void 0?!1:typeof t=="string"?t===e:typeof n=="function"?n(t,e):typeof n=="string"?(t==null?void 0:t[n])===(e==null?void 0:e[n]):Xf(t,e)}function yj(t){return t==null||t===""||Array.isArray(t)&&t.length===0}const wj=K({__name:"BubbleSelect",props:{autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},multiple:{type:Boolean},name:{},required:{type:Boolean},size:{},value:{}},setup(t){const e=t,n=Z();return ct(()=>e.value,(s,r)=>{const i=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==r&&a&&n.value){const u=new Event("change",{bubbles:!0});a.call(n.value,s),n.value.dispatchEvent(u)}}),(s,r)=>($(),Y(m(Ah),{"as-child":""},{default:O(()=>[z("select",fe({ref_key:"selectElement",ref:n},e),[J(s.$slots,"default")],16)]),_:3}))}}),bj={key:0,value:""},[au,mk]=gn("SelectRoot"),Ej=K({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{default:void 0},by:{},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const n=t,s=e,{required:r,disabled:i,multiple:o,dir:a}=$n(n),u=Mr(n,"modelValue",s,{defaultValue:n.defaultValue??(o.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),c=Mr(n,"open",s,{defaultValue:n.defaultOpen,passive:n.open===void 0}),d=Z(),h=Z(),g=Z({x:0,y:0}),v=Q(()=>{var x;return o.value&&Array.isArray(u.value)?((x=u.value)==null?void 0:x.length)===0:Jf(u.value)});rr({isProvider:!0});const y=ou(a),w=kh(d),E=Z(new Set),T=Q(()=>Array.from(E.value).map(x=>x.value).join(";"));function C(x){if(o.value){const I=Array.isArray(u.value)?[...u.value]:[],V=I.findIndex(F=>Ow(F,x,n.by));V===-1?I.push(x):I.splice(V,1),u.value=[...I]}else u.value=x}return mk({triggerElement:d,onTriggerChange:x=>{d.value=x},valueElement:h,onValueElementChange:x=>{h.value=x},contentId:"",modelValue:u,onValueChange:C,by:n.by,open:c,multiple:o,required:r,onOpenChange:x=>{c.value=x},dir:y,triggerPointerDownPosRef:g,disabled:i,isEmptyModelValue:v,optionsSet:E,onOptionAdd:x=>E.value.add(x),onOptionRemove:x=>E.value.delete(x)}),(x,I)=>($(),Y(m(X0),null,{default:O(()=>[J(x.$slots,"default",{modelValue:m(u),open:m(c)}),m(w)?($(),Y(wj,{key:T.value,"aria-hidden":"true",tabindex:"-1",multiple:m(o),required:m(r),name:x.name,autocomplete:x.autocomplete,disabled:m(i),value:m(u)},{default:O(()=>[m(Jf)(m(u))?($(),ie("option",bj)):Ht("",!0),($(!0),ie(Ke,null,jt(Array.from(E.value),V=>($(),ie("option",fe({key:V.value??"",ref_for:!0},V),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):Ht("",!0)]),_:3}))}}),[rE,Tj]=gn("SelectItemAlignedPosition"),Sj=K({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean},as:{}},emits:["placed"],setup(t,{emit:e}){const n=t,s=e,{getItems:r}=rr(),i=au(),o=lu(),a=Z(!1),u=Z(!0),c=Z(),{forwardRef:d,currentElement:h}=$e(),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=o;function E(){if(i.triggerElement.value&&i.valueElement.value&&c.value&&h.value&&(g!=null&&g.value)&&(v!=null&&v.value)&&(y!=null&&y.value)){const x=i.triggerElement.value.getBoundingClientRect(),I=h.value.getBoundingClientRect(),V=i.valueElement.value.getBoundingClientRect(),F=y.value.getBoundingClientRect();if(i.dir.value!=="rtl"){const ee=F.left-I.left,he=V.left-ee,ve=x.left-he,Re=x.width+ve,Ue=Math.max(Re,I.width),j=window.innerWidth-di,G=eh(he,di,Math.max(di,j-Ue));c.value.style.minWidth=`${Re}px`,c.value.style.left=`${G}px`}else{const ee=I.right-F.right,he=window.innerWidth-V.right-ee,ve=window.innerWidth-x.right-he,Re=x.width+ve,Ue=Math.max(Re,I.width),j=window.innerWidth-di,G=eh(he,di,Math.max(di,j-Ue));c.value.style.minWidth=`${Re}px`,c.value.style.right=`${G}px`}const k=r().map(ee=>ee.ref),P=window.innerHeight-di*2,A=g.value.scrollHeight,N=window.getComputedStyle(h.value),U=Number.parseInt(N.borderTopWidth,10),W=Number.parseInt(N.paddingTop,10),q=Number.parseInt(N.borderBottomWidth,10),Pe=Number.parseInt(N.paddingBottom,10),Be=U+W+A+Pe+q,ye=Math.min(v.value.offsetHeight*5,Be),_e=window.getComputedStyle(g.value),me=Number.parseInt(_e.paddingTop,10),nt=Number.parseInt(_e.paddingBottom,10),Ne=x.top+x.height/2-di,ot=P-Ne,lt=v.value.offsetHeight/2,pt=v.value.offsetTop+lt,Ye=U+W+pt,dt=Be-Ye;if(Ye<=Ne){const ee=v.value===k[k.length-1];c.value.style.bottom="0px";const he=h.value.clientHeight-g.value.offsetTop-g.value.offsetHeight,ve=Math.max(ot,lt+(ee?nt:0)+he+q),Re=Ye+ve;c.value.style.height=`${Re}px`}else{const ee=v.value===k[0];c.value.style.top="0px";const ve=Math.max(Ne,U+g.value.offsetTop+(ee?me:0)+lt)+dt;c.value.style.height=`${ve}px`,g.value.scrollTop=Ye-Ne+g.value.offsetTop}c.value.style.margin=`${di}px 0`,c.value.style.minHeight=`${ye}px`,c.value.style.maxHeight=`${P}px`,s("placed"),requestAnimationFrame(()=>a.value=!0)}}const T=Z("");bt(async()=>{await Pt(),E(),h.value&&(T.value=window.getComputedStyle(h.value).zIndex)});function C(x){x&&u.value===!0&&(E(),w==null||w(),u.value=!1)}return $l(i.triggerElement,()=>{E()}),Tj({contentWrapper:c,shouldExpandOnScrollRef:a,onScrollButtonChange:C}),(x,I)=>($(),ie("div",{ref_key:"contentWrapperElement",ref:c,style:Ls({display:"flex",flexDirection:"column",position:"fixed",zIndex:T.value})},[M(m(Xe),fe({ref:m(d),style:{boxSizing:"border-box",maxHeight:"100%"}},{...x.$attrs,...n}),{default:O(()=>[J(x.$slots,"default")]),_:3},16)],4))}}),Cj=K({__name:"SelectPopperPosition",props:{side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{default:di},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},setup(t){const n=br(t);return(s,r)=>($(),Y(m(eE),fe(m(n),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:O(()=>[J(s.$slots,"default")]),_:3},16))}}),xj={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[lu,gk]=gn("SelectContent"),Ij=K({__name:"SelectContentImpl",props:{position:{default:"item-aligned"},bodyLock:{type:Boolean,default:!0},side:{},sideOffset:{},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,s=e,r=au();ok(),Q0(n.bodyLock);const{CollectionSlot:i,getItems:o}=rr(),a=Z();Y0(a);const{search:u,handleTypeaheadSearch:c}=tE(),d=Z(),h=Z(),g=Z(),v=Z(!1),y=Z(!1),w=Z(!1);function E(){h.value&&a.value&&Iw([h.value,a.value])}ct(v,()=>{E()});const{onOpenChange:T,triggerPointerDownPosRef:C}=r;qn(F=>{if(!a.value)return;let k={x:0,y:0};const P=N=>{var U,W;k={x:Math.abs(Math.round(N.pageX)-(((U=C.value)==null?void 0:U.x)??0)),y:Math.abs(Math.round(N.pageY)-(((W=C.value)==null?void 0:W.y)??0))}},A=N=>{var U;N.pointerType!=="touch"&&(k.x<=10&&k.y<=10?N.preventDefault():(U=a.value)!=null&&U.contains(N.target)||T(!1),document.removeEventListener("pointermove",P),C.value=null)};C.value!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",A,{capture:!0,once:!0})),F(()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",A,{capture:!0})})});function x(F){const k=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!k&&F.key.length===1&&c(F.key,o()),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let A=[...o().map(N=>N.ref)];if(["ArrowUp","End"].includes(F.key)&&(A=A.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const N=F.target,U=A.indexOf(N);A=A.slice(U+1)}setTimeout(()=>Iw(A)),F.preventDefault()}}const I=Q(()=>n.position==="popper"?n:{}),V=br(I.value);return gk({content:a,viewport:d,onViewportChange:F=>{d.value=F},itemRefCallback:(F,k,P)=>{const A=!y.value&&!P,N=Ym(r.modelValue.value,k,r.by);if(r.multiple.value){if(w.value)return;(N||A)&&(h.value=F,N&&(w.value=!0))}else(N||A)&&(h.value=F);A&&(y.value=!0)},selectedItem:h,selectedItemText:g,onItemLeave:()=>{var F;(F=a.value)==null||F.focus()},itemTextRefCallback:(F,k,P)=>{const A=!y.value&&!P;(Ym(r.modelValue.value,k,r.by)||A)&&(g.value=F)},focusSelectedItem:E,position:n.position,isPositioned:v,searchRef:u}),(F,k)=>($(),Y(m(i),null,{default:O(()=>[M(m(Z0),{"as-child":"",onMountAutoFocus:k[6]||(k[6]=xs(()=>{},["prevent"])),onUnmountAutoFocus:k[7]||(k[7]=P=>{var A;s("closeAutoFocus",P),!P.defaultPrevented&&((A=m(r).triggerElement.value)==null||A.focus({preventScroll:!0}),P.preventDefault())})},{default:O(()=>[M(m(b_),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:k[2]||(k[2]=xs(()=>{},["prevent"])),onDismiss:k[3]||(k[3]=P=>m(r).onOpenChange(!1)),onEscapeKeyDown:k[4]||(k[4]=P=>s("escapeKeyDown",P)),onPointerDownOutside:k[5]||(k[5]=P=>s("pointerDownOutside",P))},{default:O(()=>[($(),Y(bi(F.position==="popper"?Cj:Sj),fe({...F.$attrs,...m(V)},{id:m(r).contentId,ref:P=>{a.value=m(Jr)(P)},role:"listbox","data-state":m(r).open.value?"open":"closed",dir:m(r).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:k[0]||(k[0]=xs(()=>{},["prevent"])),onPlaced:k[1]||(k[1]=P=>v.value=!0),onKeydown:x}),{default:O(()=>[J(F.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),Aj=K({inheritAttrs:!1,__name:"SelectProvider",props:{context:{}},setup(t){return mk(t.context),gk(xj),(n,s)=>J(n.$slots,"default")}}),Rj={key:1},Pj=K({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,r=as(n,e),i=au(),o=Z();bt(()=>{o.value=new DocumentFragment});const a=Z(),u=Q(()=>n.forceMount||i.open.value);return(c,d)=>{var h;return u.value?($(),Y(m(Pi),{key:0,ref_key:"presenceRef",ref:a,present:!0},{default:O(()=>[M(Ij,on(un({...m(r),...c.$attrs})),{default:O(()=>[J(c.$slots,"default")]),_:3},16)]),_:3},512)):!((h=a.value)!=null&&h.present)&&o.value?($(),ie("div",Rj,[($(),Y(C0,{to:o.value},[M(Aj,{context:m(i)},{default:O(()=>[J(c.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):Ht("",!0)}}}),[kj,Oj]=gn("SelectGroup"),Lj=K({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Ci(void 0,"reka-select-group");return Oj({id:n}),(s,r)=>($(),Y(m(Xe),fe({role:"group"},e,{"aria-labelledby":m(n)}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Dj=K({__name:"SelectIcon",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,n)=>($(),Y(m(Xe),{"aria-hidden":"true",as:e.as,"as-child":e.asChild},{default:O(()=>[J(e.$slots,"default",{},()=>[n[0]||(n[0]=ae(""))])]),_:3},8,["as","as-child"]))}}),[_k,Mj]=gn("SelectItem"),Nj=K({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(t,{emit:e}){const n=t,s=e,{disabled:r}=$n(n),i=au(),o=lu(),{forwardRef:a,currentElement:u}=$e(),{CollectionItem:c}=rr(),d=Q(()=>{var I;return Ym((I=i.modelValue)==null?void 0:I.value,n.value,i.by)}),h=Z(!1),g=Z(n.textValue??""),v=Ci(void 0,"reka-select-item-text"),y="select.select";async function w(I){if(I.defaultPrevented)return;const V={originalEvent:I,value:n.value};w_(y,E,V)}async function E(I){await Pt(),s("select",I),!I.defaultPrevented&&(r.value||(i.onValueChange(n.value),i.multiple.value||i.onOpenChange(!1)))}async function T(I){var V,F;await Pt(),!I.defaultPrevented&&(r.value?(V=o.onItemLeave)==null||V.call(o):(F=I.currentTarget)==null||F.focus({preventScroll:!0}))}async function C(I){var V;await Pt(),!I.defaultPrevented&&I.currentTarget===fs()&&((V=o.onItemLeave)==null||V.call(o))}async function x(I){var F;await Pt(),!(I.defaultPrevented||((F=o.searchRef)==null?void 0:F.value)!==""&&I.key===" ")&&(vj.includes(I.key)&&w(I),I.key===" "&&I.preventDefault())}if(n.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return bt(()=>{u.value&&o.itemRefCallback(u.value,n.value,n.disabled)}),Mj({value:n.value,disabled:r,textId:v,isSelected:d,onItemTextChange:I=>{g.value=((g.value||(I==null?void 0:I.textContent))??"").trim()}}),(I,V)=>($(),Y(m(c),{value:{textValue:g.value}},{default:O(()=>[M(m(Xe),{ref:m(a),role:"option","aria-labelledby":m(v),"data-highlighted":h.value?"":void 0,"aria-selected":d.value,"data-state":d.value?"checked":"unchecked","aria-disabled":m(r)||void 0,"data-disabled":m(r)?"":void 0,tabindex:m(r)?void 0:-1,as:I.as,"as-child":I.asChild,onFocus:V[0]||(V[0]=F=>h.value=!0),onBlur:V[1]||(V[1]=F=>h.value=!1),onPointerup:w,onPointerdown:V[2]||(V[2]=F=>{F.currentTarget.focus({preventScroll:!0})}),onTouchend:V[3]||(V[3]=xs(()=>{},["prevent","stop"])),onPointermove:T,onPointerleave:C,onKeydown:x},{default:O(()=>[J(I.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),Vj=K({__name:"SelectItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=_k();return(s,r)=>m(n).isSelected.value?($(),Y(m(Xe),fe({key:0,"aria-hidden":"true"},e),{default:O(()=>[J(s.$slots,"default")]),_:3},16)):Ht("",!0)}}),Fj=K({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,n=au(),s=lu(),r=_k(),{forwardRef:i,currentElement:o}=$e(),a=Q(()=>{var u,c;return{value:r.value,disabled:r.disabled.value,textContent:((u=o.value)==null?void 0:u.textContent)??((c=r.value)==null?void 0:c.toString())??""}});return bt(()=>{o.value&&(r.onItemTextChange(o.value),s.itemTextRefCallback(o.value,r.value,r.disabled.value),n.onOptionAdd(a.value))}),ra(()=>{n.onOptionRemove(a.value)}),(u,c)=>($(),Y(m(Xe),fe({id:m(r).textId,ref:m(i)},{...e,...u.$attrs}),{default:O(()=>[J(u.$slots,"default")]),_:3},16,["id"]))}}),$j=K({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const e=t,n=kj({id:""});return(s,r)=>($(),Y(m(Xe),fe(e,{id:m(n).id}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["id"]))}}),Bj=K({__name:"SelectPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,s)=>($(),Y(m(E_),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),vk=K({__name:"SelectScrollButtonImpl",emits:["autoScroll"],setup(t,{emit:e}){const n=e,{getItems:s}=rr(),r=lu(),i=Z(null);function o(){i.value!==null&&(window.clearInterval(i.value),i.value=null)}qn(()=>{const c=s().map(d=>d.ref).find(d=>d===fs());c==null||c.scrollIntoView({block:"nearest"})});function a(){i.value===null&&(i.value=window.setInterval(()=>{n("autoScroll")},50))}function u(){var c;(c=r.onItemLeave)==null||c.call(r),i.value===null&&(i.value=window.setInterval(()=>{n("autoScroll")},50))}return ra(()=>o()),(c,d)=>{var h;return $(),Y(m(Xe),fe({"aria-hidden":"true",style:{flexShrink:0}},(h=c.$parent)==null?void 0:h.$props,{onPointerdown:a,onPointermove:u,onPointerleave:d[0]||(d[0]=()=>{o()})}),{default:O(()=>[J(c.$slots,"default")]),_:3},16)}}}),Uj=K({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{}},setup(t){const e=lu(),n=e.position==="item-aligned"?rE():void 0,{forwardRef:s,currentElement:r}=$e(),i=Z(!1);return qn(o=>{var a,u;if((a=e.viewport)!=null&&a.value&&((u=e.isPositioned)!=null&&u.value)){let c=function(){const h=d.scrollHeight-d.clientHeight;i.value=Math.ceil(d.scrollTop)<h};const d=e.viewport.value;c(),d.addEventListener("scroll",c),o(()=>d.removeEventListener("scroll",c))}}),ct(r,()=>{r.value&&(n==null||n.onScrollButtonChange(r.value))}),(o,a)=>i.value?($(),Y(vk,{key:0,ref:m(s),onAutoScroll:a[0]||(a[0]=()=>{const{viewport:u,selectedItem:c}=m(e);u!=null&&u.value&&(c!=null&&c.value)&&(u.value.scrollTop=u.value.scrollTop+c.value.offsetHeight)})},{default:O(()=>[J(o.$slots,"default")]),_:3},512)):Ht("",!0)}}),zj=K({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{}},setup(t){const e=lu(),n=e.position==="item-aligned"?rE():void 0,{forwardRef:s,currentElement:r}=$e(),i=Z(!1);return qn(o=>{var a,u;if((a=e.viewport)!=null&&a.value&&((u=e.isPositioned)!=null&&u.value)){let c=function(){i.value=d.scrollTop>0};const d=e.viewport.value;c(),d.addEventListener("scroll",c),o(()=>d.removeEventListener("scroll",c))}}),ct(r,()=>{r.value&&(n==null||n.onScrollButtonChange(r.value))}),(o,a)=>i.value?($(),Y(vk,{key:0,ref:m(s),onAutoScroll:a[0]||(a[0]=()=>{const{viewport:u,selectedItem:c}=m(e);u!=null&&u.value&&(c!=null&&c.value)&&(u.value.scrollTop=u.value.scrollTop-c.value.offsetHeight)})},{default:O(()=>[J(o.$slots,"default")]),_:3},512)):Ht("",!0)}}),jj=K({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=au(),{forwardRef:s,currentElement:r}=$e(),i=Q(()=>{var g;return((g=n.disabled)==null?void 0:g.value)||e.disabled});n.contentId||(n.contentId=Ci(void 0,"reka-select-content")),bt(()=>{n.onTriggerChange(r.value)});const{getItems:o}=rr(),{search:a,handleTypeaheadSearch:u,resetTypeahead:c}=tE();function d(){i.value||(n.onOpenChange(!0),c())}function h(g){d(),n.triggerPointerDownPosRef.value={x:Math.round(g.pageX),y:Math.round(g.pageY)}}return(g,v)=>($(),Y(m(J0),{"as-child":"",reference:g.reference},{default:O(()=>{var y,w,E,T;return[M(m(Xe),{ref:m(s),role:"combobox",type:g.as==="button"?"button":void 0,"aria-controls":m(n).contentId,"aria-expanded":m(n).open.value||!1,"aria-required":(y=m(n).required)==null?void 0:y.value,"aria-autocomplete":"none",disabled:i.value,dir:(w=m(n))==null?void 0:w.dir.value,"data-state":(E=m(n))!=null&&E.open.value?"open":"closed","data-disabled":i.value?"":void 0,"data-placeholder":m(yj)((T=m(n).modelValue)==null?void 0:T.value)?"":void 0,"as-child":g.asChild,as:g.as,onClick:v[0]||(v[0]=C=>{var x;(x=C==null?void 0:C.currentTarget)==null||x.focus()}),onPointerdown:v[1]||(v[1]=C=>{if(C.pointerType==="touch")return C.preventDefault();const x=C.target;x.hasPointerCapture(C.pointerId)&&x.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&(h(C),C.preventDefault())}),onPointerup:v[2]||(v[2]=xs(C=>{C.pointerType==="touch"&&h(C)},["prevent"])),onKeydown:v[3]||(v[3]=C=>{const x=m(a)!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&x&&C.key===" "||(m(u)(C.key,m(o)()),m(_j).includes(C.key)&&(d(),C.preventDefault()))})},{default:O(()=>[J(g.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3},8,["reference"]))}}),Hj=K({__name:"SelectValue",props:{placeholder:{default:""},asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,{forwardRef:n,currentElement:s}=$e(),r=au();bt(()=>{r.valueElement=s});const i=Q(()=>{var d;let a=[];const u=Array.from(r.optionsSet.value),c=h=>u.find(g=>Ym(h,g.value,r.by));return Array.isArray(r.modelValue.value)?a=r.modelValue.value.map(h=>{var g;return((g=c(h))==null?void 0:g.textContent)??""}):a=[((d=c(r.modelValue.value))==null?void 0:d.textContent)??""],a.filter(Boolean)}),o=Q(()=>i.value.length?i.value.join(", "):e.placeholder);return(a,u)=>($(),Y(m(Xe),{ref:m(n),as:a.as,"as-child":a.asChild,style:{pointerEvents:"none"},"data-placeholder":i.value.length?void 0:e.placeholder},{default:O(()=>[J(a.$slots,"default",{selectedLabel:i.value,modelValue:m(r).modelValue.value},()=>[ae(Ie(o.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),qj=K({__name:"SelectViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,{nonce:n}=$n(e),s=ik(n),r=lu(),i=r.position==="item-aligned"?rE():void 0,{forwardRef:o,currentElement:a}=$e();bt(()=>{r==null||r.onViewportChange(a.value)});const u=Z(0);function c(d){const h=d.currentTarget,{shouldExpandOnScrollRef:g,contentWrapper:v}=i??{};if(g!=null&&g.value&&(v!=null&&v.value)){const y=Math.abs(u.value-h.scrollTop);if(y>0){const w=window.innerHeight-di*2,E=Number.parseFloat(v.value.style.minHeight),T=Number.parseFloat(v.value.style.height),C=Math.max(E,T);if(C<w){const x=C+y,I=Math.min(w,x),V=x-I;v.value.style.height=`${I}px`,v.value.style.bottom==="0px"&&(h.scrollTop=V>0?V:0,v.value.style.justifyContent="flex-end")}}}u.value=h.scrollTop}return(d,h)=>($(),ie(Ke,null,[M(m(Xe),fe({ref:m(o),"data-reka-select-viewport":"",role:"presentation"},{...d.$attrs,...e},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:c}),{default:O(()=>[J(d.$slots,"default")]),_:3},16),M(m(Xe),{as:"style",nonce:m(s)},{default:O(()=>h[0]||(h[0]=[ae(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Wj=K({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=["horizontal","vertical"];function s(a){return n.includes(a)}const r=Q(()=>s(e.orientation)?e.orientation:"horizontal"),i=Q(()=>r.value==="vertical"?e.orientation:void 0),o=Q(()=>e.decorative?{role:"none"}:{"aria-orientation":i.value,role:"separator"});return(a,u)=>($(),Y(m(Xe),fe({as:a.as,"as-child":a.asChild,"data-orientation":r.value},o.value),{default:O(()=>[J(a.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),Gj=K({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,s)=>($(),Y(Wj,on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}});function Kj(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function yk(t,e,n){const i=100/(n-e)*(t-e);return eh(i,0,100)}function Zj(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Yj(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function Qj(t,e,n){const s=t/2,i=iE([0,50],[0,s]);return(s-i(e)*n)*n}function Xj(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Jj(t,e){if(e>0){const n=Xj(t);return Math.min(...n)>=e}return!0}function iE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function e6(t){return(String(t).split(".")[1]||"").length}function t6(t,e){const n=10**e;return Math.round(t*n)/n}const wk=["PageUp","PageDown"],bk=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ek={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},[Tk,Sk]=gn(["SliderVertical","SliderHorizontal"]),Ck=K({__name:"SliderImpl",props:{asChild:{type:Boolean},as:{default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,s=e,r=Gc();return(i,o)=>($(),Y(m(Xe),fe({"data-slider-impl":""},n,{onKeydown:o[0]||(o[0]=a=>{a.key==="Home"?(s("homeKeyDown",a),a.preventDefault()):a.key==="End"?(s("endKeyDown",a),a.preventDefault()):m(wk).concat(m(bk)).includes(a.key)&&(s("stepKeyDown",a),a.preventDefault())}),onPointerdown:o[1]||(o[1]=a=>{const u=a.target;u.setPointerCapture(a.pointerId),a.preventDefault(),m(r).thumbElements.value.includes(u)?u.focus():s("slideStart",a)}),onPointermove:o[2]||(o[2]=a=>{a.target.hasPointerCapture(a.pointerId)&&s("slideMove",a)}),onPointerup:o[3]||(o[3]=a=>{const u=a.target;u.hasPointerCapture(a.pointerId)&&(u.releasePointerCapture(a.pointerId),s("slideEnd",a))})}),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),n6=K({__name:"SliderHorizontal",props:{dir:{},min:{},max:{},inverted:{type:Boolean}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,s=e,{max:r,min:i,dir:o,inverted:a}=$n(n),{forwardRef:u,currentElement:c}=$e(),d=Gc(),h=Z(),g=Z(),v=Q(()=>(o==null?void 0:o.value)==="ltr"&&!a.value||(o==null?void 0:o.value)!=="ltr"&&a.value);function y(w,E){const T=g.value||c.value.getBoundingClientRect(),C=[...d.thumbElements.value][d.valueIndexToChangeRef.value],x=d.thumbAlignment.value==="contain"?C.clientWidth:0;!h.value&&!E&&d.thumbAlignment.value==="contain"&&(h.value=w.clientX-C.getBoundingClientRect().left);const I=[0,T.width-x],V=v.value?[i.value,r.value]:[r.value,i.value],F=iE(I,V);g.value=T;const k=E?w.clientX-T.left-x/2:w.clientX-T.left-(h.value??0);return F(k)}return Sk({startEdge:v.value?"left":"right",endEdge:v.value?"right":"left",direction:v.value?1:-1,size:"width"}),(w,E)=>($(),Y(Ck,{ref:m(u),dir:m(o),"data-orientation":"horizontal",style:Ls({"--reka-slider-thumb-transform":!v.value&&m(d).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:E[0]||(E[0]=T=>{const C=y(T,!0);s("slideStart",C)}),onSlideMove:E[1]||(E[1]=T=>{const C=y(T);s("slideMove",C)}),onSlideEnd:E[2]||(E[2]=()=>{g.value=void 0,h.value=void 0,s("slideEnd")}),onStepKeyDown:E[3]||(E[3]=T=>{const C=v.value?"from-left":"from-right",x=m(Ek)[C].includes(T.key);s("stepKeyDown",T,x?-1:1)}),onEndKeyDown:E[4]||(E[4]=T=>s("endKeyDown",T)),onHomeKeyDown:E[5]||(E[5]=T=>s("homeKeyDown",T))},{default:O(()=>[J(w.$slots,"default")]),_:3},8,["dir","style"]))}}),s6=K({__name:"SliderVertical",props:{min:{},max:{},inverted:{type:Boolean}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,s=e,{max:r,min:i,inverted:o}=$n(n),a=Gc(),{forwardRef:u,currentElement:c}=$e(),d=Z(),h=Z(),g=Q(()=>!o.value);function v(y,w){const E=h.value||c.value.getBoundingClientRect(),T=[...a.thumbElements.value][a.valueIndexToChangeRef.value],C=a.thumbAlignment.value==="contain"?T.clientHeight:0;!d.value&&!w&&a.thumbAlignment.value==="contain"&&(d.value=y.clientY-T.getBoundingClientRect().top);const x=[0,E.height-C],I=g.value?[r.value,i.value]:[i.value,r.value],V=iE(x,I),F=w?y.clientY-E.top-C/2:y.clientY-E.top-(d.value??0);return h.value=E,V(F)}return Sk({startEdge:g.value?"bottom":"top",endEdge:g.value?"top":"bottom",size:"height",direction:g.value?1:-1}),(y,w)=>($(),Y(Ck,{ref:m(u),"data-orientation":"vertical",style:Ls({"--reka-slider-thumb-transform":!g.value&&m(a).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:w[0]||(w[0]=E=>{const T=v(E,!0);s("slideStart",T)}),onSlideMove:w[1]||(w[1]=E=>{const T=v(E);s("slideMove",T)}),onSlideEnd:w[2]||(w[2]=()=>{h.value=void 0,d.value=void 0,s("slideEnd")}),onStepKeyDown:w[3]||(w[3]=E=>{const T=g.value?"from-bottom":"from-top",C=m(Ek)[T].includes(E.key);s("stepKeyDown",E,C?-1:1)}),onEndKeyDown:w[4]||(w[4]=E=>s("endKeyDown",E)),onHomeKeyDown:w[5]||(w[5]=E=>s("homeKeyDown",E))},{default:O(()=>[J(y.$slots,"default")]),_:3},8,["style"]))}}),[Gc,r6]=gn("SliderRoot"),i6=K({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{default:()=>[0]},modelValue:{},disabled:{type:Boolean,default:!1},orientation:{default:"horizontal"},dir:{},inverted:{type:Boolean,default:!1},min:{default:0},max:{default:100},step:{default:1},minStepsBetweenThumbs:{default:0},thumbAlignment:{default:"contain"},asChild:{type:Boolean},as:{default:"span"},name:{},required:{type:Boolean}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,s=e,{min:r,max:i,step:o,minStepsBetweenThumbs:a,orientation:u,disabled:c,thumbAlignment:d,dir:h}=$n(n),g=ou(h),{forwardRef:v,currentElement:y}=$e(),w=kh(y),{CollectionSlot:E}=rr({isProvider:!0}),T=Mr(n,"modelValue",s,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),C=Q(()=>Array.isArray(T.value)?[...T.value]:[]),x=Z(0),I=Z(C.value);function V(N){const U=Yj(C.value,N);P(N,U)}function F(N){P(N,x.value)}function k(){const N=I.value[x.value];C.value[x.value]!==N&&s("valueCommit",Jt(C.value))}function P(N,U,{commit:W}={commit:!1}){var _e;const q=e6(o.value),Pe=t6(Math.round((N-r.value)/o.value)*o.value+r.value,q),Be=eh(Pe,r.value,i.value),ye=Kj(C.value,Be,U);if(Jj(ye,a.value*o.value)){x.value=ye.indexOf(Be);const me=String(ye)!==String(T.value);me&&W&&s("valueCommit",ye),me&&((_e=A.value[x.value])==null||_e.focus(),T.value=ye)}}const A=Z([]);return r6({modelValue:T,currentModelValue:C,valueIndexToChangeRef:x,thumbElements:A,orientation:u,min:r,max:i,disabled:c,thumbAlignment:d}),(N,U)=>($(),Y(m(E),null,{default:O(()=>[($(),Y(bi(m(u)==="horizontal"?n6:s6),fe(N.$attrs,{ref:m(v),"as-child":N.asChild,as:N.as,min:m(r),max:m(i),dir:m(g),inverted:N.inverted,"aria-disabled":m(c),"data-disabled":m(c)?"":void 0,onPointerdown:U[0]||(U[0]=()=>{m(c)||(I.value=C.value)}),onSlideStart:U[1]||(U[1]=W=>!m(c)&&V(W)),onSlideMove:U[2]||(U[2]=W=>!m(c)&&F(W)),onSlideEnd:U[3]||(U[3]=W=>!m(c)&&k()),onHomeKeyDown:U[4]||(U[4]=W=>!m(c)&&P(m(r),0,{commit:!0})),onEndKeyDown:U[5]||(U[5]=W=>!m(c)&&P(m(i),C.value.length-1,{commit:!0})),onStepKeyDown:U[6]||(U[6]=(W,q)=>{if(!m(c)){const ye=m(wk).includes(W.key)||W.shiftKey&&m(bk).includes(W.key)?10:1,_e=x.value,me=C.value[_e],nt=m(o)*ye*q;P(me+nt,_e,{commit:!0})}})}),{default:O(()=>[J(N.$slots,"default",{modelValue:m(T)}),m(w)&&N.name?($(),Y(m(T_),{key:0,type:"number",value:m(T),name:N.name,required:N.required,disabled:m(c),step:m(o)},null,8,["value","name","required","disabled","step"])):Ht("",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),o6=K({__name:"SliderRange",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=Gc(),n=Tk();$e();const s=Q(()=>e.currentModelValue.value.map(o=>yk(o,e.min.value,e.max.value))),r=Q(()=>e.currentModelValue.value.length>1?Math.min(...s.value):0),i=Q(()=>100-Math.max(...s.value,0));return(o,a)=>($(),Y(m(Xe),{"data-disabled":m(e).disabled.value?"":void 0,"data-orientation":m(e).orientation.value,"as-child":o.asChild,as:o.as,style:Ls({[m(n).startEdge]:`${r.value}%`,[m(n).endEdge]:`${i.value}%`})},{default:O(()=>[J(o.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),a6=K({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{},asChild:{type:Boolean},as:{}},setup(t){const e=t,n=Gc(),s=Tk(),{forwardRef:r,currentElement:i}=$e(),{CollectionItem:o}=rr(),a=Q(()=>{var y,w;return(w=(y=n.modelValue)==null?void 0:y.value)==null?void 0:w[e.index]}),u=Q(()=>a.value===void 0?0:yk(a.value,n.min.value??0,n.max.value??100)),c=Q(()=>{var y,w;return Zj(e.index,((w=(y=n.modelValue)==null?void 0:y.value)==null?void 0:w.length)??0)}),d=sk(i),h=Q(()=>d[s.size].value),g=Q(()=>n.thumbAlignment.value==="overflow"||!h.value?0:Qj(h.value,u.value,s.direction)),v=W0();return bt(()=>{n.thumbElements.value.push(i.value)}),Is(()=>{const y=n.thumbElements.value.findIndex(w=>w===i.value)??-1;n.thumbElements.value.splice(y,1)}),(y,w)=>($(),Y(m(o),null,{default:O(()=>[M(m(Xe),fe(y.$attrs,{ref:m(r),role:"slider",tabindex:m(n).disabled.value?void 0:0,"aria-label":y.$attrs["aria-label"]||c.value,"data-disabled":m(n).disabled.value?"":void 0,"data-orientation":m(n).orientation.value,"aria-valuenow":a.value,"aria-valuemin":m(n).min.value,"aria-valuemax":m(n).max.value,"aria-orientation":m(n).orientation.value,"as-child":y.asChild,as:y.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[m(s).startEdge]:`calc(${u.value}% + ${g.value}px)`,display:!m(v)&&a.value===void 0?"none":void 0},onFocus:w[0]||(w[0]=()=>{m(n).valueIndexToChangeRef.value=y.index})}),{default:O(()=>[J(y.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),l6=K({__name:"SliderThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=t,{getItems:n}=rr(),{forwardRef:s,currentElement:r}=$e(),i=Q(()=>r.value?n(!0).findIndex(o=>o.ref===r.value):-1);return(o,a)=>($(),Y(a6,fe({ref:m(s)},e,{index:i.value}),{default:O(()=>[J(o.$slots,"default")]),_:3},16,["index"]))}}),u6=K({__name:"SliderTrack",props:{asChild:{type:Boolean},as:{default:"span"}},setup(t){const e=Gc();return $e(),(n,s)=>($(),Y(m(Xe),{"as-child":n.asChild,as:n.as,"data-disabled":m(e).disabled.value?"":void 0,"data-orientation":m(e).orientation.value},{default:O(()=>[J(n.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),xk=K({__name:"ToastAnnounceExclude",props:{altText:{},asChild:{type:Boolean},as:{}},setup(t){return(e,n)=>($(),Y(m(Xe),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":e.altText||void 0},{default:O(()=>[J(e.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),[A_,c6]=gn("ToastProvider"),d6=K({inheritAttrs:!1,__name:"ToastProvider",props:{label:{default:"Notification"},duration:{default:5e3},swipeDirection:{default:"right"},swipeThreshold:{default:50}},setup(t){const e=t,{label:n,duration:s,swipeDirection:r,swipeThreshold:i}=$n(e);rr({isProvider:!0});const o=Z(),a=Z(0),u=Z(!1),c=Z(!1);if(e.label&&typeof e.label=="string"&&!e.label.trim()){const d="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(d)}return c6({label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:a,viewport:o,onViewportChange(d){o.value=d},onToastAdd(){a.value++},onToastRemove(){a.value--},isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:c}),(d,h)=>J(d.$slots,"default")}}),f6=K({__name:"ToastAnnounce",setup(t){const e=A_(),n=X4(1e3),s=Z(!1);return $1(()=>{s.value=!0}),(r,i)=>m(n)||s.value?($(),Y(m(Ah),{key:0},{default:O(()=>[ae(Ie(m(e).label.value)+" ",1),J(r.$slots,"default")]),_:3})):Ht("",!0)}}),h6="toast.swipeStart",p6="toast.swipeMove",m6="toast.swipeCancel",g6="toast.swipeEnd",Lw="toast.viewportPause",Dw="toast.viewportResume";function zp(t,e,n){const s=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),s.dispatchEvent(r)}function ox(t,e,n=0){const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n}function _6(t){return t.nodeType===t.ELEMENT_NODE}function Ik(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),_6(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.rekaToastAnnounceExclude==="";if(!r)if(i){const o=s.dataset.rekaToastAnnounceAlt;o&&e.push(o)}else e.push(...Ik(s))}}),e}const[v6,y6]=gn("ToastRoot"),w6=K({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{},open:{type:Boolean,default:!1},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r,currentElement:i}=$e(),{CollectionItem:o}=rr(),a=A_(),u=Z(null),c=Z(null),d=Q(()=>typeof n.duration=="number"?n.duration:a.duration.value),h=Z(0),g=Z(d.value),v=Z(0),y=Z(d.value),w=$1(()=>{const x=new Date().getTime()-h.value;y.value=Math.max(g.value-x,0)},{fpsLimit:60});function E(x){x<=0||x===Number.POSITIVE_INFINITY||uo&&(window.clearTimeout(v.value),h.value=new Date().getTime(),v.value=window.setTimeout(T,x))}function T(x){var F,k;const I=(x==null?void 0:x.pointerType)==="";((F=i.value)==null?void 0:F.contains(fs()))&&I&&((k=a.viewport.value)==null||k.focus()),I&&(a.isClosePausedRef.value=!1),s("close")}const C=Q(()=>i.value?Ik(i.value):null);if(n.type&&!["foreground","background"].includes(n.type)){const x="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(x)}return qn(x=>{const I=a.viewport.value;if(I){const V=()=>{E(g.value),w.resume(),s("resume")},F=()=>{const k=new Date().getTime()-h.value;g.value=g.value-k,window.clearTimeout(v.value),w.pause(),s("pause")};return I.addEventListener(Lw,F),I.addEventListener(Dw,V),()=>{I.removeEventListener(Lw,F),I.removeEventListener(Dw,V)}}}),ct(()=>[n.open,d.value],()=>{g.value=d.value,n.open&&!a.isClosePausedRef.value&&E(d.value)},{immediate:!0}),G0("Escape",x=>{s("escapeKeyDown",x),x.defaultPrevented||(a.isFocusedToastEscapeKeyDownRef.value=!0,T())}),bt(()=>{a.onToastAdd()}),Is(()=>{a.onToastRemove()}),y6({onClose:T}),(x,I)=>($(),ie(Ke,null,[C.value?($(),Y(f6,{key:0,role:"alert","aria-live":x.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:O(()=>[ae(Ie(C.value),1)]),_:1},8,["aria-live"])):Ht("",!0),m(a).viewport.value?($(),Y(C0,{key:1,to:m(a).viewport.value},[M(m(o),null,{default:O(()=>[M(m(Xe),fe({ref:m(r),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},x.$attrs,{as:x.as,"as-child":x.asChild,"data-state":x.open?"open":"closed","data-swipe-direction":m(a).swipeDirection.value,style:{userSelect:"none",touchAction:"none"},onPointerdown:I[0]||(I[0]=xs(V=>{u.value={x:V.clientX,y:V.clientY}},["left"])),onPointermove:I[1]||(I[1]=V=>{if(!u.value)return;const F=V.clientX-u.value.x,k=V.clientY-u.value.y,P=!!c.value,A=["left","right"].includes(m(a).swipeDirection.value),N=["left","up"].includes(m(a).swipeDirection.value)?Math.min:Math.max,U=A?N(0,F):0,W=A?0:N(0,k),q=V.pointerType==="touch"?10:2,Pe={x:U,y:W},Be={originalEvent:V,delta:Pe};P?(c.value=Pe,m(zp)(m(p6),ye=>s("swipeMove",ye),Be)):m(ox)(Pe,m(a).swipeDirection.value,q)?(c.value=Pe,m(zp)(m(h6),ye=>s("swipeStart",ye),Be),V.target.setPointerCapture(V.pointerId)):(Math.abs(F)>q||Math.abs(k)>q)&&(u.value=null)}),onPointerup:I[2]||(I[2]=V=>{const F=c.value,k=V.target;if(k.hasPointerCapture(V.pointerId)&&k.releasePointerCapture(V.pointerId),c.value=null,u.value=null,F){const P=V.currentTarget,A={originalEvent:V,delta:F};m(ox)(F,m(a).swipeDirection.value,m(a).swipeThreshold.value)?m(zp)(m(g6),N=>s("swipeEnd",N),A):m(zp)(m(m6),N=>s("swipeCancel",N),A),P==null||P.addEventListener("click",N=>N.preventDefault(),{once:!0})}})}),{default:O(()=>[J(x.$slots,"default",{remaining:y.value,duration:d.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction"])]),_:3})],8,["to"])):Ht("",!0)],64))}}),Ak=K({__name:"ToastClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=v6(),{forwardRef:s}=$e();return(r,i)=>($(),Y(xk,{"as-child":""},{default:O(()=>[M(m(Xe),fe(e,{ref:m(s),type:r.as==="button"?"button":void 0,onClick:m(n).onClose}),{default:O(()=>[J(r.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),b6=K({__name:"ToastAction",props:{altText:{},asChild:{type:Boolean},as:{}},setup(t){if(!t.altText)throw new Error("Missing prop `altText` expected on `ToastAction`");const{forwardRef:n}=$e();return(s,r)=>s.altText?($(),Y(xk,{key:0,"alt-text":s.altText,"as-child":""},{default:O(()=>[M(Ak,{ref:m(n),as:s.as,"as-child":s.asChild},{default:O(()=>[J(s.$slots,"default")]),_:3},8,["as","as-child"])]),_:3},8,["alt-text"])):Ht("",!0)}}),E6=K({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return $e(),(n,s)=>($(),Y(m(Xe),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),T6=K({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,default:!0},forceMount:{type:Boolean},type:{default:"foreground"},open:{type:Boolean,default:void 0},duration:{},asChild:{type:Boolean},as:{default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,s=e,{forwardRef:r}=$e(),i=Mr(n,"open",s,{defaultValue:n.defaultOpen,passive:n.open===void 0});return(o,a)=>($(),Y(m(Pi),{present:o.forceMount||m(i)},{default:O(()=>[M(w6,fe({ref:m(r),open:m(i),type:o.type,as:o.as,"as-child":o.asChild,duration:o.duration},o.$attrs,{onClose:a[0]||(a[0]=u=>i.value=!1),onPause:a[1]||(a[1]=u=>s("pause")),onResume:a[2]||(a[2]=u=>s("resume")),onEscapeKeyDown:a[3]||(a[3]=u=>s("escapeKeyDown",u)),onSwipeStart:a[4]||(a[4]=u=>{s("swipeStart",u),u.defaultPrevented||u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:a[5]||(a[5]=u=>{if(s("swipeMove",u),!u.defaultPrevented){const{x:c,y:d}=u.detail.delta,h=u.currentTarget;h.setAttribute("data-swipe","move"),h.style.setProperty("--reka-toast-swipe-move-x",`${c}px`),h.style.setProperty("--reka-toast-swipe-move-y",`${d}px`)}}),onSwipeCancel:a[6]||(a[6]=u=>{if(s("swipeCancel",u),!u.defaultPrevented){const c=u.currentTarget;c.setAttribute("data-swipe","cancel"),c.style.removeProperty("--reka-toast-swipe-move-x"),c.style.removeProperty("--reka-toast-swipe-move-y"),c.style.removeProperty("--reka-toast-swipe-end-x"),c.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:a[7]||(a[7]=u=>{if(s("swipeEnd",u),!u.defaultPrevented){const{x:c,y:d}=u.detail.delta,h=u.currentTarget;h.setAttribute("data-swipe","end"),h.style.removeProperty("--reka-toast-swipe-move-x"),h.style.removeProperty("--reka-toast-swipe-move-y"),h.style.setProperty("--reka-toast-swipe-end-x",`${c}px`),h.style.setProperty("--reka-toast-swipe-end-y",`${d}px`),i.value=!1}})}),{default:O(({remaining:u,duration:c})=>[J(o.$slots,"default",{remaining:u,duration:c,open:m(i)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),S6=K({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return $e(),(n,s)=>($(),Y(m(Xe),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),C6=K({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t,{forwardRef:n,currentElement:s}=$e();return bt(()=>{ci.branches.add(s.value)}),Is(()=>{ci.branches.delete(s.value)}),(r,i)=>($(),Y(m(Xe),fe({ref:m(n)},e),{default:O(()=>[J(r.$slots,"default")]),_:3},16))}}),ax=K({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(t,{emit:e}){const n=e,s=A_();return(r,i)=>($(),Y(m(Ah),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:i[0]||(i[0]=o=>{var c;const a=o.relatedTarget;!((c=m(s).viewport.value)!=null&&c.contains(a))&&n("focusFromOutsideViewport")})},{default:O(()=>[J(r.$slots,"default")]),_:3}))}}),x6=K({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{default:()=>["F8"]},label:{type:[String,Function],default:"Notifications ({hotkey})"},asChild:{type:Boolean},as:{default:"ol"}},setup(t){const e=t,{hotkey:n,label:s}=$n(e),{forwardRef:r,currentElement:i}=$e(),{CollectionSlot:o,getItems:a}=rr(),u=A_(),c=Q(()=>u.toastCount.value>0),d=Z(),h=Z(),g=Q(()=>n.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));G0(n.value,()=>{i.value.focus()}),bt(()=>{u.onViewportChange(i.value)}),qn(y=>{const w=i.value;if(c.value&&w){const E=()=>{if(!u.isClosePausedRef.value){const V=new CustomEvent(Lw);w.dispatchEvent(V),u.isClosePausedRef.value=!0}},T=()=>{if(u.isClosePausedRef.value){const V=new CustomEvent(Dw);w.dispatchEvent(V),u.isClosePausedRef.value=!1}},C=V=>{!w.contains(V.relatedTarget)&&T()},x=()=>{w.contains(fs())||T()},I=V=>{var P,A,N;const F=V.altKey||V.ctrlKey||V.metaKey;if(V.key==="Tab"&&!F){const U=fs(),W=V.shiftKey;if(V.target===w&&W){(P=d.value)==null||P.focus();return}const Be=v({tabbingDirection:W?"backwards":"forwards"}),ye=Be.findIndex(_e=>_e===U);_m(Be.slice(ye+1))?V.preventDefault():W?(A=d.value)==null||A.focus():(N=h.value)==null||N.focus()}};w.addEventListener("focusin",E),w.addEventListener("focusout",C),w.addEventListener("pointermove",E),w.addEventListener("pointerleave",x),w.addEventListener("keydown",I),window.addEventListener("blur",E),window.addEventListener("focus",T),y(()=>{w.removeEventListener("focusin",E),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",E),w.removeEventListener("pointerleave",x),w.removeEventListener("keydown",I),window.removeEventListener("blur",E),window.removeEventListener("focus",T)})}});function v({tabbingDirection:y}){const E=a().map(T=>T.ref).map(T=>{const C=[T,...K0(T)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?E.reverse():E).flat()}return(y,w)=>($(),Y(m(C6),{role:"region","aria-label":typeof m(s)=="string"?m(s).replace("{hotkey}",g.value):m(s)(g.value),tabindex:"-1",style:Ls({pointerEvents:c.value?void 0:"none"})},{default:O(()=>[c.value?($(),Y(ax,{key:0,ref:E=>{d.value=m(Jr)(E)},onFocusFromOutsideViewport:w[0]||(w[0]=()=>{const E=v({tabbingDirection:"forwards"});m(_m)(E)})},null,512)):Ht("",!0),M(m(o),null,{default:O(()=>[M(m(Xe),fe({ref:m(r),tabindex:"-1",as:y.as,"as-child":y.asChild},y.$attrs),{default:O(()=>[J(y.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),c.value?($(),Y(ax,{key:1,ref:E=>{h.value=m(Jr)(E)},onFocusFromOutsideViewport:w[1]||(w[1]=()=>{const E=v({tabbingDirection:"backwards"});m(_m)(E)})},null,512)):Ht("",!0)]),_:3},8,["aria-label","style"]))}}),Rk="tooltip.open",[oE,I6]=gn("TooltipProvider"),A6=K({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{default:700},skipDelayDuration:{default:300},disableHoverableContent:{type:Boolean,default:!1},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean,default:!1}},setup(t){const e=t,{delayDuration:n,skipDelayDuration:s,disableHoverableContent:r,disableClosingTrigger:i,ignoreNonKeyboardFocus:o,disabled:a}=$n(e);$e();const u=Z(!0),c=Z(!1),{start:d,stop:h}=q0(()=>{u.value=!0},s,{immediate:!1});return I6({isOpenDelayed:u,delayDuration:n,onOpen(){h(),u.value=!1},onClose(){d()},isPointerInTransitRef:c,disableHoverableContent:r,disableClosingTrigger:i,disabled:a,ignoreNonKeyboardFocus:o}),(g,v)=>J(g.$slots,"default")}}),[R_,R6]=gn("TooltipRoot"),P6=K({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},delayDuration:{default:void 0},disableHoverableContent:{type:Boolean,default:void 0},disableClosingTrigger:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,default:void 0}},emits:["update:open"],setup(t,{emit:e}){const n=t,s=e;$e();const r=oE(),i=Q(()=>n.disableHoverableContent??r.disableHoverableContent.value),o=Q(()=>n.disableClosingTrigger??r.disableClosingTrigger.value),a=Q(()=>n.disabled??r.disabled.value),u=Q(()=>n.delayDuration??r.delayDuration.value),c=Q(()=>n.ignoreNonKeyboardFocus??r.ignoreNonKeyboardFocus.value),d=Mr(n,"open",s,{defaultValue:n.defaultOpen,passive:n.open===void 0});ct(d,x=>{r.onClose&&(x?(r.onOpen(),document.dispatchEvent(new CustomEvent(Rk))):r.onClose())});const h=Z(!1),g=Z(),v=Q(()=>d.value?h.value?"delayed-open":"instant-open":"closed"),{start:y,stop:w}=q0(()=>{h.value=!0,d.value=!0},u,{immediate:!1});function E(){w(),h.value=!1,d.value=!0}function T(){w(),d.value=!1}function C(){y()}return R6({contentId:"",open:d,stateAttribute:v,trigger:g,onTriggerChange(x){g.value=x},onTriggerEnter(){r.isOpenDelayed.value?C():E()},onTriggerLeave(){i.value?T():w()},onOpen:E,onClose:T,disableHoverableContent:i,disableClosingTrigger:o,disabled:a,ignoreNonKeyboardFocus:c}),(x,I)=>($(),Y(m(X0),null,{default:O(()=>[J(x.$slots,"default",{open:m(d)})]),_:3}))}}),Pk=K({__name:"TooltipContentImpl",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{default:0},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},arrowPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,s=e,r=R_(),{forwardRef:i}=$e(),o=jF(),a=Q(()=>{var d;return(d=o.default)==null?void 0:d.call(o,{})}),u=Q(()=>{var g;if(n.ariaLabel)return n.ariaLabel;let d="";function h(v){typeof v.children=="string"&&v.type!==to?d+=v.children:Array.isArray(v.children)&&v.children.forEach(y=>h(y))}return(g=a.value)==null||g.forEach(v=>h(v)),d}),c=Q(()=>{const{ariaLabel:d,...h}=n;return h});return bt(()=>{ja(window,"scroll",d=>{const h=d.target;h!=null&&h.contains(r.trigger.value)&&r.onClose()}),ja(window,Rk,r.onClose)}),(d,h)=>($(),Y(m(b_),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:h[0]||(h[0]=g=>s("escapeKeyDown",g)),onPointerDownOutside:h[1]||(h[1]=g=>{var v;m(r).disableClosingTrigger.value&&((v=m(r).trigger.value)!=null&&v.contains(g.target))&&g.preventDefault(),s("pointerDownOutside",g)}),onFocusOutside:h[2]||(h[2]=xs(()=>{},["prevent"])),onDismiss:h[3]||(h[3]=g=>m(r).onClose())},{default:O(()=>[M(m(eE),fe({ref:m(i),"data-state":m(r).stateAttribute.value},{...d.$attrs,...c.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:O(()=>[J(d.$slots,"default"),M(m(Ah),{id:m(r).contentId,role:"tooltip"},{default:O(()=>[ae(Ie(u.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),k6=K({__name:"TooltipContentHoverable",props:{ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},setup(t){const n=br(t),{forwardRef:s,currentElement:r}=$e(),{trigger:i,onClose:o}=R_(),a=oE(),{isPointerInTransit:u,onPointerExit:c}=I3(i,r);return a.isPointerInTransitRef=u,c(()=>{o()}),(d,h)=>($(),Y(Pk,fe({ref:m(s)},m(n)),{default:O(()=>[J(d.$slots,"default")]),_:3},16))}}),O6=K({__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{default:"top"},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,s=e,r=R_(),i=as(n,s),{forwardRef:o}=$e();return(a,u)=>($(),Y(m(Pi),{present:a.forceMount||m(r).open.value},{default:O(()=>[($(),Y(bi(m(r).disableHoverableContent.value?Pk:k6),fe({ref:m(o)},m(i)),{default:O(()=>[J(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),L6=K({__name:"TooltipPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const e=t;return(n,s)=>($(),Y(m(E_),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),D6=K({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t,n=R_(),s=oE();n.contentId||(n.contentId=Ci(void 0,"reka-tooltip-content"));const{forwardRef:r,currentElement:i}=$e(),o=Z(!1),a=Z(!1),u=Q(()=>n.disabled.value?{}:{click:w,focus:v,pointermove:h,pointerleave:g,pointerdown:d,blur:y});bt(()=>{n.onTriggerChange(i.value)});function c(){setTimeout(()=>{o.value=!1},1)}function d(){n.open&&n.onClose(),o.value=!0,document.addEventListener("pointerup",c,{once:!0})}function h(E){E.pointerType!=="touch"&&!a.value&&!s.isPointerInTransitRef.value&&(n.onTriggerEnter(),a.value=!0)}function g(){n.onTriggerLeave(),a.value=!1}function v(E){var T,C;o.value||n.ignoreNonKeyboardFocus.value&&!((C=(T=E.target).matches)!=null&&C.call(T,":focus-visible"))||n.onOpen()}function y(){n.onClose()}function w(){n.disableClosingTrigger.value||n.onClose()}return(E,T)=>($(),Y(m(J0),{"as-child":"",reference:E.reference},{default:O(()=>[M(m(Xe),fe({ref:m(r),"aria-describedby":m(n).open.value?m(n).contentId:void 0,"data-state":m(n).stateAttribute.value,as:E.as,"as-child":e.asChild,"data-grace-area-trigger":""},UF(u.value)),{default:O(()=>[J(E.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),M6=K({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=as(t,e);return(i,o)=>($(),Y(m(z1),on(un(m(r))),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}});/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=({size:t,strokeWidth:e=2,absoluteStrokeWidth:n,color:s,iconNode:r,name:i,class:o,...a},{slots:u})=>Ft("svg",{...jp,width:t||jp.width,height:t||jp.height,stroke:s||jp.stroke,"stroke-width":n?Number(e)*24/Number(t):e,class:["lucide",`lucide-${N6(i??"icon")}`],...a},[...r.map(c=>Ft(...c)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=(t,e)=>(n,{slots:s})=>Ft(V6,{...n,iconNode:e,name:t},s);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ir("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ir("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ir("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ir("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=ir("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ir("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ir("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ir("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ir("ChevronsLeftIcon",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ir("ChevronsRightIcon",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=ir("EllipsisIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ir("GalleryVerticalEndIcon",[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ir("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ir("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=ir("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Z6=K({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,side:a,...u}=n;return u}),i=as(r,s);return(o,a)=>($(),Y(m(uk),null,{default:O(()=>[M(m(Q1),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),M(m(Z1),fe({class:m(Fe)(m(Y6)({side:o.side}),n.class)},{...m(i),...o.$attrs}),{default:O(()=>[J(o.$slots,"default"),M(m(j1),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:O(()=>[M(m(aE),{class:"w-4 h-4"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),Y6=m_("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Q6="sidebar:state",X6=60*60*24*7,J6="16rem",eH="18rem",tH="3rem",nH="b",[k_,sH]=gn("Sidebar"),rH={class:"flex h-full w-full flex-col"},iH=["data-state","data-collapsible","data-variant","data-side"],oH={"data-sidebar":"sidebar",class:"flex h-full w-full flex-col text-sidebar-foreground bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},aH=K({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{}},setup(t){const e=t,{isMobile:n,state:s,openMobile:r,setOpenMobile:i}=k_();return(o,a)=>o.collapsible==="none"?($(),ie("div",fe({key:0,class:m(Fe)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",e.class)},o.$attrs),[J(o.$slots,"default")],16)):m(n)?($(),Y(m(M6),fe({key:1,open:m(r)},o.$attrs,{"onUpdate:open":m(i)}),{default:O(()=>[M(m(Z6),{"data-sidebar":"sidebar","data-mobile":"true",side:o.side,class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:Ls({"--sidebar-width":m(eH)})},{default:O(()=>[z("div",rH,[J(o.$slots,"default")])]),_:3},8,["side","style"])]),_:3},16,["open","onUpdate:open"])):($(),ie("div",{key:2,class:"group peer hidden md:block","data-state":m(s),"data-collapsible":m(s)==="collapsed"?o.collapsible:"","data-variant":o.variant,"data-side":o.side},[z("div",{class:vt(m(Fe)("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",o.variant==="floating"||o.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]"))},null,2),z("div",fe({class:m(Fe)("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",o.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",o.variant==="floating"||o.variant==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",e.class)},o.$attrs),[z("div",oH,[J(o.$slots,"default")])],16)],8,iH))}}),lH=K({__name:"SidebarContent",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{"data-sidebar":"content",class:vt(m(Fe)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e.class))},[J(n.$slots,"default")],2))}}),Lk=K({__name:"SidebarGroup",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{"data-sidebar":"group",class:vt(m(Fe)("relative flex w-full min-w-0 flex-col p-2",e.class))},[J(n.$slots,"default")],2))}}),Dk=K({__name:"SidebarGroupContent",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{"data-sidebar":"group-content",class:vt(m(Fe)("w-full text-sm",e.class))},[J(n.$slots,"default")],2))}}),uH=K({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(Xe),{"data-sidebar":"group-label",as:n.as,"as-child":n.asChild,class:vt(m(Fe)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e.class))},{default:O(()=>[J(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),cH=K({__name:"SidebarHeader",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{"data-sidebar":"header",class:vt(m(Fe)("flex flex-col gap-2 p-2",e.class))},[J(n.$slots,"default")],2))}});function Mw(t){return su()?(zc(t),!0):!1}const cc=new WeakMap,Mk=(...t)=>{var e;const n=t[0],s=(e=ps())==null?void 0:e.proxy;if(s==null&&!I0())throw new Error("injectLocal must be called in setup");return s&&cc.has(s)&&n in cc.get(s)?cc.get(s)[n]:ln(...t)};function dH(t,e){var n;const s=(n=ps())==null?void 0:n.proxy;if(s==null)throw new Error("provideLocal must be called in setup");cc.has(s)||cc.set(s,Object.create(null));const r=cc.get(s);return r[t]=e,rs(t,e)}function fH(t,e){const n=Symbol(t.name||"InjectionState"),s=void 0;return[(...o)=>{const a=t(...o);return dH(n,a),a},()=>Mk(n,s)]}function hH(t){if(!Dt(t))return vr(t);const e=new Proxy({},{get(n,s,r){return m(Reflect.get(t.value,s,r))},set(n,s,r){return Dt(t.value[s])&&!Dt(r)?t.value[s].value=r:t.value[s]=r,!0},deleteProperty(n,s){return Reflect.deleteProperty(t.value,s)},has(n,s){return Reflect.has(t.value,s)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return vr(e)}function pH(t){return hH(Q(t))}function Nk(t,...e){const n=e.flat(),s=n[0];return pH(()=>Object.fromEntries(typeof s=="function"?Object.entries($n(t)).filter(([r,i])=>!s(ke(i),r)):Object.entries($n(t)).filter(r=>!n.includes(r[0]))))}const Nw=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const mH=t=>typeof t<"u",gH=Object.prototype.toString,_H=t=>gH.call(t)==="[object Object]",vH=()=>{};function yH(...t){if(t.length!==1)return Oo(...t);const e=t[0];return typeof e=="function"?rl(T0(()=>({get:e,set:vH}))):Z(e)}function wH(t,e){function n(...s){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(i)})}return n}const Vk=t=>t();function bH(t=Vk,e={}){const{initialState:n="active"}=e,s=yH(n==="active");function r(){s.value=!1}function i(){s.value=!0}const o=(...a)=>{s.value&&t(...a)};return{isActive:rl(s),pause:r,resume:i,eventFilter:o}}function lx(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function uy(t){return Array.isArray(t)?t:[t]}function EH(t,e,n={}){const{eventFilter:s=Vk,...r}=n;return ct(t,wH(s,e),r)}function ux(t,e,n={}){const{eventFilter:s,initialState:r="active",...i}=n,{eventFilter:o,pause:a,resume:u,isActive:c}=bH(s,{initialState:r});return{stop:EH(t,e,{...i,eventFilter:o}),pause:a,resume:u,isActive:c}}function TH(t,e,...[n]){const{flush:s="sync",deep:r=!1,immediate:i=!0,direction:o="both",transform:a={}}=n||{},u=[],c="ltr"in a&&a.ltr||(g=>g),d="rtl"in a&&a.rtl||(g=>g);return(o==="both"||o==="ltr")&&u.push(ux(t,g=>{u.forEach(v=>v.pause()),e.value=c(g),u.forEach(v=>v.resume())},{flush:s,deep:r,immediate:i})),(o==="both"||o==="rtl")&&u.push(ux(e,g=>{u.forEach(v=>v.pause()),t.value=d(g),u.forEach(v=>v.resume())},{flush:s,deep:r,immediate:i})),()=>{u.forEach(g=>g.stop())}}function SH(t,e=1e3,n={}){const{immediate:s=!0,immediateCallback:r=!1}=n;let i=null;const o=Cs(!1);function a(){i&&(clearInterval(i),i=null)}function u(){o.value=!1,a()}function c(){const d=ke(e);d<=0||(o.value=!0,r&&t(),a(),o.value&&(i=setInterval(t,d)))}if(s&&Nw&&c(),Dt(e)||typeof e=="function"){const d=ct(e,()=>{o.value&&Nw&&c()});Mw(d)}return Mw(u),{isActive:Tl(o),pause:u,resume:c}}function CH(t,e,n){return ct(t,e,{...n,immediate:!0})}const Fk=Nw?window:void 0;function xH(t){var e;const n=ke(t);return(e=n==null?void 0:n.$el)!=null?e:n}function $k(...t){const e=[],n=()=>{e.forEach(a=>a()),e.length=0},s=(a,u,c,d)=>(a.addEventListener(u,c,d),()=>a.removeEventListener(u,c,d)),r=Q(()=>{const a=uy(ke(t[0])).filter(u=>u!=null);return a.every(u=>typeof u!="string")?a:void 0}),i=CH(()=>{var a,u;return[(u=(a=r.value)==null?void 0:a.map(c=>xH(c)))!=null?u:[Fk].filter(c=>c!=null),uy(ke(r.value?t[1]:t[0])),uy(m(r.value?t[2]:t[1])),ke(r.value?t[3]:t[2])]},([a,u,c,d])=>{if(n(),!(a!=null&&a.length)||!(u!=null&&u.length)||!(c!=null&&c.length))return;const h=_H(d)?{...d}:d;e.push(...a.flatMap(g=>u.flatMap(v=>c.map(y=>s(g,v,y,h)))))},{flush:"post"}),o=()=>{i(),n()};return Mw(n),o}function IH(){const t=Cs(!1),e=ps();return e&&bt(()=>{t.value=!0},e),t}function AH(t){const e=IH();return Q(()=>(e.value,!!t()))}const RH=Symbol("vueuse-ssr-width");function PH(){const t=I0()?Mk(RH,null):null;return typeof t=="number"?t:void 0}function kH(t,e={}){const{window:n=Fk,ssrWidth:s=PH()}=e,r=AH(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),i=Cs(typeof s=="number"),o=Cs(),a=Cs(!1),u=c=>{a.value=c.matches};return qn(()=>{if(i.value){i.value=!r.value;const c=ke(t).split(",");a.value=c.some(d=>{const h=d.includes("not all"),g=d.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=d.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let y=!!(g||v);return g&&y&&(y=s>=lx(g[1])),v&&y&&(y=s<=lx(v[1])),h?!y:y});return}r.value&&(o.value=n.matchMedia(ke(t)),a.value=o.value.matches)}),$k(o,"change",u,{passive:!0}),Q(()=>a.value)}function OH(t){return JSON.parse(JSON.stringify(t))}function LH(t,e){var n,s;const r=Cs(ke(t)),i=SH(()=>{var d,h;const g=r.value-1;r.value=g<0?0:g,(d=e==null?void 0:e.onTick)==null||d.call(e),r.value<=0&&(i.pause(),(h=e==null?void 0:e.onComplete)==null||h.call(e))},(n=e==null?void 0:e.interval)!=null?n:1e3,{immediate:(s=e==null?void 0:e.immediate)!=null?s:!1}),o=d=>{var h;r.value=(h=ke(d))!=null?h:ke(t)},a=()=>{i.pause(),o()},u=()=>{i.isActive.value||r.value>0&&i.resume()};return{remaining:r,reset:o,stop:a,start:d=>{o(d),i.resume()},pause:i.pause,resume:u,isActive:i.isActive}}function lE(t,e,n,s={}){var r,i,o;const{clone:a=!1,passive:u=!1,eventName:c,deep:d=!1,defaultValue:h,shouldEmit:g}=s,v=ps(),y=n||(v==null?void 0:v.emit)||((r=v==null?void 0:v.$emit)==null?void 0:r.bind(v))||((o=(i=v==null?void 0:v.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(v==null?void 0:v.proxy));let w=c;e||(e="modelValue"),w=w||`update:${e.toString()}`;const E=x=>a?typeof a=="function"?a(x):OH(x):x,T=()=>mH(t[e])?E(t[e]):h,C=x=>{g?g(x)&&y(w,x):y(w,x)};if(u){const x=T(),I=Z(x);let V=!1;return ct(()=>t[e],F=>{V||(V=!0,I.value=E(F),Pt(()=>V=!1))}),ct(I,F=>{!V&&(F!==t[e]||d)&&C(F)},{deep:d}),I}else return Q({get(){return T()},set(x){C(x)}})}const wn=K({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=lE(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(i,o)=>Kr(($(),ie("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>Dt(r)?r.value=a:null),class:vt(m(Fe)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[Bo,m(r)]])}}),DH=K({__name:"SidebarInput",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(wn),{"data-sidebar":"input",class:vt(m(Fe)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e.class))},{default:O(()=>[J(n.$slots,"default")]),_:3},8,["class"]))}}),MH=K({__name:"SidebarInset",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("main",{class:vt(m(Fe)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e.class))},[J(n.$slots,"default")],2))}}),Bk=K({__name:"SidebarMenu",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("ul",{"data-sidebar":"menu",class:vt(m(Fe)("flex w-full min-w-0 flex-col gap-1",e.class))},[J(n.$slots,"default")],2))}}),NH=K({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=as(t,e);return(i,o)=>($(),Y(m(P6),on(un(m(r))),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),VH=K({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(L6),null,{default:O(()=>[M(m(O6),fe({...m(i),...o.$attrs},{class:m(Fe)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:O(()=>[J(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),FH=K({__name:"TooltipTrigger",props:{reference:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(D6),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),cx=K({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,s)=>($(),Y(m(Xe),fe({"data-sidebar":"menu-button","data-size":n.size,"data-active":n.isActive,class:m(Fe)(m(HH)({variant:n.variant,size:n.size}),e.class),as:n.as,"as-child":n.asChild},n.$attrs),{default:O(()=>[J(n.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),Uk=K({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(t){const e=t,{isMobile:n,state:s}=k_(),r=Q(()=>{const{tooltip:i,...o}=e;return o});return(i,o)=>i.tooltip?($(),Y(m(NH),{key:1},{default:O(()=>[M(m(FH),{"as-child":""},{default:O(()=>[M(cx,on(un({...r.value,...i.$attrs})),{default:O(()=>[J(i.$slots,"default")]),_:3},16)]),_:3}),M(m(VH),{side:"right",align:"center",hidden:m(s)!=="collapsed"||m(n)},{default:O(()=>[typeof i.tooltip=="string"?($(),ie(Ke,{key:0},[ae(Ie(i.tooltip),1)],64)):($(),Y(bi(i.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):($(),Y(cx,on(fe({key:0},{...r.value,...i.$attrs})),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),zk=K({__name:"SidebarMenuItem",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("li",{"data-sidebar":"menu-item",class:vt(m(Fe)("group/menu-item relative",e.class))},[J(n.$slots,"default")],2))}}),uE=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},$H=K({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(t,{emit:e}){const n=t,s=e,r=kH("(max-width: 768px)"),i=Z(!1),o=lE(n,"open",s,{defaultValue:n.defaultOpen??!1,passive:n.open===void 0});function a(h){o.value=h,document.cookie=`${Q6}=${o.value}; path=/; max-age=${X6}`}function u(h){i.value=h}function c(){return r.value?u(!i.value):a(!o.value)}$k("keydown",h=>{h.key===nH&&(h.metaKey||h.ctrlKey)&&(h.preventDefault(),c())});const d=Q(()=>o.value?"expanded":"collapsed");return sH({state:d,open:o,setOpen:a,isMobile:r,openMobile:i,setOpenMobile:u,toggleSidebar:c}),(h,g)=>($(),Y(m(A6),{"delay-duration":0},{default:O(()=>[z("div",fe({style:{"--sidebar-width":m(J6),"--sidebar-width-icon":m(tH)},class:m(Fe)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n.class)},h.$attrs),[J(h.$slots,"default")],16)]),_:3}))}}),BH=K({__name:"SidebarRail",props:{class:{}},setup(t){const e=t,{toggleSidebar:n}=k_();return(s,r)=>($(),ie("button",{"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabindex:-1,title:"Toggle Sidebar",class:vt(m(Fe)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e.class)),onClick:r[0]||(r[0]=(...i)=>m(n)&&m(n)(...i))},[J(s.$slots,"default")],2))}}),UH=K({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(Gj),fe(n.value,{class:m(Fe)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:O(()=>[e.label?($(),ie("span",{key:0,class:vt(m(Fe)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] py-1 px-2"))},Ie(e.label),3)):Ht("",!0)]),_:1},16,["class"]))}}),Zt=K({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(n,s)=>($(),Y(m(Xe),{as:n.as,"as-child":n.asChild,class:vt(m(Fe)(m(zH)({variant:n.variant,size:n.size}),e.class))},{default:O(()=>[J(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),zH=m_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),jH=K({__name:"SidebarTrigger",props:{class:{}},setup(t){const e=t,{toggleSidebar:n}=k_();return(s,r)=>($(),Y(m(Zt),{"data-sidebar":"trigger",variant:"ghost",size:"icon",class:vt(m(Fe)("h-7 w-7",e.class)),onClick:m(n)},{default:O(()=>[M(m(G6)),r[0]||(r[0]=z("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),HH=m_("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),qH=K({__name:"Breadcrumb",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("nav",{"aria-label":"breadcrumb",class:vt(e.class)},[J(n.$slots,"default")],2))}}),WH=K({__name:"BreadcrumbItem",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("li",{class:vt(m(Fe)("inline-flex items-center gap-1.5",e.class))},[J(n.$slots,"default")],2))}}),GH=K({__name:"BreadcrumbList",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("ol",{class:vt(m(Fe)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e.class))},[J(n.$slots,"default")],2))}}),KH=K({__name:"BreadcrumbPage",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("span",{role:"link","aria-disabled":"true","aria-current":"page",class:vt(m(Fe)("font-normal text-foreground",e.class))},[J(n.$slots,"default")],2))}}),ZH={class:"flex h-16 shrink-0 items-center gap-2 border-b px-4"},YH=K({__name:"Header",setup(t){return(e,n)=>($(),ie("header",ZH,[M(m(jH),{class:"-ml-1"}),M(m(UH),{orientation:"vertical",class:"mr-2 h-4"}),M(m(qH),null,{default:O(()=>[M(m(GH),null,{default:O(()=>[M(m(WH),null,{default:O(()=>[M(m(KH),null,{default:O(()=>n[0]||(n[0]=[ae("Hotels list")])),_:1})]),_:1})]),_:1})]),_:1})]))}}),ns=K({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(D3),fe(n.value,{class:m(Fe)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class)}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["class"]))}}),QH=K({__name:"SearchForm",setup(t){return(e,n)=>($(),ie("form",null,[M(m(Lk),{class:"py-0"},{default:O(()=>[M(m(Dk),{class:"relative"},{default:O(()=>[M(m(ns),{for:"search",class:"sr-only"},{default:O(()=>n[0]||(n[0]=[ae(" Search ")])),_:1}),M(m(DH),{id:"search",placeholder:"Search the docs...",class:"pl-8"}),M(m(K6),{class:"pointer-events-none absolute left-2 top-1/2 size-4 -translate-y-1/2 select-none opacity-50"})]),_:1})]),_:1})]))}}),jk=K({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=as(t,e);return(i,o)=>($(),Y(m(w3),on(un(m(r))),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),Hk=K({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(S3),null,{default:O(()=>[M(m(b3),fe(m(i),{class:m(Fe)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:O(()=>[J(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),sf=K({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(E3),fe(m(s),{class:m(Fe)("relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r.inset&&"pl-8",e.class)}),{default:O(()=>[J(r.$slots,"default")]),_:3},16,["class"]))}}),XH=K({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(T3),fe(m(s),{class:m(Fe)("px-2 py-1.5 text-sm font-semibold",r.inset&&"pl-8",e.class)}),{default:O(()=>[J(r.$slots,"default")]),_:3},16,["class"]))}}),JH=K({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(C3),fe(n.value,{class:m(Fe)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16,["class"]))}}),e5=K({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const n=br(t);return(s,r)=>($(),Y(m(x3),fe({class:"outline-none"},m(n)),{default:O(()=>[J(s.$slots,"default")]),_:3},16))}}),qk="HomeAdmin",cE="/admin/home",dE="HotelDetails",t5="/admin/hotels/:id",n5="Requests",Wk="/admin/requests",Gk="FormRoom",s5="/admin/hotels/:id/add-room",r5="AddHotel",Kk="/admin/hotels/new",fE="FollowedPage",i5="/home/followed",Kc="HomeUser",Zk="/home",o5="SearchResult",Yk="/home/search",Qk="UserHotelDetail",a5="/home/:location?/:id",Bl="Login",Xk="/home/login",hE="Register",l5="/home/register",Jk="Booking",u5="/home/:location?/:hotelId/:roomId",pE="ProfilePage",c5="/home/profile",d5="Terms",vm="/home/terms",eO="Review",f5="/home/:hotelId/review",tO="UserPayment",h5="/payment",nO="UserPaymentConfirmed",p5="/payment-confirmed",m5={class:"flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground"},g5=K({__name:"VersionSwitcher",props:{versions:{},defaultVersion:{}},setup(t){const n=Z(t.defaultVersion);return(s,r)=>{const i=Xr("RouterLink");return $(),Y(m(Bk),null,{default:O(()=>[M(m(zk),null,{default:O(()=>[M(m(jk),null,{default:O(()=>[M(i,{to:m(cE)},{default:O(()=>[M(m(Uk),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:O(()=>[z("div",m5,[M(m(W6),{class:"size-4"})]),r[0]||(r[0]=z("div",{class:"flex flex-col gap-0.5 leading-none"},[z("span",{class:"font-semibold"},"Home")],-1))]),_:1})]),_:1},8,["to"]),M(m(Hk),{class:"w-[--reka-dropdown-menu-trigger-width]",align:"start"},{default:O(()=>[($(!0),ie(Ke,null,jt(s.versions,o=>($(),Y(m(sf),{key:o,onSelect:a=>n.value=o},{default:O(()=>[ae(" v"+Ie(o)+" ",1),o===n.value?($(),Y(m(P_),{key:0,class:"ml-auto"})):Ht("",!0)]),_:2},1032,["onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),_5=K({__name:"AppSidebar",props:{side:{},variant:{},collapsible:{},class:{}},setup(t){const e=t,n={versions:["12."],navMain:[{title:"Main page",url:"#",items:[{title:"User Page",url:Zk},{title:"Requests",url:Wk}]}]};return(s,r)=>($(),Y(m(aH),on(un(e)),{default:O(()=>[M(m(cH),null,{default:O(()=>[M(g5,{versions:n.versions,"default-version":n.versions[0]},null,8,["versions","default-version"]),M(QH)]),_:1}),M(m(lH),null,{default:O(()=>[($(!0),ie(Ke,null,jt(n.navMain,i=>($(),Y(m(Lk),{key:i.title},{default:O(()=>[M(m(uH),null,{default:O(()=>[ae(Ie(i.title),1)]),_:2},1024),M(m(Dk),null,{default:O(()=>[M(m(Bk),null,{default:O(()=>[($(!0),ie(Ke,null,jt(i.items,o=>($(),Y(m(zk),{key:o.title},{default:O(()=>[M(m(Uk),null,{default:O(()=>[M(m(p_),{to:o.url,class:"w-full block"},{default:O(()=>[ae(Ie(o.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),M(m(BH))]),_:1},16))}}),v5={class:"flex flex-col p-4 gap-4"},y5=K({__name:"AdminLayout",setup(t){return(e,n)=>{const s=Xr("router-view");return $(),Y(m($H),null,{default:O(()=>[M(_5),M(m(MH),null,{default:O(()=>[M(YH),z("div",v5,[M(s)])]),_:1})]),_:1})}}}),w5="/vue-hotel-reservation/assets/backMain-C3um6A7V.jpg",Vw=K({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const r=as(t,e);return(i,o)=>($(),Y(m(Ej),on(un(m(r))),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),Fw=K({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(Bj),null,{default:O(()=>[M(m(Pj),fe({...m(i),...o.$attrs},{class:m(Fe)("relative z-50 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n.class)}),{default:O(()=>[M(m(C5)),M(m(qj),{class:vt(m(Fe)("p-1",o.position==="popper"&&"h-[--reka-select-trigger-height] w-full min-w-[--reka-select-trigger-width]"))},{default:O(()=>[J(o.$slots,"default")]),_:3},8,["class"]),M(m(S5))]),_:3},16,["class"])]),_:3}))}}),b5=K({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(Lj),fe({class:m(Fe)("p-1 w-full",e.class)},n.value),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["class"]))}}),E5={class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center"},vs=K({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(Nj),fe(m(s),{class:m(Fe)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e.class)}),{default:O(()=>[z("span",E5,[M(m(Vj),null,{default:O(()=>[M(m(P_),{class:"h-4 w-4"})]),_:1})]),M(m(Fj),null,{default:O(()=>[J(r.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),T5=K({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t;return(n,s)=>($(),Y(m($j),{class:vt(m(Fe)("px-2 py-1.5 text-sm font-semibold",e.class))},{default:O(()=>[J(n.$slots,"default")]),_:3},8,["class"]))}}),S5=K({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(Uj),fe(m(s),{class:m(Fe)("flex cursor-default items-center justify-center py-1",e.class)}),{default:O(()=>[J(r.$slots,"default",{},()=>[M(m(kk))])]),_:3},16,["class"]))}}),C5=K({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(zj),fe(m(s),{class:m(Fe)("flex cursor-default items-center justify-center py-1",e.class)}),{default:O(()=>[J(r.$slots,"default",{},()=>[M(m(j6))])]),_:3},16,["class"]))}}),$w=K({__name:"SelectTrigger",props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(jj),fe(m(s),{class:m(Fe)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",e.class)}),{default:O(()=>[J(r.$slots,"default"),M(m(Dj),{"as-child":""},{default:O(()=>[M(m(kk),{class:"w-4 h-4 opacity-50 shrink-0"})]),_:1})]),_:3},16,["class"]))}}),Bw=K({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(Hj),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),x5=K({__name:"SelectPeople",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e;return(s,r)=>($(),Y(m(Vw),{modelValue:String(s.modelValue),"onUpdate:modelValue":r[0]||(r[0]=i=>n("update:modelValue",Number(i)))},{default:O(()=>[M(m($w),null,{default:O(()=>[M(m(Bw),{placeholder:"Guests"})]),_:1}),M(m(Fw),null,{default:O(()=>[M(m(b5),null,{default:O(()=>[M(m(T5),null,{default:O(()=>r[1]||(r[1]=[ae("People")])),_:1}),M(m(vs),{value:"1"},{default:O(()=>r[2]||(r[2]=[ae("1 person")])),_:1}),M(m(vs),{value:"2"},{default:O(()=>r[3]||(r[3]=[ae("2 persons")])),_:1}),M(m(vs),{value:"3"},{default:O(()=>r[4]||(r[4]=[ae("34 persons")])),_:1}),M(m(vs),{value:"5"},{default:O(()=>r[5]||(r[5]=[ae("56 persons")])),_:1}),M(m(vs),{value:"7"},{default:O(()=>r[6]||(r[6]=[ae("7+ persons")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sO;const O_=t=>sO=t,rO=Symbol();function Uw(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Af;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Af||(Af={}));function I5(){const t=Uc(!0),e=t.run(()=>Z({}));let n=[],s=[];const r=oo({install(i){O_(r),r._a=i,i.provide(rO,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return this._a?n.push(i):s.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const iO=()=>{};function dx(t,e,n,s=iO){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&su()&&zc(r),r}function qu(t,...e){t.slice().forEach(n=>{n(...e)})}const A5=t=>t(),fx=Symbol(),cy=Symbol();function zw(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Uw(r)&&Uw(s)&&t.hasOwnProperty(n)&&!Dt(s)&&!$o(s)?t[n]=zw(r,s):t[n]=s}return t}const R5=Symbol();function P5(t){return!Uw(t)||!Object.prototype.hasOwnProperty.call(t,R5)}const{assign:wa}=Object;function k5(t){return!!(Dt(t)&&t.effect)}function O5(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let u;function c(){a||(n.state.value[t]=r?r():{});const d=$n(n.state.value[t]);return wa(d,i,Object.keys(o||{}).reduce((h,g)=>(h[g]=oo(Q(()=>{O_(n);const v=n._s.get(t);return o[g].call(v,v)})),h),{}))}return u=oO(t,c,e,n,s,!0),u}function oO(t,e,n={},s,r,i){let o;const a=wa({actions:{}},n),u={deep:!0};let c,d,h=[],g=[],v;const y=s.state.value[t];!i&&!y&&(s.state.value[t]={}),Z({});let w;function E(P){let A;c=d=!1,typeof P=="function"?(P(s.state.value[t]),A={type:Af.patchFunction,storeId:t,events:v}):(zw(s.state.value[t],P),A={type:Af.patchObject,payload:P,storeId:t,events:v});const N=w=Symbol();Pt().then(()=>{w===N&&(c=!0)}),d=!0,qu(h,A,s.state.value[t])}const T=i?function(){const{state:A}=n,N=A?A():{};this.$patch(U=>{wa(U,N)})}:iO;function C(){o.stop(),h=[],g=[],s._s.delete(t)}const x=(P,A="")=>{if(fx in P)return P[cy]=A,P;const N=function(){O_(s);const U=Array.from(arguments),W=[],q=[];function Pe(_e){W.push(_e)}function Be(_e){q.push(_e)}qu(g,{args:U,name:N[cy],store:V,after:Pe,onError:Be});let ye;try{ye=P.apply(this&&this.$id===t?this:V,U)}catch(_e){throw qu(q,_e),_e}return ye instanceof Promise?ye.then(_e=>(qu(W,_e),_e)).catch(_e=>(qu(q,_e),Promise.reject(_e))):(qu(W,ye),ye)};return N[fx]=!0,N[cy]=A,N},I={_p:s,$id:t,$onAction:dx.bind(null,g),$patch:E,$reset:T,$subscribe(P,A={}){const N=dx(h,P,A.detached,()=>U()),U=o.run(()=>ct(()=>s.state.value[t],W=>{(A.flush==="sync"?d:c)&&P({storeId:t,type:Af.direct,events:v},W)},wa({},u,A)));return N},$dispose:C},V=vr(I);s._s.set(t,V);const k=(s._a&&s._a.runWithContext||A5)(()=>s._e.run(()=>(o=Uc()).run(()=>e({action:x}))));for(const P in k){const A=k[P];if(Dt(A)&&!k5(A)||$o(A))i||(y&&P5(A)&&(Dt(A)?A.value=y[P]:zw(A,y[P])),s.state.value[t][P]=A);else if(typeof A=="function"){const N=x(A,P);k[P]=N,a.actions[P]=A}}return wa(V,k),wa(Jt(V),k),Object.defineProperty(V,"$state",{get:()=>s.state.value[t],set:P=>{E(A=>{wa(A,P)})}}),s._p.forEach(P=>{wa(V,o.run(()=>P({store:V,app:s._a,pinia:s,options:a})))}),y&&i&&n.hydrate&&n.hydrate(V.$state,y),c=!0,d=!0,V}/*! #__NO_SIDE_EFFECTS__ */function mE(t,e,n){let s;const r=typeof e=="function";s=r?n:e;function i(o,a){const u=I0();return o=o||(u?ln(rO,null):null),o&&O_(o),o=sO,o._s.has(t)||(r?oO(t,e,s,o):O5(t,s,o)),o._s.get(t)}return i.$id=t,i}function aO(t){const e=Jt(t),n={};for(const s in e){const r=e[s];r.effect?n[s]=Q({get:()=>t[s],set(i){t[s]=i}}):(Dt(r)||$o(r))&&(n[s]=Oo(t,s))}return n}const L5=()=>{};var hx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=function(t,e){if(!t)throw Zc(e)},Zc=function(t){return new Error("Firebase Database ("+lO.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},D5=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(g=64)),s.push(n[d],n[h],n[g],n[v])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new M5;const g=i<<2|a>>4;if(s.push(g),c!==64){const v=a<<4&240|c>>2;if(s.push(v),h!==64){const y=c<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cO=function(t){const e=uO(t);return L_.encodeByteArray(e,!0)},Qm=function(t){return cO(t).replace(/\./g,"")},Xm=function(t){try{return L_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){return dO(void 0,t)}function dO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!V5(n)||(t[n]=dO(t[n],e[n]));return t}function V5(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=()=>F5().__FIREBASE_DEFAULTS__,B5=()=>{if(typeof process>"u"||typeof hx>"u")return;const t=hx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xm(t[1]);return e&&JSON.parse(e)},D_=()=>{try{return L5()||$5()||B5()||U5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fO=t=>{var e,n;return(n=(e=D_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hO=t=>{const e=fO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pO=()=>{var t;return(t=D_())===null||t===void 0?void 0:t.config},mO=t=>{var e;return(e=D_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qm(JSON.stringify(n)),Qm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ws())}function z5(){var t;const e=(t=D_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q5(){const t=Ws();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W5(){return lO.NODE_ADMIN===!0}function G5(){return!z5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vO(){try{return typeof indexedDB=="object"}catch{return!1}}function K5(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="FirebaseError";class fo extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Z5,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Y5(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new fo(r,a,s)}}function Y5(t,e){return t.replace(Q5,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Q5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return JSON.parse(t)}function Rs(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=nh(Xm(i[0])||""),n=nh(Xm(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},X5=function(t){const e=yO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},J5=function(t){const e=yO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jm(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function Zo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(px(i)&&px(o)){if(!Zo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function px(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function of(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)s[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)s[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const g=s[h-3]^s[h-8]^s[h-14]^s[h-16];s[h]=(g<<1|g>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):h<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const g=(r<<5|r>>>27)+c+u+d+s[h]&4294967295;u=a,a=o,o=(i<<30|i>>>2)&4294967295,i=r,r=g}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<n;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function t9(t,e){const n=new n9(t,e);return n.subscribe.bind(n)}class n9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s9(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=dy),r.error===void 0&&(r.error=dy),r.complete===void 0&&(r.complete=dy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dy(){}function r9(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,ze(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;r=65536+(i<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},M_=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new th;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l9(e))try{this.getOrInitializeService({instanceIdentifier:Cl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cl){return this.instances.has(e)}getOptions(e=Cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:a9(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Cl){return this.component?this.component.multipleInstances?e:Cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a9(t){return t===Cl?void 0:t}function l9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(zt||(zt={}));const c9={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},d9=zt.INFO,f9={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},h9=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=f9[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oh{constructor(e){this.name=e,this._logLevel=d9,this._logHandler=h9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const p9=(t,e)=>e.some(n=>t instanceof n);let mx,gx;function m9(){return mx||(mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g9(){return gx||(gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wO=new WeakMap,Hw=new WeakMap,bO=new WeakMap,fy=new WeakMap,_E=new WeakMap;function _9(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Da(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wO.set(n,t)}).catch(()=>{}),_E.set(e,t),e}function v9(t){if(Hw.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hw.set(t,e)}let qw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y9(t){qw=t(qw)}function w9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(hy(this),e,...n);return bO.set(s,e.sort?e.sort():[e]),Da(s)}:g9().includes(t)?function(...e){return t.apply(hy(this),e),Da(wO.get(this))}:function(...e){return Da(t.apply(hy(this),e))}}function b9(t){return typeof t=="function"?w9(t):(t instanceof IDBTransaction&&v9(t),p9(t,m9())?new Proxy(t,qw):t)}function Da(t){if(t instanceof IDBRequest)return _9(t);if(fy.has(t))return fy.get(t);const e=b9(t);return e!==t&&(fy.set(t,e),_E.set(e,t)),e}const hy=t=>_E.get(t);function E9(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Da(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Da(o.result),u.oldVersion,u.newVersion,Da(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const T9=["get","getKey","getAll","getAllKeys","count"],S9=["put","add","delete","clear"],py=new Map;function _x(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(py.get(e))return py.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=S9.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||T9.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,r?"readwrite":"readonly");let c=u.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&u.done]))[0]};return py.set(e,i),i}y9(t=>({...t,get:(e,n,s)=>_x(e,n)||t.get(e,n,s),has:(e,n)=>!!_x(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x9(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function x9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ww="@firebase/app",vx="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Oh("@firebase/app"),I9="@firebase/app-compat",A9="@firebase/analytics-compat",R9="@firebase/analytics",P9="@firebase/app-check-compat",k9="@firebase/app-check",O9="@firebase/auth",L9="@firebase/auth-compat",D9="@firebase/database",M9="@firebase/data-connect",N9="@firebase/database-compat",V9="@firebase/functions",F9="@firebase/functions-compat",$9="@firebase/installations",B9="@firebase/installations-compat",U9="@firebase/messaging",z9="@firebase/messaging-compat",j9="@firebase/performance",H9="@firebase/performance-compat",q9="@firebase/remote-config",W9="@firebase/remote-config-compat",G9="@firebase/storage",K9="@firebase/storage-compat",Z9="@firebase/firestore",Y9="@firebase/vertexai",Q9="@firebase/firestore-compat",X9="firebase",J9="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="[DEFAULT]",eq={[Ww]:"fire-core",[I9]:"fire-core-compat",[R9]:"fire-analytics",[A9]:"fire-analytics-compat",[k9]:"fire-app-check",[P9]:"fire-app-check-compat",[O9]:"fire-auth",[L9]:"fire-auth-compat",[D9]:"fire-rtdb",[M9]:"fire-data-connect",[N9]:"fire-rtdb-compat",[V9]:"fire-fn",[F9]:"fire-fn-compat",[$9]:"fire-iid",[B9]:"fire-iid-compat",[U9]:"fire-fcm",[z9]:"fire-fcm-compat",[j9]:"fire-perf",[H9]:"fire-perf-compat",[q9]:"fire-rc",[W9]:"fire-rc-compat",[G9]:"fire-gcs",[K9]:"fire-gcs-compat",[Z9]:"fire-fst",[Q9]:"fire-fst-compat",[Y9]:"fire-vertex","fire-js":"fire-js",[X9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map,tq=new Map,Kw=new Map;function yx(t,e){try{t.container.addComponent(e)}catch(n){Yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(Kw.has(e))return Yo.debug(`There were multiple attempts to register component ${e}.`),!1;Kw.set(e,t);for(const n of eg.values())yx(n,t);for(const n of tq.values())yx(n,t);return!0}function N_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ma=new Yc("app","Firebase",nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=J9;function EO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gw,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Ma.create("bad-app-name",{appName:String(r)});if(n||(n=pO()),!n)throw Ma.create("no-options");const i=eg.get(r);if(i){if(Zo(n,i.options)&&Zo(s,i.config))return i;throw Ma.create("duplicate-app",{appName:r})}const o=new u9(r);for(const u of Kw.values())o.addComponent(u);const a=new sq(n,s,o);return eg.set(r,a),a}function V_(t=Gw){const e=eg.get(t);if(!e&&t===Gw&&pO())return EO();if(!e)throw Ma.create("no-app",{appName:t});return e}function Lr(t,e,n){var s;let r=(s=eq[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yo.warn(a.join(" "));return}so(new xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq="firebase-heartbeat-database",iq=1,sh="firebase-heartbeat-store";let my=null;function TO(){return my||(my=E9(rq,iq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ma.create("idb-open",{originalErrorMessage:t.message})})),my}async function oq(t){try{const n=(await TO()).transaction(sh),s=await n.objectStore(sh).get(SO(t));return await n.done,s}catch(e){if(e instanceof fo)Yo.warn(e.message);else{const n=Ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yo.warn(n.message)}}}async function wx(t,e){try{const s=(await TO()).transaction(sh,"readwrite");await s.objectStore(sh).put(e,SO(t)),await s.done}catch(n){if(n instanceof fo)Yo.warn(n.message);else{const s=Ma.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yo.warn(s.message)}}}function SO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=1024,lq=30;class uq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dq(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>lq){const o=fq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yo.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bx(),{heartbeatsToSend:s,unsentEntries:r}=cq(this._heartbeatsCache.heartbeats),i=Qm(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Yo.warn(n),""}}}function bx(){return new Date().toISOString().substring(0,10)}function cq(t,e=aq){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Ex(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ex(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vO()?K5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return wx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ex(t){return Qm(JSON.stringify({version:2,heartbeats:t})).length}function fq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){so(new xi("platform-logger",e=>new C9(e),"PRIVATE")),so(new xi("heartbeat",e=>new uq(e),"PRIVATE")),Lr(Ww,vx,t),Lr(Ww,vx,"esm2017"),Lr("fire-js","")}hq("");var Tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,CO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function A(){}A.prototype=P.prototype,k.D=P.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(N,U,W){for(var q=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)q[Pe-2]=arguments[Pe];return P.prototype[U].apply(N,q)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,P,A){A||(A=0);var N=Array(16);if(typeof P=="string")for(var U=0;16>U;++U)N[U]=P.charCodeAt(A++)|P.charCodeAt(A++)<<8|P.charCodeAt(A++)<<16|P.charCodeAt(A++)<<24;else for(U=0;16>U;++U)N[U]=P[A++]|P[A++]<<8|P[A++]<<16|P[A++]<<24;P=k.g[0],A=k.g[1],U=k.g[2];var W=k.g[3],q=P+(W^A&(U^W))+N[0]+3614090360&4294967295;P=A+(q<<7&4294967295|q>>>25),q=W+(U^P&(A^U))+N[1]+3905402710&4294967295,W=P+(q<<12&4294967295|q>>>20),q=U+(A^W&(P^A))+N[2]+606105819&4294967295,U=W+(q<<17&4294967295|q>>>15),q=A+(P^U&(W^P))+N[3]+3250441966&4294967295,A=U+(q<<22&4294967295|q>>>10),q=P+(W^A&(U^W))+N[4]+4118548399&4294967295,P=A+(q<<7&4294967295|q>>>25),q=W+(U^P&(A^U))+N[5]+1200080426&4294967295,W=P+(q<<12&4294967295|q>>>20),q=U+(A^W&(P^A))+N[6]+2821735955&4294967295,U=W+(q<<17&4294967295|q>>>15),q=A+(P^U&(W^P))+N[7]+4249261313&4294967295,A=U+(q<<22&4294967295|q>>>10),q=P+(W^A&(U^W))+N[8]+1770035416&4294967295,P=A+(q<<7&4294967295|q>>>25),q=W+(U^P&(A^U))+N[9]+2336552879&4294967295,W=P+(q<<12&4294967295|q>>>20),q=U+(A^W&(P^A))+N[10]+4294925233&4294967295,U=W+(q<<17&4294967295|q>>>15),q=A+(P^U&(W^P))+N[11]+2304563134&4294967295,A=U+(q<<22&4294967295|q>>>10),q=P+(W^A&(U^W))+N[12]+1804603682&4294967295,P=A+(q<<7&4294967295|q>>>25),q=W+(U^P&(A^U))+N[13]+4254626195&4294967295,W=P+(q<<12&4294967295|q>>>20),q=U+(A^W&(P^A))+N[14]+2792965006&4294967295,U=W+(q<<17&4294967295|q>>>15),q=A+(P^U&(W^P))+N[15]+1236535329&4294967295,A=U+(q<<22&4294967295|q>>>10),q=P+(U^W&(A^U))+N[1]+4129170786&4294967295,P=A+(q<<5&4294967295|q>>>27),q=W+(A^U&(P^A))+N[6]+3225465664&4294967295,W=P+(q<<9&4294967295|q>>>23),q=U+(P^A&(W^P))+N[11]+643717713&4294967295,U=W+(q<<14&4294967295|q>>>18),q=A+(W^P&(U^W))+N[0]+3921069994&4294967295,A=U+(q<<20&4294967295|q>>>12),q=P+(U^W&(A^U))+N[5]+3593408605&4294967295,P=A+(q<<5&4294967295|q>>>27),q=W+(A^U&(P^A))+N[10]+38016083&4294967295,W=P+(q<<9&4294967295|q>>>23),q=U+(P^A&(W^P))+N[15]+3634488961&4294967295,U=W+(q<<14&4294967295|q>>>18),q=A+(W^P&(U^W))+N[4]+3889429448&4294967295,A=U+(q<<20&4294967295|q>>>12),q=P+(U^W&(A^U))+N[9]+568446438&4294967295,P=A+(q<<5&4294967295|q>>>27),q=W+(A^U&(P^A))+N[14]+3275163606&4294967295,W=P+(q<<9&4294967295|q>>>23),q=U+(P^A&(W^P))+N[3]+4107603335&4294967295,U=W+(q<<14&4294967295|q>>>18),q=A+(W^P&(U^W))+N[8]+1163531501&4294967295,A=U+(q<<20&4294967295|q>>>12),q=P+(U^W&(A^U))+N[13]+2850285829&4294967295,P=A+(q<<5&4294967295|q>>>27),q=W+(A^U&(P^A))+N[2]+4243563512&4294967295,W=P+(q<<9&4294967295|q>>>23),q=U+(P^A&(W^P))+N[7]+1735328473&4294967295,U=W+(q<<14&4294967295|q>>>18),q=A+(W^P&(U^W))+N[12]+2368359562&4294967295,A=U+(q<<20&4294967295|q>>>12),q=P+(A^U^W)+N[5]+4294588738&4294967295,P=A+(q<<4&4294967295|q>>>28),q=W+(P^A^U)+N[8]+2272392833&4294967295,W=P+(q<<11&4294967295|q>>>21),q=U+(W^P^A)+N[11]+1839030562&4294967295,U=W+(q<<16&4294967295|q>>>16),q=A+(U^W^P)+N[14]+4259657740&4294967295,A=U+(q<<23&4294967295|q>>>9),q=P+(A^U^W)+N[1]+2763975236&4294967295,P=A+(q<<4&4294967295|q>>>28),q=W+(P^A^U)+N[4]+1272893353&4294967295,W=P+(q<<11&4294967295|q>>>21),q=U+(W^P^A)+N[7]+4139469664&4294967295,U=W+(q<<16&4294967295|q>>>16),q=A+(U^W^P)+N[10]+3200236656&4294967295,A=U+(q<<23&4294967295|q>>>9),q=P+(A^U^W)+N[13]+681279174&4294967295,P=A+(q<<4&4294967295|q>>>28),q=W+(P^A^U)+N[0]+3936430074&4294967295,W=P+(q<<11&4294967295|q>>>21),q=U+(W^P^A)+N[3]+3572445317&4294967295,U=W+(q<<16&4294967295|q>>>16),q=A+(U^W^P)+N[6]+76029189&4294967295,A=U+(q<<23&4294967295|q>>>9),q=P+(A^U^W)+N[9]+3654602809&4294967295,P=A+(q<<4&4294967295|q>>>28),q=W+(P^A^U)+N[12]+3873151461&4294967295,W=P+(q<<11&4294967295|q>>>21),q=U+(W^P^A)+N[15]+530742520&4294967295,U=W+(q<<16&4294967295|q>>>16),q=A+(U^W^P)+N[2]+3299628645&4294967295,A=U+(q<<23&4294967295|q>>>9),q=P+(U^(A|~W))+N[0]+4096336452&4294967295,P=A+(q<<6&4294967295|q>>>26),q=W+(A^(P|~U))+N[7]+1126891415&4294967295,W=P+(q<<10&4294967295|q>>>22),q=U+(P^(W|~A))+N[14]+2878612391&4294967295,U=W+(q<<15&4294967295|q>>>17),q=A+(W^(U|~P))+N[5]+4237533241&4294967295,A=U+(q<<21&4294967295|q>>>11),q=P+(U^(A|~W))+N[12]+1700485571&4294967295,P=A+(q<<6&4294967295|q>>>26),q=W+(A^(P|~U))+N[3]+2399980690&4294967295,W=P+(q<<10&4294967295|q>>>22),q=U+(P^(W|~A))+N[10]+4293915773&4294967295,U=W+(q<<15&4294967295|q>>>17),q=A+(W^(U|~P))+N[1]+2240044497&4294967295,A=U+(q<<21&4294967295|q>>>11),q=P+(U^(A|~W))+N[8]+1873313359&4294967295,P=A+(q<<6&4294967295|q>>>26),q=W+(A^(P|~U))+N[15]+4264355552&4294967295,W=P+(q<<10&4294967295|q>>>22),q=U+(P^(W|~A))+N[6]+2734768916&4294967295,U=W+(q<<15&4294967295|q>>>17),q=A+(W^(U|~P))+N[13]+1309151649&4294967295,A=U+(q<<21&4294967295|q>>>11),q=P+(U^(A|~W))+N[4]+4149444226&4294967295,P=A+(q<<6&4294967295|q>>>26),q=W+(A^(P|~U))+N[11]+3174756917&4294967295,W=P+(q<<10&4294967295|q>>>22),q=U+(P^(W|~A))+N[2]+718787259&4294967295,U=W+(q<<15&4294967295|q>>>17),q=A+(W^(U|~P))+N[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(U+(q<<21&4294967295|q>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+W&4294967295}s.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var A=P-this.blockSize,N=this.B,U=this.h,W=0;W<P;){if(U==0)for(;W<=A;)r(this,k,W),W+=this.blockSize;if(typeof k=="string"){for(;W<P;)if(N[U++]=k.charCodeAt(W++),U==this.blockSize){r(this,N),U=0;break}}else for(;W<P;)if(N[U++]=k[W++],U==this.blockSize){r(this,N),U=0;break}}this.h=U,this.o+=P},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var A=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=A&255,A/=256;for(this.u(k),k=Array(16),P=A=0;4>P;++P)for(var N=0;32>N;N+=8)k[A++]=this.g[P]>>>N&255;return k};function i(k,P){var A=a;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=P(k)}function o(k,P){this.h=P;for(var A=[],N=!0,U=k.length-1;0<=U;U--){var W=k[U]|0;N&&W==P||(A[U]=W,N=!1)}this.g=A}var a={};function u(k){return-128<=k&&128>k?i(k,function(P){return new o([P|0],0>P?-1:0)}):new o([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return E(c(-k));for(var P=[],A=1,N=0;k>=A;N++)P[N]=k/A|0,A*=4294967296;return new o(P,0)}function d(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return E(d(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(P,8)),N=h,U=0;U<k.length;U+=8){var W=Math.min(8,k.length-U),q=parseInt(k.substring(U,U+W),P);8>W?(W=c(Math.pow(P,W)),N=N.j(W).add(c(q))):(N=N.j(A),N=N.add(c(q)))}return N}var h=u(0),g=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var k=0,P=1,A=0;A<this.g.length;A++){var N=this.i(A);k+=(0<=N?N:4294967296+N)*P,P*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(y(this))return"0";if(w(this))return"-"+E(this).toString(k);for(var P=c(Math.pow(k,6)),A=this,N="";;){var U=I(A,P).g;A=T(A,U.j(P));var W=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=U,y(A))return W+N;for(;6>W.length;)W="0"+W;N=W+N}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function y(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function w(k){return k.h==-1}t.l=function(k){return k=T(this,k),w(k)?-1:y(k)?0:1};function E(k){for(var P=k.g.length,A=[],N=0;N<P;N++)A[N]=~k.g[N];return new o(A,~k.h).add(g)}t.abs=function(){return w(this)?E(this):this},t.add=function(k){for(var P=Math.max(this.g.length,k.g.length),A=[],N=0,U=0;U<=P;U++){var W=N+(this.i(U)&65535)+(k.i(U)&65535),q=(W>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);N=q>>>16,W&=65535,q&=65535,A[U]=q<<16|W}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(k,P){return k.add(E(P))}t.j=function(k){if(y(this)||y(k))return h;if(w(this))return w(k)?E(this).j(E(k)):E(E(this).j(k));if(w(k))return E(this.j(E(k)));if(0>this.l(v)&&0>k.l(v))return c(this.m()*k.m());for(var P=this.g.length+k.g.length,A=[],N=0;N<2*P;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<k.g.length;U++){var W=this.i(N)>>>16,q=this.i(N)&65535,Pe=k.i(U)>>>16,Be=k.i(U)&65535;A[2*N+2*U]+=q*Be,C(A,2*N+2*U),A[2*N+2*U+1]+=W*Be,C(A,2*N+2*U+1),A[2*N+2*U+1]+=q*Pe,C(A,2*N+2*U+1),A[2*N+2*U+2]+=W*Pe,C(A,2*N+2*U+2)}for(N=0;N<P;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=P;N<2*P;N++)A[N]=0;return new o(A,0)};function C(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function x(k,P){this.g=k,this.h=P}function I(k,P){if(y(P))throw Error("division by zero");if(y(k))return new x(h,h);if(w(k))return P=I(E(k),P),new x(E(P.g),E(P.h));if(w(P))return P=I(k,E(P)),new x(E(P.g),P.h);if(30<k.g.length){if(w(k)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var A=g,N=P;0>=N.l(k);)A=V(A),N=V(N);var U=F(A,1),W=F(N,1);for(N=F(N,2),A=F(A,2);!y(N);){var q=W.add(N);0>=q.l(k)&&(U=U.add(A),W=q),N=F(N,1),A=F(A,1)}return P=T(k,U.j(P)),new x(U,P)}for(U=h;0<=k.l(P);){for(A=Math.max(1,Math.floor(k.m()/P.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),W=c(A),q=W.j(P);w(q)||0<q.l(k);)A-=N,W=c(A),q=W.j(P);y(W)&&(W=g),U=U.add(W),k=T(k,q)}return new x(U,k)}t.A=function(k){return I(this,k).h},t.and=function(k){for(var P=Math.max(this.g.length,k.g.length),A=[],N=0;N<P;N++)A[N]=this.i(N)&k.i(N);return new o(A,this.h&k.h)},t.or=function(k){for(var P=Math.max(this.g.length,k.g.length),A=[],N=0;N<P;N++)A[N]=this.i(N)|k.i(N);return new o(A,this.h|k.h)},t.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),A=[],N=0;N<P;N++)A[N]=this.i(N)^k.i(N);return new o(A,this.h^k.h)};function V(k){for(var P=k.g.length+1,A=[],N=0;N<P;N++)A[N]=k.i(N)<<1|k.i(N-1)>>>31;return new o(A,k.h)}function F(k,P){var A=P>>5;P%=32;for(var N=k.g.length-A,U=[],W=0;W<N;W++)U[W]=0<P?k.i(W+A)>>>P|k.i(W+A+1)<<32-P:k.i(W+A);return new o(U,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,CO=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Na=o}).apply(typeof Tx<"u"?Tx:typeof self<"u"?self:typeof window<"u"?window:{});var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xO,af,IO,ym,Zw,AO,RO,PO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,D){return p==Array.prototype||p==Object.prototype||(p[S]=D.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hp=="object"&&Hp];for(var S=0;S<p.length;++S){var D=p[S];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var s=n(this);function r(p,S){if(S)e:{var D=s;p=p.split(".");for(var H=0;H<p.length-1;H++){var re=p[H];if(!(re in D))break e;D=D[re]}p=p[p.length-1],H=D[p],S=S(H),S!=H&&S!=null&&e(D,p,{configurable:!0,writable:!0,value:S})}}function i(p,S){p instanceof String&&(p+="");var D=0,H=!1,re={next:function(){if(!H&&D<p.length){var ue=D++;return{value:S(ue,p[ue]),done:!1}}return H=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}r("Array.prototype.values",function(p){return p||function(){return i(this,function(S,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function c(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function d(p,S,D){return p.call.apply(p.bind,arguments)}function h(p,S,D){if(!p)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,H),p.apply(S,re)}}return function(){return p.apply(S,arguments)}}function g(p,S,D){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,g.apply(null,arguments)}function v(p,S){var D=Array.prototype.slice.call(arguments,1);return function(){var H=D.slice();return H.push.apply(H,arguments),p.apply(this,H)}}function y(p,S){function D(){}D.prototype=S.prototype,p.aa=S.prototype,p.prototype=new D,p.prototype.constructor=p,p.Qb=function(H,re,ue){for(var Me=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)Me[mn-2]=arguments[mn];return S.prototype[re].apply(H,Me)}}function w(p){const S=p.length;if(0<S){const D=Array(S);for(let H=0;H<S;H++)D[H]=p[H];return D}return[]}function E(p,S){for(let D=1;D<arguments.length;D++){const H=arguments[D];if(u(H)){const re=p.length||0,ue=H.length||0;p.length=re+ue;for(let Me=0;Me<ue;Me++)p[re+Me]=H[Me]}else p.push(H)}}class T{constructor(S,D){this.i=S,this.j=D,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function C(p){return/^[\s\xa0]*$/.test(p)}function x(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function I(p){return I[" "](p),p}I[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function F(p,S,D){for(const H in p)S.call(D,p[H],H,p)}function k(p,S){for(const D in p)S.call(void 0,p[D],D,p)}function P(p){const S={};for(const D in p)S[D]=p[D];return S}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(p,S){let D,H;for(let re=1;re<arguments.length;re++){H=arguments[re];for(D in H)p[D]=H[D];for(let ue=0;ue<A.length;ue++)D=A[ue],Object.prototype.hasOwnProperty.call(H,D)&&(p[D]=H[D])}}function U(p){var S=1;p=p.split(":");const D=[];for(;0<S&&p.length;)D.push(p.shift()),S--;return p.length&&D.push(p.join(":")),D}function W(p){a.setTimeout(()=>{throw p},0)}function q(){var p=nt;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class Pe{constructor(){this.h=this.g=null}add(S,D){const H=Be.get();H.set(S,D),this.h?this.h.next=H:this.g=H,this.h=H}}var Be=new T(()=>new ye,p=>p.reset());class ye{constructor(){this.next=this.g=this.h=null}set(S,D){this.h=S,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,me=!1,nt=new Pe,Ne=()=>{const p=a.Promise.resolve(void 0);_e=()=>{p.then(ot)}};var ot=()=>{for(var p;p=q();){try{p.h.call(p.g)}catch(D){W(D)}var S=Be;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}me=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const D=()=>{};a.addEventListener("test",D,S),a.removeEventListener("test",D,S)}catch{}return p}();function dt(p,S){if(pt.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var D=this.type=p.type,H=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(V){e:{try{I(S.nodeName);var re=!0;break e}catch{}re=!1}re||(S=null)}}else D=="mouseover"?S=p.fromElement:D=="mouseout"&&(S=p.toElement);this.relatedTarget=S,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:we[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&dt.aa.h.call(this)}}y(dt,pt);var we={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),he=0;function ve(p,S,D,H,re){this.listener=p,this.proxy=null,this.src=S,this.type=D,this.capture=!!H,this.ha=re,this.key=++he,this.da=this.fa=!1}function Re(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ue(p){this.src=p,this.g={},this.h=0}Ue.prototype.add=function(p,S,D,H,re){var ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);var Me=G(p,S,H,re);return-1<Me?(S=p[Me],D||(S.fa=!1)):(S=new ve(S,this.src,ue,!!H,re),S.fa=D,p.push(S)),S};function j(p,S){var D=S.type;if(D in p.g){var H=p.g[D],re=Array.prototype.indexOf.call(H,S,void 0),ue;(ue=0<=re)&&Array.prototype.splice.call(H,re,1),ue&&(Re(S),p.g[D].length==0&&(delete p.g[D],p.h--))}}function G(p,S,D,H){for(var re=0;re<p.length;++re){var ue=p[re];if(!ue.da&&ue.listener==S&&ue.capture==!!D&&ue.ha==H)return re}return-1}var te="closure_lm_"+(1e6*Math.random()|0),ce={};function ge(p,S,D,H,re){if(Array.isArray(S)){for(var ue=0;ue<S.length;ue++)ge(p,S[ue],D,H,re);return null}return D=ft(D),p&&p[ee]?p.K(S,D,c(H)?!!H.capture:!1,re):pe(p,S,D,!1,H,re)}function pe(p,S,D,H,re,ue){if(!S)throw Error("Invalid event type");var Me=c(re)?!!re.capture:!!re,mn=De(p);if(mn||(p[te]=mn=new Ue(p)),D=mn.add(S,D,H,Me,ue),D.proxy)return D;if(H=Le(),D.proxy=H,H.src=p,H.listener=D,p.addEventListener)Ye||(re=Me),re===void 0&&(re=!1),p.addEventListener(S.toString(),H,re);else if(p.attachEvent)p.attachEvent(Se(S.toString()),H);else if(p.addListener&&p.removeListener)p.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Le(){function p(D){return S.call(p.src,p.listener,D)}const S=rt;return p}function Ae(p,S,D,H,re){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)Ae(p,S[ue],D,H,re);else H=c(H)?!!H.capture:!!H,D=ft(D),p&&p[ee]?(p=p.i,S=String(S).toString(),S in p.g&&(ue=p.g[S],D=G(ue,D,H,re),-1<D&&(Re(ue[D]),Array.prototype.splice.call(ue,D,1),ue.length==0&&(delete p.g[S],p.h--)))):p&&(p=De(p))&&(S=p.g[S.toString()],p=-1,S&&(p=G(S,D,H,re)),(D=-1<p?S[p]:null)&&xe(D))}function xe(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[ee])j(S.i,p);else{var D=p.type,H=p.proxy;S.removeEventListener?S.removeEventListener(D,H,p.capture):S.detachEvent?S.detachEvent(Se(D),H):S.addListener&&S.removeListener&&S.removeListener(H),(D=De(S))?(j(D,p),D.h==0&&(D.src=null,S[te]=null)):Re(p)}}}function Se(p){return p in ce?ce[p]:ce[p]="on"+p}function rt(p,S){if(p.da)p=!0;else{S=new dt(S,this);var D=p.listener,H=p.ha||p.src;p.fa&&xe(p),p=D.call(H,S)}return p}function De(p){return p=p[te],p instanceof Ue?p:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(p){return typeof p=="function"?p:(p[Qe]||(p[Qe]=function(S){return p.handleEvent(S)}),p[Qe])}function st(){lt.call(this),this.i=new Ue(this),this.M=this,this.F=null}y(st,lt),st.prototype[ee]=!0,st.prototype.removeEventListener=function(p,S,D,H){Ae(this,p,S,D,H)};function yt(p,S){var D,H=p.F;if(H)for(D=[];H;H=H.F)D.push(H);if(p=p.M,H=S.type||S,typeof S=="string")S=new pt(S,p);else if(S instanceof pt)S.target=S.target||p;else{var re=S;S=new pt(H,p),N(S,re)}if(re=!0,D)for(var ue=D.length-1;0<=ue;ue--){var Me=S.g=D[ue];re=Nt(Me,H,!0,S)&&re}if(Me=S.g=p,re=Nt(Me,H,!0,S)&&re,re=Nt(Me,H,!1,S)&&re,D)for(ue=0;ue<D.length;ue++)Me=S.g=D[ue],re=Nt(Me,H,!1,S)&&re}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var D=p.g[S],H=0;H<D.length;H++)Re(D[H]);delete p.g[S],p.h--}}this.F=null},st.prototype.K=function(p,S,D,H){return this.i.add(String(p),S,!1,D,H)},st.prototype.L=function(p,S,D,H){return this.i.add(String(p),S,!0,D,H)};function Nt(p,S,D,H){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var re=!0,ue=0;ue<S.length;++ue){var Me=S[ue];if(Me&&!Me.da&&Me.capture==D){var mn=Me.listener,Xn=Me.ha||Me.src;Me.fa&&j(p.i,Me),re=mn.call(Xn,H)!==!1&&re}}return re&&!H.defaultPrevented}function Ln(p,S,D){if(typeof p=="function")D&&(p=g(p,D));else if(p&&typeof p.handleEvent=="function")p=g(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(p,S||0)}function cn(p){p.g=Ln(()=>{p.g=null,p.i&&(p.i=!1,cn(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class se extends lt{constructor(S,D){super(),this.m=S,this.l=D,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(p){lt.call(this),this.h=p,this.g={}}y(ne,lt);var be=[];function Ve(p){F(p.g,function(S,D){this.g.hasOwnProperty(D)&&xe(S)},p),p.g={}}ne.prototype.N=function(){ne.aa.N.call(this),Ve(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var He=a.JSON.stringify,ut=a.JSON.parse,Je=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function an(){}an.prototype.h=null;function _n(p){return p.h||(p.h=p.i())}function Dn(){}var Bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){pt.call(this,"d")}y(xn,pt);function Bn(){pt.call(this,"c")}y(Bn,pt);var Mn={},Er=null;function Tr(){return Er=Er||new st}Mn.La="serverreachability";function Oi(p){pt.call(this,Mn.La,p)}y(Oi,pt);function si(p){const S=Tr();yt(S,new Oi(S))}Mn.STAT_EVENT="statevent";function Li(p,S){pt.call(this,Mn.STAT_EVENT,p),this.stat=S}y(Li,pt);function As(p){const S=Tr();yt(S,new Li(S,p))}Mn.Ma="timingevent";function sp(p,S){pt.call(this,Mn.Ma,p),this.size=S}y(sp,pt);function cl(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},S)}function dl(){this.g=!0}dl.prototype.xa=function(){this.g=!1};function Vr(p,S,D,H,re,ue){p.info(function(){if(p.g)if(ue)for(var Me="",mn=ue.split("&"),Xn=0;Xn<mn.length;Xn++){var Qt=mn[Xn].split("=");if(1<Qt.length){var yn=Qt[0];Qt=Qt[1];var zn=yn.split("_");Me=2<=zn.length&&zn[1]=="type"?Me+(yn+"="+Qt+"&"):Me+(yn+"=redacted&")}}else Me=null;else Me=ue;return"XMLHTTP REQ ("+H+") [attempt "+re+"]: "+S+`
`+D+`
`+Me})}function at(p,S,D,H,re,ue,Me){p.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+re+"]: "+S+`
`+D+`
`+ue+" "+Me})}function po(p,S,D,H){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+ip(p,D)+(H?" "+H:"")})}function rp(p,S){p.info(function(){return"TIMEOUT: "+S})}dl.prototype.info=function(){};function ip(p,S){if(!p.g)return S;if(!S)return null;try{var D=JSON.parse(S);if(D){for(p=0;p<D.length;p++)if(Array.isArray(D[p])){var H=D[p];if(!(2>H.length)){var re=H[1];if(Array.isArray(re)&&!(1>re.length)){var ue=re[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Me=1;Me<re.length;Me++)re[Me]=""}}}}return He(D)}catch{return S}}var fl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eu;function ri(){}y(ri,an),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},Eu=new ri;function ii(p,S,D,H){this.j=p,this.i=S,this.l=D,this.R=H||1,this.U=new ne(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new op}function op(){this.i=null,this.g="",this.h=!1}var ap={},pd={};function md(p,S,D){p.L=1,p.v=$r(Wn(S)),p.m=D,p.P=!0,gd(p,null)}function gd(p,S){p.F=Date.now(),Su(p),p.A=Wn(p.v);var D=p.A,H=p.R;Array.isArray(H)||(H=[String(H)]),cp(D.i,"t",H),p.C=0,D=p.j.J,p.h=new op,p.g=_p(p.j,D?S:null,!p.m),0<p.O&&(p.M=new se(g(p.Y,p,p.g),p.O)),S=p.U,D=p.g,H=p.ca;var re="readystatechange";Array.isArray(re)||(re&&(be[0]=re.toString()),re=be);for(var ue=0;ue<re.length;ue++){var Me=ge(D,re[ue],H||S.handleEvent,!1,S.h||S);if(!Me)break;S.g[Me.key]=Me}S=p.H?P(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),si(),Vr(p.i,p.u,p.A,p.l,p.R,p.m)}ii.prototype.ca=function(p){p=p.target;const S=this.M;S&&Gs(p)==3?S.j():this.Y(p)},ii.prototype.Y=function(p){try{if(p==this.g)e:{const zn=Gs(this.g);var S=this.g.Ba();const ha=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||Od(this.g)))){this.J||zn!=4||S==7||(S==8||0>=ha?si(3):si(2)),_d(this);var D=this.g.Z();this.X=D;t:if(lp(this)){var H=Od(this.g);p="";var re=H.length,ue=Gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mo(this),hl(this);var Me="";break t}this.h.i=new a.TextDecoder}for(S=0;S<re;S++)this.h.h=!0,p+=this.h.i.decode(H[S],{stream:!(ue&&S==re-1)});H.length=0,this.h.g+=p,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=D==200,at(this.i,this.u,this.A,this.l,this.R,zn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var mn,Xn=this.g;if((mn=Xn.g?Xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(mn)){var Qt=mn;break t}}Qt=null}if(D=Qt)po(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pl(this,D);else{this.o=!1,this.s=3,As(12),mo(this),hl(this);break e}}if(this.P){D=!0;let Yn;for(;!this.J&&this.C<Me.length;)if(Yn=Tu(this,Me),Yn==pd){zn==4&&(this.s=4,As(14),D=!1),po(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==ap){this.s=4,As(15),po(this.i,this.l,Me,"[Invalid Chunk]"),D=!1;break}else po(this.i,this.l,Yn,null),pl(this,Yn);if(lp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||Me.length!=0||this.h.h||(this.s=1,As(16),D=!1),this.o=this.o&&D,!D)po(this.i,this.l,Me,"[Invalid Chunked Response]"),mo(this),hl(this);else if(0<Me.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),Lu(yn),yn.M=!0,As(11))}}else po(this.i,this.l,Me,null),pl(this,Me);zn==4&&mo(this),this.o&&!this.J&&(zn==4?Dd(this.j,this):(this.o=!1,Su(this)))}else Vv(this.g),D==400&&0<Me.indexOf("Unknown SID")?(this.s=3,As(12)):(this.s=0,As(13)),mo(this),hl(this)}}}catch{}finally{}};function lp(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Tu(p,S){var D=p.C,H=S.indexOf(`
`,D);return H==-1?pd:(D=Number(S.substring(D,H)),isNaN(D)?ap:(H+=1,H+D>S.length?pd:(S=S.slice(H,H+D),p.C=H+D,S)))}ii.prototype.cancel=function(){this.J=!0,mo(this)};function Su(p){p.S=Date.now()+p.I,up(p,p.I)}function up(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=cl(g(p.ba,p),S)}function _d(p){p.B&&(a.clearTimeout(p.B),p.B=null)}ii.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(rp(this.i,this.A),this.L!=2&&(si(),As(17)),mo(this),this.s=2,hl(this)):up(this,this.S-p)};function hl(p){p.j.G==0||p.J||Dd(p.j,p)}function mo(p){_d(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,Ve(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function pl(p,S){try{var D=p.j;if(D.G!=0&&(D.g==p||Wt(D.h,p))){if(!p.K&&Wt(D.h,p)&&D.G==3){try{var H=D.Da.g.parse(S)}catch{H=null}if(Array.isArray(H)&&H.length==3){var re=H;if(re[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<p.F)Mu(D),ku(D);else break e;Ou(D),As(18)}}else D.za=re[1],0<D.za-D.T&&37500>re[2]&&D.F&&D.v==0&&!D.C&&(D.C=cl(g(D.Za,D),6e3));if(1>=aa(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else wo(D,11)}else if((p.K||D.g==p)&&Mu(D),!C(S))for(re=D.Da.g.parse(S),S=0;S<re.length;S++){let Qt=re[S];if(D.T=Qt[0],Qt=Qt[1],D.G==2)if(Qt[0]=="c"){D.K=Qt[1],D.ia=Qt[2];const yn=Qt[3];yn!=null&&(D.la=yn,D.j.info("VER="+D.la));const zn=Qt[4];zn!=null&&(D.Aa=zn,D.j.info("SVER="+D.Aa));const ha=Qt[5];ha!=null&&typeof ha=="number"&&0<ha&&(H=1.5*ha,D.L=H,D.j.info("backChannelRequestTimeoutMs_="+H)),H=D;const Yn=p.g;if(Yn){const Vu=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vu){var ue=H.h;ue.g||Vu.indexOf("spdy")==-1&&Vu.indexOf("quic")==-1&&Vu.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Tn(ue,ue.h),ue.h=null))}if(H.D){const Ni=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ni&&(H.ya=Ni,xt(H.I,H.D,Ni))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-p.F,D.j.info("Handshake RTT: "+D.R+"ms")),H=D;var Me=p;if(H.qa=Nu(H,H.J?H.ia:null,H.W),Me.K){gl(H.h,Me);var mn=Me,Xn=H.L;Xn&&(mn.I=Xn),mn.B&&(_d(mn),Su(mn)),H.g=Me}else li(H);0<D.i.length&&fa(D)}else Qt[0]!="stop"&&Qt[0]!="close"||wo(D,7);else D.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?wo(D,7):Pu(D):Qt[0]!="noop"&&D.l&&D.l.ta(Qt),D.v=0)}}si(4)}catch{}}var ml=class{constructor(p,S){this.g=p,this.map=S}};function vd(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yd(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function aa(p){return p.h?1:p.g?p.g.size:0}function Wt(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Tn(p,S){p.g?p.g.add(S):p.h=S}function gl(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}vd.prototype.cancel=function(){if(this.i=go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function go(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const D of p.g.values())S=S.concat(D.D);return S}return w(p.i)}function la(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(u(p)){for(var S=[],D=p.length,H=0;H<D;H++)S.push(p[H]);return S}S=[],D=0;for(H in p)S[D++]=p[H];return S}function wd(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(u(p)||typeof p=="string"){var S=[];p=p.length;for(var D=0;D<p;D++)S.push(D);return S}S=[],D=0;for(const H in p)S[D++]=H;return S}}}function Ot(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(u(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var D=wd(p),H=la(p),re=H.length,ue=0;ue<re;ue++)S.call(void 0,H[ue],D&&D[ue],p)}var Nn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(p,S){if(p){p=p.split("&");for(var D=0;D<p.length;D++){var H=p[D].indexOf("="),re=null;if(0<=H){var ue=p[D].substring(0,H);re=p[D].substring(H+1)}else ue=p[D];S(ue,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Fr(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Fr){this.h=p.h,Cu(this,p.j),this.o=p.o,this.g=p.g,_o(this,p.s),this.l=p.l;var S=p.i,D=new vo;D.i=S.i,S.g&&(D.g=new Map(S.g),D.h=S.h),Di(this,D),this.m=p.m}else p&&(S=String(p).match(Nn))?(this.h=!1,Cu(this,S[1]||"",!0),this.o=oi(S[2]||""),this.g=oi(S[3]||"",!0),_o(this,S[4]),this.l=oi(S[5]||"",!0),Di(this,S[6]||"",!0),this.m=oi(S[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}Fr.prototype.toString=function(){var p=[],S=this.j;S&&p.push(ai(S,ua,!0),":");var D=this.g;return(D||S=="file")&&(p.push("//"),(S=this.o)&&p.push(ai(S,ua,!0),"@"),p.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&p.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&p.push("/"),p.push(ai(D,D.charAt(0)=="/"?Sd:Td,!0))),(D=this.i.toString())&&p.push("?",D),(D=this.m)&&p.push("#",ai(D,Cd)),p.join("")};function Wn(p){return new Fr(p)}function Cu(p,S,D){p.j=D?oi(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function _o(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function Di(p,S,D){S instanceof vo?(p.i=S,Br(p.i,p.h)):(D||(S=ai(S,xu)),p.i=new vo(S,p.h))}function xt(p,S,D){p.i.set(S,D)}function $r(p){return xt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function oi(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ai(p,S,D){return typeof p=="string"?(p=encodeURI(p).replace(S,Ed),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ed(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ua=/[#\/\?@]/g,Td=/[#\?:]/g,Sd=/[#\?]/g,xu=/[#\?@]/g,Cd=/#/g;function vo(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Sr(p){p.g||(p.g=new Map,p.h=0,p.i&&bd(p.i,function(S,D){p.add(decodeURIComponent(S.replace(/\+/g," ")),D)}))}t=vo.prototype,t.add=function(p,S){Sr(this),this.i=null,p=Et(this,p);var D=this.g.get(p);return D||this.g.set(p,D=[]),D.push(S),this.h+=1,this};function xd(p,S){Sr(p),S=Et(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function Iu(p,S){return Sr(p),S=Et(p,S),p.g.has(S)}t.forEach=function(p,S){Sr(this),this.g.forEach(function(D,H){D.forEach(function(re){p.call(S,re,H,this)},this)},this)},t.na=function(){Sr(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),D=[];for(let H=0;H<S.length;H++){const re=p[H];for(let ue=0;ue<re.length;ue++)D.push(S[H])}return D},t.V=function(p){Sr(this);let S=[];if(typeof p=="string")Iu(this,p)&&(S=S.concat(this.g.get(Et(this,p))));else{p=Array.from(this.g.values());for(let D=0;D<p.length;D++)S=S.concat(p[D])}return S},t.set=function(p,S){return Sr(this),this.i=null,p=Et(this,p),Iu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function cp(p,S,D){xd(p,S),0<D.length&&(p.i=null,p.g.set(Et(p,S),w(D)),p.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var D=0;D<S.length;D++){var H=S[D];const ue=encodeURIComponent(String(H)),Me=this.V(H);for(H=0;H<Me.length;H++){var re=ue;Me[H]!==""&&(re+="="+encodeURIComponent(String(Me[H]))),p.push(re)}}return this.i=p.join("&")};function Et(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Br(p,S){S&&!p.j&&(Sr(p),p.i=null,p.g.forEach(function(D,H){var re=H.toLowerCase();H!=re&&(xd(this,H),cp(this,re,D))},p)),p.j=S}function vn(p,S){const D=new dl;if(a.Image){const H=new Image;H.onload=v(Ur,D,"TestLoadImage: loaded",!0,S,H),H.onerror=v(Ur,D,"TestLoadImage: error",!1,S,H),H.onabort=v(Ur,D,"TestLoadImage: abort",!1,S,H),H.ontimeout=v(Ur,D,"TestLoadImage: timeout",!1,S,H),a.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=p}else S(!1)}function dp(p,S){const D=new dl,H=new AbortController,re=setTimeout(()=>{H.abort(),Ur(D,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:H.signal}).then(ue=>{clearTimeout(re),ue.ok?Ur(D,"TestPingServer: ok",!0,S):Ur(D,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(re),Ur(D,"TestPingServer: error",!1,S)})}function Ur(p,S,D,H,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),H(D)}catch{}}function Id(){this.g=new Je}function Ad(p,S,D){const H=D||"";try{Ot(p,function(re,ue){let Me=re;c(re)&&(Me=He(re)),S.push(H+ue+"="+encodeURIComponent(Me))})}catch(re){throw S.push(H+"type="+encodeURIComponent("_badmap")),re}}function zr(p){this.l=p.Ub||null,this.j=p.eb||!1}y(zr,an),zr.prototype.g=function(){return new ca(this.l,this.j)},zr.prototype.i=function(p){return function(){return p}}({});function ca(p,S){st.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ca,st),t=ca.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,Cr(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Un(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;da(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function da(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?Un(this):Cr(this),this.readyState==3&&da(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Un(this))},t.Qa=function(p){this.g&&(this.response=p,Un(this))},t.ga=function(){this.g&&Un(this)};function Un(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Cr(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var D=S.next();!D.done;)D=D.value,p.push(D[0]+": "+D[1]),D=S.next();return p.join(`\r
`)};function Cr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Rd(p){let S="";return F(p,function(D,H){S+=H,S+=":",S+=D,S+=`\r
`}),S}function Au(p,S,D){e:{for(H in D){var H=!1;break e}H=!0}H||(D=Rd(D),typeof p=="string"?D!=null&&encodeURIComponent(String(D)):xt(p,S,D))}function Vn(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Vn,st);var fp=/^https?$/i,Pd=["POST","PUT"];t=Vn.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,D,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eu.g(),this.v=this.o?_n(this.o):_n(Eu),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ue){hp(this,ue);return}if(p=D||"",D=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var re in H)D.set(re,H[re]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ue of H.keys())D.set(ue,H.get(ue));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(D.keys()).find(ue=>ue.toLowerCase()=="content-type"),re=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Pd,S,void 0))||H||re||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Me]of D)this.g.setRequestHeader(ue,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{or(this),this.u=!0,this.g.send(p),this.u=!1}catch(ue){hp(this,ue)}};function hp(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,kd(p),Ru(p)}function kd(p){p.A||(p.A=!0,yt(p,"complete"),yt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,yt(this,"complete"),yt(this,"abort"),Ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ru(this,!0)),Vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},t.bb=function(){Ut(this)};function Ut(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Gs(p)!=4||p.Z()!=2)){if(p.u&&Gs(p)==4)Ln(p.Ea,0,p);else if(yt(p,"readystatechange"),Gs(p)==4){p.h=!1;try{const Me=p.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var D;if(!(D=S)){var H;if(H=Me===0){var re=String(p.D).match(Nn)[1]||null;!re&&a.self&&a.self.location&&(re=a.self.location.protocol.slice(0,-1)),H=!fp.test(re?re.toLowerCase():"")}D=H}if(D)yt(p,"complete"),yt(p,"success");else{p.m=6;try{var ue=2<Gs(p)?p.g.statusText:""}catch{ue=""}p.l=ue+" ["+p.Z()+"]",kd(p)}}finally{Ru(p)}}}}function Ru(p,S){if(p.g){or(p);const D=p.g,H=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||yt(p,"ready");try{D.onreadystatechange=H}catch{}}}function or(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Gs(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),ut(S)}};function Od(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Vv(p){const S={};p=(p.g&&2<=Gs(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<p.length;H++){if(C(p[H]))continue;var D=U(p[H]);const re=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ue=S[re]||[];S[re]=ue,ue.push(D)}k(S,function(H){return H.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(p,S,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||S}function pp(p){this.Aa=0,this.i=[],this.j=new dl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yo("baseRetryDelayMs",5e3,p),this.cb=yo("retryDelaySeedMs",1e4,p),this.Wa=yo("forwardChannelMaxRetries",2,p),this.wa=yo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new vd(p&&p.concurrentRequestLimit),this.Da=new Id,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pp.prototype,t.la=8,t.G=1,t.connect=function(p,S,D,H){As(0),this.W=p,this.H=S||{},D&&H!==void 0&&(this.H.OSID=D,this.H.OAID=H),this.F=this.X,this.I=Nu(this,null,this.W),fa(this)};function Pu(p){if(mp(p),p.G==3){var S=p.U++,D=Wn(p.I);if(xt(D,"SID",p.K),xt(D,"RID",S),xt(D,"TYPE","terminate"),_l(p,D),S=new ii(p,p.j,S),S.L=2,S.v=$r(Wn(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=S.v,D=!0),D||(S.g=_p(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Su(S)}gp(p)}function ku(p){p.g&&(Lu(p),p.g.cancel(),p.g=null)}function mp(p){ku(p),p.u&&(a.clearTimeout(p.u),p.u=null),Mu(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function fa(p){if(!yd(p.h)&&!p.s){p.s=!0;var S=p.Ga;_e||Ne(),me||(_e(),me=!0),nt.add(S,p),p.B=0}}function Fv(p,S){return aa(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=cl(g(p.Ga,p,S),Md(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const re=new ii(this,this.j,p);let ue=this.o;if(this.S&&(ue?(ue=P(ue),N(ue,this.S)):ue=this.S),this.m!==null||this.O||(re.H=ue,ue=null),this.P)e:{for(var S=0,D=0;D<this.i.length;D++){t:{var H=this.i[D];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(S+=H,4096<S){S=D;break e}if(S===4096||D===this.i.length-1){S=D+1;break e}}S=1e3}else S=1e3;S=Ld(this,re,S),D=Wn(this.I),xt(D,"RID",p),xt(D,"CVER",22),this.D&&xt(D,"X-HTTP-Session-Id",this.D),_l(this,D),ue&&(this.O?S="headers="+encodeURIComponent(String(Rd(ue)))+"&"+S:this.m&&Au(D,this.m,ue)),Tn(this.h,re),this.Ua&&xt(D,"TYPE","init"),this.P?(xt(D,"$req",S),xt(D,"SID","null"),re.T=!0,md(re,D,null)):md(re,D,S),this.G=2}}else this.G==3&&(p?xr(this,p):this.i.length==0||yd(this.h)||xr(this))};function xr(p,S){var D;S?D=S.l:D=p.U++;const H=Wn(p.I);xt(H,"SID",p.K),xt(H,"RID",D),xt(H,"AID",p.T),_l(p,H),p.m&&p.o&&Au(H,p.m,p.o),D=new ii(p,p.j,D,p.B+1),p.m===null&&(D.H=p.o),S&&(p.i=S.D.concat(p.i)),S=Ld(p,D,1e3),D.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Tn(p.h,D),md(D,H,S)}function _l(p,S){p.H&&F(p.H,function(D,H){xt(S,H,D)}),p.l&&Ot({},function(D,H){xt(S,H,D)})}function Ld(p,S,D){D=Math.min(p.i.length,D);var H=p.l?g(p.l.Na,p.l,p):null;e:{var re=p.i;let ue=-1;for(;;){const Me=["count="+D];ue==-1?0<D?(ue=re[0].g,Me.push("ofs="+ue)):ue=0:Me.push("ofs="+ue);let mn=!0;for(let Xn=0;Xn<D;Xn++){let Qt=re[Xn].g;const yn=re[Xn].map;if(Qt-=ue,0>Qt)ue=Math.max(0,re[Xn].g-100),mn=!1;else try{Ad(yn,Me,"req"+Qt+"_")}catch{H&&H(yn)}}if(mn){H=Me.join("&");break e}}}return p=p.i.splice(0,D),S.D=p,H}function li(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;_e||Ne(),me||(_e(),me=!0),nt.add(S,p),p.v=0}}function Ou(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=cl(g(p.Fa,p),Md(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=cl(g(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,As(10),ku(this),Du(this))};function Lu(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function Du(p){p.g=new ii(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=Wn(p.qa);xt(S,"RID","rpc"),xt(S,"SID",p.K),xt(S,"AID",p.T),xt(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&xt(S,"TO",p.ja),xt(S,"TYPE","xmlhttp"),_l(p,S),p.m&&p.o&&Au(S,p.m,p.o),p.L&&(p.g.I=p.L);var D=p.g;p=p.ia,D.L=1,D.v=$r(Wn(S)),D.m=null,D.P=!0,gd(D,p)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),Ou(this),As(19))};function Mu(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function Dd(p,S){var D=null;if(p.g==S){Mu(p),Lu(p),p.g=null;var H=2}else if(Wt(p.h,S))D=S.D,gl(p.h,S),H=1;else return;if(p.G!=0){if(S.o)if(H==1){D=S.m?S.m.length:0,S=Date.now()-S.F;var re=p.B;H=Tr(),yt(H,new sp(H,D)),fa(p)}else li(p);else if(re=S.s,re==3||re==0&&0<S.X||!(H==1&&Fv(p,S)||H==2&&Ou(p)))switch(D&&0<D.length&&(S=p.h,S.i=S.i.concat(D)),re){case 1:wo(p,5);break;case 4:wo(p,10);break;case 3:wo(p,6);break;default:wo(p,2)}}}function Md(p,S){let D=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(D*=2),D*S}function wo(p,S){if(p.j.info("Error code "+S),S==2){var D=g(p.fb,p),H=p.Xa;const re=!H;H=new Fr(H||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cu(H,"https"),$r(H),re?vn(H.toString(),D):dp(H.toString(),D)}else As(2);p.G=0,p.l&&p.l.sa(S),gp(p),mp(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),As(2)):(this.j.info("Failed to ping google.com"),As(1))};function gp(p){if(p.G=0,p.ka=[],p.l){const S=go(p.h);(S.length!=0||p.i.length!=0)&&(E(p.ka,S),E(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function Nu(p,S,D){var H=D instanceof Fr?Wn(D):new Fr(D);if(H.g!="")S&&(H.g=S+"."+H.g),_o(H,H.s);else{var re=a.location;H=re.protocol,S=S?S+"."+re.hostname:re.hostname,re=+re.port;var ue=new Fr(null);H&&Cu(ue,H),S&&(ue.g=S),re&&_o(ue,re),D&&(ue.l=D),H=ue}return D=p.D,S=p.ya,D&&S&&xt(H,D,S),xt(H,"VER",p.la),_l(p,H),H}function _p(p,S,D){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Vn(new zr({eb:D})):new Vn(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nd(){}t=Nd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vl(){}vl.prototype.g=function(p,S){return new ms(p,S)};function ms(p,S){st.call(this),this.g=new pp(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!C(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!C(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new jr(this)}y(ms,st),ms.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ms.prototype.close=function(){Pu(this.g)},ms.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var D={};D.__data__=p,p=D}else this.u&&(D={},D.__data__=He(p),p=D);S.i.push(new ml(S.Ya++,p)),S.G==3&&fa(S)},ms.prototype.N=function(){this.g.l=null,delete this.j,Pu(this.g),delete this.g,ms.aa.N.call(this)};function Mi(p){xn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const D in S){p=D;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}y(Mi,xn);function vp(){Bn.call(this),this.status=1}y(vp,Bn);function jr(p){this.g=p}y(jr,Nd),jr.prototype.ua=function(){yt(this.g,"a")},jr.prototype.ta=function(p){yt(this.g,new Mi(p))},jr.prototype.sa=function(p){yt(this.g,new vp)},jr.prototype.ra=function(){yt(this.g,"b")},vl.prototype.createWebChannel=vl.prototype.g,ms.prototype.send=ms.prototype.o,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,PO=function(){return new vl},RO=function(){return Tr()},AO=Mn,Zw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,ym=fl,bu.COMPLETE="complete",IO=bu,Dn.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",st.prototype.listen=st.prototype.K,af=Dn,Vn.prototype.listenOnce=Vn.prototype.L,Vn.prototype.getLastError=Vn.prototype.Ka,Vn.prototype.getLastErrorCode=Vn.prototype.Ba,Vn.prototype.getStatus=Vn.prototype.Z,Vn.prototype.getResponseJson=Vn.prototype.Oa,Vn.prototype.getResponseText=Vn.prototype.oa,Vn.prototype.send=Vn.prototype.ea,Vn.prototype.setWithCredentials=Vn.prototype.Ha,xO=Vn}).apply(typeof Hp<"u"?Hp:typeof self<"u"?self:typeof window<"u"?window:{});const Sx="@firebase/firestore",Cx="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ns.UNAUTHENTICATED=new Ns(null),Ns.GOOGLE_CREDENTIALS=new Ns("google-credentials-uid"),Ns.FIRST_PARTY=new Ns("first-party-uid"),Ns.MOCK_USER=new Ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new Oh("@firebase/firestore");function Yu(){return Ul.logLevel}function Ge(t,...e){if(Ul.logLevel<=zt.DEBUG){const n=e.map(vE);Ul.debug(`Firestore (${Xc}): ${t}`,...n)}}function Qo(t,...e){if(Ul.logLevel<=zt.ERROR){const n=e.map(vE);Ul.error(`Firestore (${Xc}): ${t}`,...n)}}function Sc(t,...e){if(Ul.logLevel<=zt.WARN){const n=e.map(vE);Ul.warn(`Firestore (${Xc}): ${t}`,...n)}}function vE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t="Unexpected state"){const e=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: `+t;throw Qo(e),new Error(e)}function pn(t,e){t||Ct()}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ns.UNAUTHENTICATED))}shutdown(){}}class mq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gq{constructor(e){this.t=e,this.currentUser=Ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pn(this.o===void 0);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new Uo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Uo,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},a=u=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Uo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pn(typeof s.accessToken=="string"),new kO(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pn(e===null||typeof e=="string"),new Ns(e)}}class _q{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ns.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vq{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new _q(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yq{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){pn(this.o===void 0);const s=i=>{i.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?r(i):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pn(typeof n.token=="string"),this.R=n.token,new xx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=wq(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Vt(t,e){return t<e?-1:t>e?1:0}function Yw(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return Vt(s,r);{const i=OO(),o=bq(i.encode(Ix(t,n)),i.encode(Ix(e,n)));return o!==0?o:Vt(s,r)}}n+=s>65535?2:1}return Vt(t.length,e.length)}function Ix(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function bq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Vt(t[n],e[n]);return Vt(t.length,e.length)}function Cc(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=-62135596800,Rx=1e6;class is{static now(){return is.fromMillis(Date.now())}static fromDate(e){return is.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Rx);return new is(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ax)throw new Ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rx}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ax;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new is(0,0))}static max(){return new Rt(new is(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class Ui{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ct(),s===void 0?s=e.length-n:s>e.length-n&&Ct(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Ui.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Vt(e.length,n.length)}static compareSegments(e,n){const s=Ui.isNumericId(e),r=Ui.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):Yw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class Pn extends Ui{construct(e,n,s){return new Pn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ze(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Pn(n)}static emptyPath(){return new Pn([])}}const Eq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ps extends Ui{construct(e,n,s){return new Ps(e,n,s)}static isValidIdentifier(e){return Eq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ps.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new Ps([Qw])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Ze(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new Ze(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ze(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new Ze(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ps(n)}static emptyPath(){return new Ps([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Pn.fromString(e))}static fromName(e){return new ht(Pn.fromString(e).popFirst(5))}static empty(){return new ht(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function Tq(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(s===1e9?new is(n+1,0):new is(n,s));return new Ha(r,ht.empty(),e)}function Sq(t){return new Ha(t.readTime,t.key,rh)}class Ha{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ha(Rt.min(),ht.empty(),rh)}static max(){return new Ha(Rt.max(),ht.empty(),rh)}}function Cq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t){if(t.code!==Te.FAILED_PRECONDITION||t.message!==xq)throw t;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,s)=>{n(e)})}static reject(e){return new Ee((n,s)=>{s(e)})}static waitFor(e){return new Ee((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},u=>s(u))}),o=!0,i===r&&n()})}static or(e){let n=Ee.resolve(!1);for(const s of e)n=n.next(r=>r?Ee.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new Ee((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&s(o)},d=>r(d))}})}static doWhile(e,n){return new Ee((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Aq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}F_.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=-1;function $_(t){return t==null}function tg(t){return t===0&&1/t==-1/0}function Rq(t){return typeof t=="number"&&Number.isInteger(t)&&!tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="";function Pq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Px(e)),e=kq(t.get(n),e);return Px(e)}function kq(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case DO:n+="";break;default:n+=i}}return n}function Px(t){return t+DO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os=class Xw{constructor(e,n){this.comparator=e,this.root=n||Va.EMPTY}insert(e,n){return new Xw(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Va.BLACK,null,null))}remove(e){return new Xw(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Va.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}},qp=class{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Va=class xo{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??xo.RED,this.left=r??xo.EMPTY,this.right=i??xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new xo(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return xo.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ct();const e=this.left.check();if(e!==this.right.check())throw Ct();return e+(this.isRed()?0:1)}};Va.EMPTY=null,Va.RED=!0,Va.BLACK=!1;Va.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct()}get value(){throw Ct()}get color(){throw Ct()}get left(){throw Ct()}get right(){throw Ct()}copy(e,n,s,r,i){return this}insert(e,n,s){return new Va(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.comparator=e,this.data=new os(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ox(this.data.getIterator())}getIteratorFrom(e){return new Ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof hs)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hs(this.comparator);return n.data=e,n}}class Ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Ps.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new hs(Ps.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NO("Invalid base64 string: "+i):i}}(e);return new Os(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Os(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const Oq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(t){if(pn(!!t),typeof t=="string"){let e=0;const n=Oq.exec(t);if(pn(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qn(t.seconds),nanos:Qn(t.nanos)}}function Qn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wa(t){return typeof t=="string"?Os.fromBase64String(t):Os.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="server_timestamp",FO="__type__",$O="__previous_value__",BO="__local_write_time__";function wE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[FO])===null||n===void 0?void 0:n.stringValue)===VO}function B_(t){const e=t.mapValue.fields[$O];return wE(e)?B_(e):e}function ih(t){const e=qa(t.mapValue.fields[BO].timestampValue);return new is(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,n,s,r,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const ng="(default)";class oh{constructor(e,n){this.projectId=e,this.database=n||ng}static empty(){return new oh("","")}get isDefaultDatabase(){return this.database===ng}isEqual(e){return e instanceof oh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__type__",Dq="__max__",Wp={mapValue:{}},zO="__vector__",sg="value";function Ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wE(t)?4:Nq(t)?9007199254740991:Mq(t)?10:11:Ct()}function ro(t,e){if(t===e)return!0;const n=Ga(t);if(n!==Ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=qa(r.timestampValue),a=qa(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Wa(r.bytesValue).isEqual(Wa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Qn(r.geoPointValue.latitude)===Qn(i.geoPointValue.latitude)&&Qn(r.geoPointValue.longitude)===Qn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qn(r.integerValue)===Qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Qn(r.doubleValue),a=Qn(i.doubleValue);return o===a?tg(o)===tg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Cc(t.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:case 11:return function(r,i){const o=r.mapValue.fields||{},a=i.mapValue.fields||{};if(kx(o)!==kx(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ro(o[u],a[u])))return!1;return!0}(t,e);default:return Ct()}}function ah(t,e){return(t.values||[]).find(n=>ro(n,e))!==void 0}function xc(t,e){if(t===e)return 0;const n=Ga(t),s=Ga(e);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Qn(i.integerValue||i.doubleValue),u=Qn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Lx(t.timestampValue,e.timestampValue);case 4:return Lx(ih(t),ih(e));case 5:return Yw(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Wa(i),u=Wa(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Vt(a[c],u[c]);if(d!==0)return d}return Vt(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Vt(Qn(i.latitude),Qn(o.latitude));return a!==0?a:Vt(Qn(i.longitude),Qn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const h=i.fields||{},g=o.fields||{},v=(a=h[sg])===null||a===void 0?void 0:a.arrayValue,y=(u=g[sg])===null||u===void 0?void 0:u.arrayValue,w=Vt(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:Dx(v,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Wp.mapValue&&o===Wp.mapValue)return 0;if(i===Wp.mapValue)return 1;if(o===Wp.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const g=Yw(u[h],d[h]);if(g!==0)return g;const v=xc(a[u[h]],c[d[h]]);if(v!==0)return v}return Vt(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Ct()}}function Lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);const n=qa(t),s=qa(e),r=Vt(n.seconds,s.seconds);return r!==0?r:Vt(n.nanos,s.nanos)}function Dx(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=xc(n[r],s[r]);if(i)return i}return Vt(n.length,s.length)}function Ic(t){return Jw(t)}function Jw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=qa(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Jw(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Jw(n.fields[o])}`;return r+"}"}(t.mapValue):Ct()}function wm(t){switch(Ga(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B_(t);return e?16+wm(e):16;case 5:return 2*t.stringValue.length;case 6:return Wa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+wm(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return ol(s.fields,(i,o)=>{r+=i.length+wm(o)}),r}(t.mapValue);default:throw Ct()}}function Mx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eb(t){return!!t&&"integerValue"in t}function bE(t){return!!t&&"arrayValue"in t}function Nx(t){return!!t&&"nullValue"in t}function Vx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bm(t){return!!t&&"mapValue"in t}function Mq(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UO])===null||n===void 0?void 0:n.stringValue)===zO}function Rf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Rf(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Dq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rf(n)}setAll(e){let n=Ps.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Rf(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());bm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];bm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){ol(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new dr(Rf(this.value))}}function jO(t){const e=[];return ol(t.fields,(n,s)=>{const r=new Ps([n]);if(bm(s)){const i=jO(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $s(e,0,Rt.min(),Rt.min(),Rt.min(),dr.empty(),0)}static newFoundDocument(e,n,s,r){return new $s(e,1,n,Rt.min(),s,r,0)}static newNoDocument(e,n){return new $s(e,2,n,Rt.min(),Rt.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new $s(e,3,n,Rt.min(),Rt.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $s&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){this.position=e,this.inclusive=n}}function Fx(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=ht.comparator(ht.fromName(o.referenceValue),n.key):s=xc(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function $x(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ro(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{}class ss extends HO{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $q(e,n,s):n==="array-contains"?new zq(e,s):n==="in"?new jq(e,s):n==="not-in"?new Hq(e,s):n==="array-contains-any"?new qq(e,s):new ss(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Bq(e,s):new Uq(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xc(n,this.value)):n!==null&&Ga(this.value)===Ga(n)&&this.matchesComparison(xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends HO{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ii(e,n)}matches(e){return qO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qO(t){return t.op==="and"}function WO(t){return Fq(t)&&qO(t)}function Fq(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function tb(t){if(t instanceof ss)return t.field.canonicalString()+t.op.toString()+Ic(t.value);if(WO(t))return t.filters.map(e=>tb(e)).join(",");{const e=t.filters.map(n=>tb(n)).join(",");return`${t.op}(${e})`}}function GO(t,e){return t instanceof ss?function(s,r){return r instanceof ss&&s.op===r.op&&s.field.isEqual(r.field)&&ro(s.value,r.value)}(t,e):t instanceof Ii?function(s,r){return r instanceof Ii&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,o,a)=>i&&GO(o,r.filters[a]),!0):!1}(t,e):void Ct()}function KO(t){return t instanceof ss?function(n){return`${n.field.canonicalString()} ${n.op} ${Ic(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(KO).join(" ,")+"}"}(t):"Filter"}class $q extends ss{constructor(e,n,s){super(e,n,s),this.key=ht.fromName(s.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bq extends ss{constructor(e,n){super(e,"in",n),this.keys=ZO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uq extends ss{constructor(e,n){super(e,"not-in",n),this.keys=ZO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class zq extends ss{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bE(n)&&ah(n.arrayValue,this.value)}}class jq extends ss{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ah(this.value.arrayValue,n)}}class Hq extends ss{constructor(e,n){super(e,"not-in",n)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ah(this.value.arrayValue,n)}}class qq extends ss{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ah(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function Bx(t,e=null,n=[],s=[],r=null,i=null,o=null){return new Wq(t,e,n,s,r,i,o)}function EE(t){const e=kt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>tb(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),$_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ic(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ic(s)).join(",")),e.le=n}return e.le}function TE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Vq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$x(t.startAt,e.startAt)&&$x(t.endAt,e.endAt)}function nb(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Gq(t,e,n,s,r,i,o,a){return new Lh(t,e,n,s,r,i,o,a)}function U_(t){return new Lh(t)}function Ux(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YO(t){return t.collectionGroup!==null}function Pf(t){const e=kt(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new hs(Ps.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new ig(i,s))}),n.has(Ps.keyField().canonicalString())||e.he.push(new ig(Ps.keyField(),s))}return e.he}function Zi(t){const e=kt(t);return e.Pe||(e.Pe=Kq(e,Pf(t))),e.Pe}function Kq(t,e){if(t.limitType==="F")return Bx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new ig(r.field,i)});const n=t.endAt?new rg(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new rg(t.startAt.position,t.startAt.inclusive):null;return Bx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function sb(t,e){const n=t.filters.concat([e]);return new Lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rb(t,e,n){return new Lh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function z_(t,e){return TE(Zi(t),Zi(e))&&t.limitType===e.limitType}function QO(t){return`${EE(Zi(t))}|lt:${t.limitType}`}function Qu(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>KO(r)).join(", ")}]`),$_(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Ic(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Ic(r)).join(",")),`Target(${s})`}(Zi(t))}; limitType=${t.limitType})`}function j_(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ht.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Pf(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,a,u){const c=Fx(o,a,u);return o.inclusive?c<=0:c<0}(s.startAt,Pf(s),r)||s.endAt&&!function(o,a,u){const c=Fx(o,a,u);return o.inclusive?c>=0:c>0}(s.endAt,Pf(s),r))}(t,e)}function Zq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XO(t){return(e,n)=>{let s=!1;for(const r of Pf(t)){const i=Yq(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function Yq(t,e,n){const s=t.field.isKeyField()?ht.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?xc(u,c):Ct()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return MO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=new os(ht.comparator);function Xo(){return Qq}const JO=new os(ht.comparator);function lf(...t){let e=JO;for(const n of t)e=e.insert(n.key,n);return e}function eL(t){let e=JO;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Al(){return kf()}function tL(){return kf()}function kf(){return new uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xq=new os(ht.comparator),Jq=new hs(ht.comparator);function Kt(...t){let e=Jq;for(const n of t)e=e.add(n);return e}const eW=new hs(Vt);function tW(){return eW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tg(e)?"-0":e}}function nL(t){return{integerValue:""+t}}function nW(t,e){return Rq(e)?nL(e):SE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this._=void 0}}function sW(t,e,n){return t instanceof lh?function(r,i){const o={fields:{[FO]:{stringValue:VO},[BO]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wE(i)&&(i=B_(i)),i&&(o.fields[$O]=i),{mapValue:o}}(n,e):t instanceof Ac?rL(t,e):t instanceof Rc?iL(t,e):function(r,i){const o=sL(r,i),a=zx(o)+zx(r.Ie);return eb(o)&&eb(r.Ie)?nL(a):SE(r.serializer,a)}(t,e)}function rW(t,e,n){return t instanceof Ac?rL(t,e):t instanceof Rc?iL(t,e):n}function sL(t,e){return t instanceof og?function(s){return eb(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class lh extends H_{}class Ac extends H_{constructor(e){super(),this.elements=e}}function rL(t,e){const n=oL(e);for(const s of t.elements)n.some(r=>ro(r,s))||n.push(s);return{arrayValue:{values:n}}}class Rc extends H_{constructor(e){super(),this.elements=e}}function iL(t,e){let n=oL(e);for(const s of t.elements)n=n.filter(r=>!ro(r,s));return{arrayValue:{values:n}}}class og extends H_{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function zx(t){return Qn(t.integerValue||t.doubleValue)}function oL(t){return bE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.field=e,this.transform=n}}function iW(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof Ac&&r instanceof Ac||s instanceof Rc&&r instanceof Rc?Cc(s.elements,r.elements,ro):s instanceof og&&r instanceof og?ro(s.Ie,r.Ie):s instanceof lh&&r instanceof lh}(t.transform,e.transform)}class oW{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class q_{}function aL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xE(t.key,Zr.none()):new Dh(t.key,t.data,Zr.none());{const n=t.data,s=dr.empty();let r=new hs(Ps.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new al(t.key,s,new Pr(r.toArray()),Zr.none())}}function aW(t,e,n){t instanceof Dh?function(r,i,o){const a=r.value.clone(),u=Hx(r.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof al?function(r,i,o){if(!Em(r.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Hx(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(lL(r)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Of(t,e,n,s){return t instanceof Dh?function(i,o,a,u){if(!Em(i.precondition,o))return a;const c=i.value.clone(),d=qx(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof al?function(i,o,a,u){if(!Em(i.precondition,o))return a;const c=qx(i.fieldTransforms,u,o),d=o.data;return d.setAll(lL(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,o,a){return Em(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lW(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=sL(s.transform,r||null);i!=null&&(n===null&&(n=dr.empty()),n.set(s.field,i))}return n||null}function jx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Cc(s,r,(i,o)=>iW(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dh extends q_{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class al extends q_{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Hx(t,e,n){const s=new Map;pn(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,rW(o,a,n[r]))}return s}function qx(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,sW(i,o,e))}return s}class xE extends q_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uW extends q_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&aW(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Of(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Of(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tL();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const u=aL(o,a);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Rt.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,(n,s)=>jx(n,s))&&Cc(this.baseMutations,e.baseMutations,(n,s)=>jx(n,s))}}class IE{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){pn(e.mutations.length===s.length);let r=function(){return Xq}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new IE(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es,Xt;function hW(t){switch(t){case Te.OK:return Ct();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Ct()}}function uL(t){if(t===void 0)return Qo("GRPC error has no .code"),Te.UNKNOWN;switch(t){case es.OK:return Te.OK;case es.CANCELLED:return Te.CANCELLED;case es.UNKNOWN:return Te.UNKNOWN;case es.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case es.INTERNAL:return Te.INTERNAL;case es.UNAVAILABLE:return Te.UNAVAILABLE;case es.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case es.NOT_FOUND:return Te.NOT_FOUND;case es.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case es.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case es.ABORTED:return Te.ABORTED;case es.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case es.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case es.DATA_LOSS:return Te.DATA_LOSS;default:return Ct()}}(Xt=es||(es={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=new Na([4294967295,4294967295],0);function Wx(t){const e=OO().encode(t),n=new CO;return n.update(e),new Uint8Array(n.digest())}function Gx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Na([n,s],0),new Na([r,i],0)]}class AE{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new uf(`Invalid padding: ${n}`);if(s<0)throw new uf(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uf(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new uf(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Na.fromNumber(this.Ee)}Ae(e,n,s){let r=e.add(n.multiply(Na.fromNumber(s)));return r.compare(pW)===1&&(r=new Na([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Wx(e),[s,r]=Gx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(s,r,i);if(!this.Re(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new AE(i,r,n);return s.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=Wx(e),[s,r]=Gx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(s,r,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Mh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new W_(Rt.min(),r,new os(Vt),Xo(),Kt())}}class Mh{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Mh(s,n,Kt(),Kt(),Kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,s,r){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=r}}class cL{constructor(e,n){this.targetId=e,this.ge=n}}class dL{constructor(e,n,s=Os.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Kx{constructor(){this.pe=0,this.ye=Zx(),this.we=Os.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Kt(),n=Kt(),s=Kt();return this.ye.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Ct()}}),new Mh(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Zx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,pn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class mW{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Xo(),this.$e=Gp(),this.Ue=Gp(),this.Ke=new os(Vt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ct()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,s=e.ge.count,r=this.Xe(n);if(r){const i=r.target;if(nb(i))if(s===0){const o=new ht(i.path);this.ze(n,o,$s.newNoDocument(o,Rt.min()))}else pn(s===1);else{const o=this.et(n);if(o!==s){const a=this.tt(e),u=a?this.nt(a,e,o):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,a;try{o=Wa(s).toUint8Array()}catch(u){if(u instanceof NO)return Sc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new AE(o,r,i)}catch(u){return Sc(u instanceof uf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&nb(a.target)){const u=new ht(a.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,$s.newNoDocument(u,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let s=Kt();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const r=new W_(e,n,this.Ke,this.Qe,s);return this.Qe=Xo(),this.$e=Gp(),this.Ue=Gp(),this.Ke=new os(Vt),r}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Kx,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new hs(Vt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new hs(Vt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Kx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Gp(){return new os(ht.comparator)}function Zx(){return new os(ht.comparator)}const gW={asc:"ASCENDING",desc:"DESCENDING"},_W={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vW={and:"AND",or:"OR"};class yW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ib(t,e){return t.useProto3Json||$_(e)?e:{value:e}}function ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wW(t,e){return ag(t,e.toTimestamp())}function Yi(t){return pn(!!t),Rt.fromTimestamp(function(n){const s=qa(n);return new is(s.seconds,s.nanos)}(t))}function RE(t,e){return ob(t,e).canonicalString()}function ob(t,e){const n=function(r){return new Pn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hL(t){const e=Pn.fromString(t);return pn(vL(e)),e}function ab(t,e){return RE(t.databaseId,e.path)}function gy(t,e){const n=hL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(mL(n))}function pL(t,e){return RE(t.databaseId,e)}function bW(t){const e=hL(t);return e.length===4?Pn.emptyPath():mL(e)}function lb(t){return new Pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mL(t){return pn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Yx(t,e,n){return{name:ab(t,e),fields:n.value.mapValue.fields}}function EW(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ct()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(pn(d===void 0||typeof d=="string"),Os.fromBase64String(d||"")):(pn(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Os.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Te.UNKNOWN:uL(c.code);return new Ze(d,c.message||"")}(o);n=new dL(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=gy(t,s.document.name),i=Yi(s.document.updateTime),o=s.document.createTime?Yi(s.document.createTime):Rt.min(),a=new dr({mapValue:{fields:s.document.fields}}),u=$s.newFoundDocument(r,i,o,a),c=s.targetIds||[],d=s.removedTargetIds||[];n=new Tm(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=gy(t,s.document),i=s.readTime?Yi(s.readTime):Rt.min(),o=$s.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Tm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=gy(t,s.document),i=s.removedTargetIds||[];n=new Tm([],i,r,null)}else{if(!("filter"in e))return Ct();{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new fW(r,i),a=s.targetId;n=new cL(a,o)}}return n}function TW(t,e){let n;if(e instanceof Dh)n={update:Yx(t,e.key,e.value)};else if(e instanceof xE)n={delete:ab(t,e.key)};else if(e instanceof al)n={update:Yx(t,e.key,e.data),updateMask:OW(e.fieldMask)};else{if(!(e instanceof uW))return Ct();n={verify:ab(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,o){const a=o.transform;if(a instanceof lh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof og)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ct()}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:wW(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ct()}(t,e.precondition)),n}function SW(t,e){return t&&t.length>0?(pn(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?Yi(r.updateTime):Yi(i);return o.isEqual(Rt.min())&&(o=Yi(i)),new oW(o,r.transformResults||[])}(n,e))):[]}function CW(t,e){return{documents:[pL(t,e.path)]}}function xW(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pL(t,r);const i=function(c){if(c.length!==0)return _L(Ii.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Xu(g.field),direction:RW(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ib(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:r}}function IW(t){let e=bW(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){pn(s===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const g=gL(h);return g instanceof Ii&&WO(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(g=>function(y){return new ig(Ju(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(h){let g;return g=typeof h=="object"?h.value:h,$_(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(h){const g=!!h.before,v=h.values||[];return new rg(v,g)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const g=!h.before,v=h.values||[];return new rg(v,g)}(n.endAt)),Gq(e,r,o,i,a,"F",u,c)}function AW(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ju(n.unaryFilter.field);return ss.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Ju(n.unaryFilter.field);return ss.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ju(n.unaryFilter.field);return ss.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ju(n.unaryFilter.field);return ss.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ct()}}(t):t.fieldFilter!==void 0?function(n){return ss.create(Ju(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ct()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(s=>gL(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ct()}}(n.compositeFilter.op))}(t):Ct()}function RW(t){return gW[t]}function PW(t){return _W[t]}function kW(t){return vW[t]}function Xu(t){return{fieldPath:t.canonicalString()}}function Ju(t){return Ps.fromServerFormat(t.fieldPath)}function _L(t){return t instanceof ss?function(n){if(n.op==="=="){if(Vx(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NAN"}};if(Nx(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vx(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NAN"}};if(Nx(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(n.field),op:PW(n.op),value:n.value}}}(t):t instanceof Ii?function(n){const s=n.getFilters().map(r=>_L(r));return s.length===1?s[0]:{compositeFilter:{op:kW(n.op),filters:s}}}(t):Ct()}function OW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,s,r,i=Rt.min(),o=Rt.min(),a=Os.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(e){this.Tt=e}}function DW(t){const e=IW({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(){this.Tn=new NW}addToCollectionParentIndex(e,n){return this.Tn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Ha.min())}updateCollectionGroup(e,n,s){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class NW{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new hs(Pn.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new hs(Pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yL=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(yL,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Pc(0)}static Kn(){return new Pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="LruGarbageCollector",VW=1048576;function Jx([t,e],[n,s]){const r=Vt(t,n);return r===0?Vt(e,s):r}class FW{constructor(e){this.Hn=e,this.buffer=new hs(Jx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Jx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $W{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ge(Xx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ed(n)?Ge(Xx,"Ignoring IndexedDB error during garbage collection: ",n):await Jc(n)}await this.er(3e5)})}}class BW{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(F_.ae);const s=new FW(n);return this.tr.forEachTarget(e,r=>s.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>s.Zn(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(Qx)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,r,i,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,a=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(c=Date.now(),Yu()<=zt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function UW(t,e){return new BW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.changes=new uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$s.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Of(s.mutation,r,Pr.empty(),is.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Kt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Kt()){const r=Al();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=lf();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Al();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Kt()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Xo();const o=kf(),a=function(){return kf()}();return n.forEach((u,c)=>{const d=s.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof al)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Of(d.mutation,c,d.mutation.getFieldMask(),is.now())):o.set(c.key,Pr.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new jW(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=kf();let r=new os((o,a)=>o-a),i=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=s.get(u)||Pr.empty();d=a.applyToLocalView(c,d),s.set(u,d);const h=(r.get(a.batchId)||Kt()).add(u);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=tL();d.forEach(g=>{if(!i.has(g)){const v=aL(n.get(g),s.get(g));v!==null&&h.set(g,v),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Ee.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):Ee.resolve(Al());let a=rh,u=i;return o.next(c=>Ee.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?Ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,Kt())).next(d=>({batchId:a,changes:eL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(s=>{let r=lf();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=lf();return this.indexManager.getCollectionParents(e,i).next(a=>Ee.forEach(a,u=>{const c=function(h,g){return new Lh(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,s,r).next(d=>{d.forEach((h,g)=>{o=o.insert(h,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,$s.newInvalidDocument(d)))});let a=lf();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&Of(d.mutation,c,Pr.empty(),is.now()),j_(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Yi(r.createTime)}}(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:DW(r.bundledQuery),readTime:Yi(r.readTime)}}(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.overlays=new os(ht.comparator),this.Rr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Al();return Ee.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.Et(e,n,i)}),Ee.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Rr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(s)),Ee.resolve()}getOverlaysForCollection(e,n,s){const r=Al(),i=n.length+1,o=new ht(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return Ee.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new os((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let d=i.get(c.largestBatchId);d===null&&(d=Al(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Al(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return Ee.resolve(a)}Et(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(s.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new dW(n,s));let i=this.Rr.get(n);i===void 0&&(i=Kt(),this.Rr.set(n,i)),this.Rr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.sessionToken=Os.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.Vr=new hs(bs.mr),this.gr=new hs(bs.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new bs(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new bs(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ht(new Pn([])),s=new bs(n,e),r=new bs(n,e+1),i=[];return this.gr.forEachInRange([s,r],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ht(new Pn([])),s=new bs(n,e),r=new bs(n,e+1);let i=Kt();return this.gr.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new bs(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class bs{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ht.comparator(e.key,n.key)||Vt(e.Cr,n.Cr)}static pr(e,n){return Vt(e.Cr,n.Cr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new hs(bs.mr)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cW(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new bs(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ee.resolve(o)}lookupMutationBatch(e,n){return Ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Nr(s),i=r<0?0:r;return Ee.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?yE:this.Fr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new bs(n,0),r=new bs(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([s,r],o=>{const a=this.Or(o.Cr);i.push(a)}),Ee.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new hs(Vt);return n.forEach(r=>{const i=new bs(r,0),o=new bs(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{s=s.add(a.Cr)})}),Ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ht.isDocumentKey(i)||(i=i.child(""));const o=new bs(new ht(i),0);let a=new hs(Vt);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(u.Cr)),!0)},o),Ee.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(s=>{const r=this.Or(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){pn(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Ee.forEach(n.mutations,r=>{const i=new bs(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new bs(n,0),r=this.Mr.firstAfterOrEqual(s);return Ee.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e){this.kr=e,this.docs=function(){return new os(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Ee.resolve(s?s.document.mutableCopy():$s.newInvalidDocument(n))}getEntries(e,n){let s=Xo();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():$s.newInvalidDocument(r))}),Ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Xo();const o=n.path,a=new ht(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Cq(Sq(d),s)<=0||(r.has(d.key)||j_(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Ee.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Ct()}qr(e,n){return Ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new YW(this)}getSize(e){return Ee.resolve(this.size)}}class YW extends zW{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(s)}),Ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.persistence=e,this.Qr=new uu(n=>EE(n),TE),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new PE,this.targetCount=0,this.Kr=Pc.Un()}forEachTarget(e,n){return this.Qr.forEach((s,r)=>n(r)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Pc(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.zn(n),Ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ee.waitFor(i).next(()=>r)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),Ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),Ee.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return Ee.resolve(s)}containsKey(e,n){return Ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new F_(0),this.zr=!1,this.zr=!0,this.jr=new GW,this.referenceDelegate=e(this),this.Hr=new QW(this),this.indexManager=new MW,this.remoteDocumentCache=function(r){return new ZW(r)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new LW(n),this.Yr=new qW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new KW(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){Ge("MemoryPersistence","Starting transaction:",e);const r=new XW(this.Gr.next());return this.referenceDelegate.Zr(),s(r).next(i=>this.referenceDelegate.Xr(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}ei(e,n){return Ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class XW extends Iq{constructor(e){super(),this.currentSequenceNumber=e}}class kE{constructor(e){this.persistence=e,this.ti=new PE,this.ni=null}static ri(e){return new kE(e)}get ii(){if(this.ni)return this.ni;throw Ct()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.ii.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.ii,s=>{const r=ht.fromPath(s);return this.si(e,r).next(i=>{i||n.removeEntry(r,Rt.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Ee.or([()=>Ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class lg{constructor(e,n){this.persistence=e,this.oi=new uu(s=>Pq(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=UW(this,n)}static ri(e,n){return new lg(e,n)}Zr(){}Xr(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Ee.forEach(this.oi,(s,r)=>this.ar(e,s,r).next(i=>i?Ee.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,n).next(a=>{a||(s++,i.removeEntry(o,Rt.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wm(e.data.value)),n}ar(e,n,s){return Ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return Ee.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=r}static Yi(e,n){let s=Kt(),r=Kt();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new OE(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return G5()?8:Aq(Ws())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,r,s).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new JW;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,s,r){return s.documentReadCount<this.es?(Yu()<=zt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",Qu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ee.resolve()):(Yu()<=zt.DEBUG&&Ge("QueryEngine","Query:",Qu(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ts*r?(Yu()<=zt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",Qu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):Ee.resolve())}rs(e,n){if(Ux(n))return Ee.resolve(null);let s=Zi(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=rb(n,null,"F"),s=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=Kt(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(u=>{const c=this.cs(n,a);return this.ls(n,c,o,u.readTime)?this.rs(e,rb(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,s,r){return Ux(n)||r.isEqual(Rt.min())?Ee.resolve(null):this.ns.getDocuments(e,s).next(i=>{const o=this.cs(n,i);return this.ls(n,o,s,r)?Ee.resolve(null):(Yu()<=zt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qu(n)),this.hs(e,o,n,Tq(r,rh)).next(a=>a))})}cs(e,n){let s=new hs(XO(e));return n.forEach((r,i)=>{j_(e,i)&&(s=s.add(i))}),s}ls(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,n,s){return Yu()<=zt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Qu(n)),this.ns.getDocumentsMatchingQuery(e,n,Ha.min(),s)}hs(e,n,s,r){return this.ns.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LocalStore",t8=3e8;class n8{constructor(e,n,s,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new os(Vt),this.Is=new uu(i=>EE(i),TE),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HW(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function s8(t,e,n,s){return new n8(t,e,n,s)}async function bL(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let u=Kt();for(const c of r){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function r8(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,g=h.keys();let v=Ee.resolve();return g.forEach(y=>{v=v.next(()=>d.getEntry(u,y)).next(w=>{const E=c.docVersions.get(y);pn(E!==null),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let u=Kt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function EL(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function i8(t,e){const n=kt(t),s=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const g=r.get(h);if(!g)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,h)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Os.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,s)),r=r.insert(h,v),function(w,E,T){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=t8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,v,d)&&a.push(n.Hr.updateTargetData(i,v))});let u=Xo(),c=Kt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(o8(i,o,e.documentUpdates).next(d=>{u=d.Vs,c=d.fs})),!s.isEqual(Rt.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(h=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(d)}return Ee.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ts=r,i))}function o8(t,e,n){let s=Kt(),r=Kt();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Xo();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),u.isNoDocument()&&u.version.isEqual(Rt.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Ge(LE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Vs:o,fs:r}})}function a8(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yE),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function l8(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Hr.getTargetData(s,e).next(i=>i?(r=i,Ee.resolve(r)):n.Hr.allocateTargetId(s).next(o=>(r=new ka(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ts.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ub(t,e,n){const s=kt(t),r=s.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ed(o))throw o;Ge(LE,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ts=s.Ts.remove(e),s.Is.delete(r.target)}function eI(t,e,n){const s=kt(t);let r=Rt.min(),i=Kt();return s.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const h=kt(u),g=h.Is.get(d);return g!==void 0?Ee.resolve(h.Ts.get(g)):h.Hr.getTargetData(c,d)}(s,o,Zi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>s.Ps.getDocumentsMatchingQuery(o,e,n?r:Rt.min(),n?i:Kt())).next(a=>(u8(s,Zq(e),a),{documents:a,gs:i})))}function u8(t,e,n){let s=t.Es.get(e)||Rt.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Es.set(e,s)}class tI{constructor(){this.activeTargetIds=tW()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c8{constructor(){this.ho=new tI,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new tI,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="ConnectivityMonitor";class sI{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ge(nI,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ge(nI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp=null;function cb(){return Kp===null?Kp=function(){return 268435456+Math.round(2147483648*Math.random())}():Kp++,"0x"+Kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="RestConnection",f8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h8{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${r}`,this.wo=this.databaseId.database===ng?`project_id=${s}`:`project_id=${s}&database_id=${r}`}So(e,n,s,r,i){const o=cb(),a=this.bo(e,n.toUriEncodedString());Ge(_y,`Sending RPC '${e}' ${o}:`,a,s);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,r,i),this.vo(e,a,u,s).then(c=>(Ge(_y,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Sc(_y,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}Co(e,n,s,r,i,o){return this.So(e,n,s,r,i)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}bo(e,n){const s=f8[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="WebChannelConnection";class m8 extends h8{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,r){const i=cb();return new Promise((o,a)=>{const u=new xO;u.setWithCredentials(!0),u.listenOnce(IO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ym.NO_ERROR:const d=u.getResponseJson();Ge(Ds,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case ym.TIMEOUT:Ge(Ds,`RPC '${e}' ${i} timed out`),a(new Ze(Te.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const h=u.getStatus();if(Ge(Ds,`RPC '${e}' ${i} failed with status:`,h,"response text:",u.getResponseText()),h>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const y=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(T)>=0?T:Te.UNKNOWN}(v.status);a(new Ze(y,v.message))}else a(new Ze(Te.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Ze(Te.UNAVAILABLE,"Connection failed."));break;default:Ct()}}finally{Ge(Ds,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);Ge(Ds,`RPC '${e}' ${i} sending request:`,r),u.send(n,"POST",c,s,15)})}Wo(e,n,s){const r=cb(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PO(),a=RO(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");Ge(Ds,`Creating RPC '${e}' stream ${r}: ${d}`,u);const h=o.createWebChannel(d,u);let g=!1,v=!1;const y=new p8({Fo:E=>{v?Ge(Ds,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(g||(Ge(Ds,`Opening RPC '${e}' stream ${r} transport.`),h.open(),g=!0),Ge(Ds,`RPC '${e}' stream ${r} sending:`,E),h.send(E))},Mo:()=>h.close()}),w=(E,T,C)=>{E.listen(T,x=>{try{C(x)}catch(I){setTimeout(()=>{throw I},0)}})};return w(h,af.EventType.OPEN,()=>{v||(Ge(Ds,`RPC '${e}' stream ${r} transport opened.`),y.Qo())}),w(h,af.EventType.CLOSE,()=>{v||(v=!0,Ge(Ds,`RPC '${e}' stream ${r} transport closed`),y.Uo())}),w(h,af.EventType.ERROR,E=>{v||(v=!0,Sc(Ds,`RPC '${e}' stream ${r} transport errored:`,E),y.Uo(new Ze(Te.UNAVAILABLE,"The operation could not be completed")))}),w(h,af.EventType.MESSAGE,E=>{var T;if(!v){const C=E.data[0];pn(!!C);const x=C,I=(x==null?void 0:x.error)||((T=x[0])===null||T===void 0?void 0:T.error);if(I){Ge(Ds,`RPC '${e}' stream ${r} received error:`,I);const V=I.status;let F=function(A){const N=es[A];if(N!==void 0)return uL(N)}(V),k=I.message;F===void 0&&(F=Te.INTERNAL,k="Unknown error status: "+V+" with message "+I.message),v=!0,y.Uo(new Ze(F,k)),h.close()}else Ge(Ds,`RPC '${e}' stream ${r} received:`,C),y.Ko(C)}}),w(a,AO.STAT_EVENT,E=>{E.stat===Zw.PROXY?Ge(Ds,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===Zw.NOPROXY&&Ge(Ds,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}function vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){return new yW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-s);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="PersistentStream";class SL{constructor(e,n,s,r,i,o,a,u){this.Ti=e,this.n_=s,this.r_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new TL(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Te.RESOURCE_EXHAUSTED?(Qo(n.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.i_===n&&this.V_(s,r)},s=>{e(()=>{const r=new Ze(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(r)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{s(()=>this.m_(r))}),this.stream.onMessage(r=>{s(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ge(rI,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ge(rI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g8 extends SL{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=EW(this.serializer,e),s=function(i){if(!("targetChange"in i))return Rt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?Yi(o.readTime):Rt.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=lb(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=nb(u)?{documents:CW(i,u)}:{query:xW(i,u).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fL(i,o.resumeToken);const c=ib(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Rt.min())>0){a.readTime=ag(i,o.snapshotVersion.toTimestamp());const c=ib(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const s=AW(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=lb(this.serializer),n.removeTarget=e,this.I_(n)}}class _8 extends SL{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return pn(!!e.streamToken),this.lastStreamToken=e.streamToken,pn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=SW(e.writeResults,e.commitTime),s=Yi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=lb(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>TW(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{}class y8 extends v8{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new Ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,ob(n,s),r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ze(Te.UNKNOWN,i.toString())})}Co(e,n,s,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,ob(n,s),r,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Te.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class w8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qo(n),this.N_=!1):Ge("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="RemoteStore";class b8{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{s.enqueueAndForget(async()=>{cu(this)&&(Ge(zl,"Restarting streams for network reachability change."),await async function(u){const c=kt(u);c.W_.add(4),await Nh(c),c.j_.set("Unknown"),c.W_.delete(4),await K_(c)}(this))})}),this.j_=new w8(s,r)}}async function K_(t){if(cu(t))for(const e of t.G_)await e(!0)}async function Nh(t){for(const e of t.G_)await e(!1)}function CL(t,e){const n=kt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),VE(n)?NE(n):td(n).c_()&&ME(n,e))}function DE(t,e){const n=kt(t),s=td(n);n.K_.delete(e),s.c_()&&xL(n,e),n.K_.size===0&&(s.c_()?s.P_():cu(n)&&n.j_.set("Unknown"))}function ME(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}td(t).y_(e)}function xL(t,e){t.H_.Ne(e),td(t).w_(e)}function NE(t){t.H_=new mW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),td(t).start(),t.j_.B_()}function VE(t){return cu(t)&&!td(t).u_()&&t.K_.size>0}function cu(t){return kt(t).W_.size===0}function IL(t){t.H_=void 0}async function E8(t){t.j_.set("Online")}async function T8(t){t.K_.forEach((e,n)=>{ME(t,e)})}async function S8(t,e){IL(t),VE(t)?(t.j_.q_(e),NE(t)):t.j_.set("Unknown")}async function C8(t,e,n){if(t.j_.set("Online"),e instanceof dL&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const a of i.targetIds)r.K_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.K_.delete(a),r.H_.removeTarget(a))}(t,e)}catch(s){Ge(zl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ug(t,s)}else if(e instanceof Tm?t.H_.We(e):e instanceof cL?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Rt.min()))try{const s=await EL(t.localStore);n.compareTo(s)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.K_.get(c);d&&i.K_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.K_.get(u);if(!d)return;i.K_.set(u,d.withResumeToken(Os.EMPTY_BYTE_STRING,d.snapshotVersion)),xL(i,u);const h=new ka(d.target,u,c,d.sequenceNumber);ME(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(s){Ge(zl,"Failed to raise snapshot:",s),await ug(t,s)}}async function ug(t,e,n){if(!ed(e))throw e;t.W_.add(1),await Nh(t),t.j_.set("Offline"),n||(n=()=>EL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ge(zl,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await K_(t)})}function AL(t,e){return e().catch(n=>ug(t,n,e))}async function Z_(t){const e=kt(t),n=Ka(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:yE;for(;x8(e);)try{const r=await a8(e.localStore,s);if(r===null){e.U_.length===0&&n.P_();break}s=r.batchId,I8(e,r)}catch(r){await ug(e,r)}RL(e)&&PL(e)}function x8(t){return cu(t)&&t.U_.length<10}function I8(t,e){t.U_.push(e);const n=Ka(t);n.c_()&&n.S_&&n.b_(e.mutations)}function RL(t){return cu(t)&&!Ka(t).u_()&&t.U_.length>0}function PL(t){Ka(t).start()}async function A8(t){Ka(t).C_()}async function R8(t){const e=Ka(t);for(const n of t.U_)e.b_(n.mutations)}async function P8(t,e,n){const s=t.U_.shift(),r=IE.from(s,e,n);await AL(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Z_(t)}async function k8(t,e){e&&Ka(t).S_&&await async function(s,r){if(function(o){return hW(o)&&o!==Te.ABORTED}(r.code)){const i=s.U_.shift();Ka(s).h_(),await AL(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Z_(s)}}(t,e),RL(t)&&PL(t)}async function iI(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),Ge(zl,"RemoteStore received new credentials");const s=cu(n);n.W_.add(3),await Nh(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await K_(n)}async function O8(t,e){const n=kt(t);e?(n.W_.delete(2),await K_(n)):e||(n.W_.add(2),await Nh(n),n.j_.set("Unknown"))}function td(t){return t.J_||(t.J_=function(n,s,r){const i=kt(n);return i.M_(),new g8(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{xo:E8.bind(null,t),No:T8.bind(null,t),Lo:S8.bind(null,t),p_:C8.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),VE(t)?NE(t):t.j_.set("Unknown")):(await t.J_.stop(),IL(t))})),t.J_}function Ka(t){return t.Y_||(t.Y_=function(n,s,r){const i=kt(n);return i.M_(),new _8(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:A8.bind(null,t),Lo:k8.bind(null,t),D_:R8.bind(null,t),v_:P8.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Z_(t)):(await t.Y_.stop(),t.U_.length>0&&(Ge(zl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new FE(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $E(t,e){if(Qo("AsyncQueue",`${e}: ${t}`),ed(t))return new Ze(Te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static emptySet(e){return new dc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=lf(),this.sortedSet=new os(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new dc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.Z_=new os(ht.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ct():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class kc{constructor(e,n,s,r,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new kc(e,n,dc.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&z_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class D8{constructor(){this.queries=aI(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const r=kt(n),i=r.queries;r.queries=aI(),i.forEach((o,a)=>{for(const u of a.ta)u.onError(s)})})(this,new Ze(Te.ABORTED,"Firestore shutting down"))}}function aI(){return new uu(t=>QO(t),z_)}async function BE(t,e){const n=kt(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.na()&&e.ra()&&(s=2):(i=new L8,s=e.ra()?0:1);try{switch(s){case 0:i.ea=await n.onListen(r,!0);break;case 1:i.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=$E(o,`Initialization of query '${Qu(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&zE(n)}async function UE(t,e){const n=kt(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?r=e.ra()?0:1:!i.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function M8(t,e){const n=kt(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(r)&&(s=!0);o.ea=r}}s&&zE(n)}function N8(t,e,n){const s=kt(t),r=s.queries.get(e);if(r)for(const i of r.ta)i.onError(n);s.queries.delete(e)}function zE(t){t.ia.forEach(e=>{e.next()})}var db,lI;(lI=db||(db={}))._a="default",lI.Cache="cache";class jE{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new kc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=kc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==db.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.key=e}}class OL{constructor(e){this.key=e}}class V8{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Kt(),this.mutatedKeys=Kt(),this.ya=XO(e),this.wa=new dc(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new oI,r=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const g=r.get(d),v=j_(this.query,h)?h:null,y=!!g&&this.mutatedKeys.has(g.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?y!==w&&(s.track({type:3,doc:v}),E=!0):this.va(g,v)||(s.track({type:2,doc:v}),E=!0,(u&&this.ya(v,u)>0||c&&this.ya(v,c)<0)&&(a=!0)):!g&&v?(s.track({type:0,doc:v}),E=!0):g&&!v&&(s.track({type:1,doc:g}),E=!0,(u||c)&&(a=!0)),E&&(v?(o=o.add(v),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{wa:o,Da:s,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(v,y){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct()}};return w(v)-w(y)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(s),r=r!=null&&r;const a=n&&!r?this.Fa():[],u=this.pa.size===0&&this.current&&!r?1:0,c=u!==this.ga;return this.ga=u,o.length!==0||c?{snapshot:new kc(this.query,e.wa,i,o,e.mutatedKeys,u===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new oI,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Kt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new OL(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new kL(s))}),n}Oa(e){this.fa=e.gs,this.pa=Kt();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return kc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const HE="SyncEngine";class F8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $8{constructor(e){this.key=e,this.Ba=!1}}class B8{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new uu(a=>QO(a),z_),this.qa=new Map,this.Qa=new Set,this.$a=new os(ht.comparator),this.Ua=new Map,this.Ka=new PE,this.Wa={},this.Ga=new Map,this.za=Pc.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function U8(t,e,n=!0){const s=FL(t);let r;const i=s.ka.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Na()):r=await LL(s,e,n,!0),r}async function z8(t,e){const n=FL(t);await LL(n,e,!0,!1)}async function LL(t,e,n,s){const r=await l8(t.localStore,Zi(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return s&&(a=await j8(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&CL(t.remoteStore,r),a}async function j8(t,e,n,s,r){t.Ha=(h,g,v)=>async function(w,E,T,C){let x=E.view.ba(T);x.ls&&(x=await eI(w.localStore,E.query,!1).then(({documents:k})=>E.view.ba(k,x)));const I=C&&C.targetChanges.get(E.targetId),V=C&&C.targetMismatches.get(E.targetId)!=null,F=E.view.applyChanges(x,w.isPrimaryClient,I,V);return cI(w,E.targetId,F.Ma),F.snapshot}(t,h,g,v);const i=await eI(t.localStore,e,!0),o=new V8(e,i.gs),a=o.ba(i.documents),u=Mh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,u);cI(t,n,c.Ma);const d=new F8(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function H8(t,e,n){const s=kt(t),r=s.ka.get(e),i=s.qa.get(r.targetId);if(i.length>1)return s.qa.set(r.targetId,i.filter(o=>!z_(o,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await ub(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&DE(s.remoteStore,r.targetId),fb(s,r.targetId)}).catch(Jc)):(fb(s,r.targetId),await ub(s.localStore,r.targetId,!0))}async function q8(t,e){const n=kt(t),s=n.ka.get(e),r=n.qa.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),DE(n.remoteStore,s.targetId))}async function W8(t,e,n){const s=J8(t);try{const r=await function(o,a){const u=kt(o),c=is.now(),d=a.reduce((v,y)=>v.add(y.key),Kt());let h,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let y=Xo(),w=Kt();return u.ds.getEntries(v,d).next(E=>{y=E,y.forEach((T,C)=>{C.isValidDocument()||(w=w.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,y)).next(E=>{h=E;const T=[];for(const C of a){const x=lW(C,h.get(C.key).overlayedDocument);x!=null&&T.push(new al(C.key,x,jO(x.value.mapValue),Zr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,T,a)}).next(E=>{g=E;const T=E.applyToLocalDocumentSet(h,w);return u.documentOverlayCache.saveOverlays(v,E.batchId,T)})}).then(()=>({batchId:g.batchId,changes:eL(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,a,u){let c=o.Wa[o.currentUser.toKey()];c||(c=new os(Vt)),c=c.insert(a,u),o.Wa[o.currentUser.toKey()]=c}(s,r.batchId,n),await Vh(s,r.changes),await Z_(s.remoteStore)}catch(r){const i=$E(r,"Failed to persist write");n.reject(i)}}async function DL(t,e){const n=kt(t);try{const s=await i8(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.Ua.get(i);o&&(pn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?pn(o.Ba):r.removedDocuments.size>0&&(pn(o.Ba),o.Ba=!1))}),await Vh(n,s,e)}catch(s){await Jc(s)}}function uI(t,e,n){const s=kt(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const u=kt(o);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const g of h.ta)g.sa(a)&&(c=!0)}),c&&zE(u)}(s.eventManager,e),r.length&&s.La.p_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function G8(t,e,n){const s=kt(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Ua.get(e),i=r&&r.key;if(i){let o=new os(ht.comparator);o=o.insert(i,$s.newNoDocument(i,Rt.min()));const a=Kt().add(i),u=new W_(Rt.min(),new Map,new os(Vt),o,a);await DL(s,u),s.$a=s.$a.remove(i),s.Ua.delete(e),qE(s)}else await ub(s.localStore,e,!1).then(()=>fb(s,e,n)).catch(Jc)}async function K8(t,e){const n=kt(t),s=e.batch.batchId;try{const r=await r8(n.localStore,e);NL(n,s,null),ML(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vh(n,r)}catch(r){await Jc(r)}}async function Z8(t,e,n){const s=kt(t);try{const r=await function(o,a){const u=kt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(pn(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(s.localStore,e);NL(s,e,n),ML(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vh(s,r)}catch(r){await Jc(r)}}function ML(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function NL(t,e,n){const s=kt(t);let r=s.Wa[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Wa[s.currentUser.toKey()]=r}}function fb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.qa.get(e))t.ka.delete(s),n&&t.La.Ja(s,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(s=>{t.Ka.containsKey(s)||VL(t,s)})}function VL(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(DE(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),qE(t))}function cI(t,e,n){for(const s of n)s instanceof kL?(t.Ka.addReference(s.key,e),Y8(t,s)):s instanceof OL?(Ge(HE,"Document no longer in limbo: "+s.key),t.Ka.removeReference(s.key,e),t.Ka.containsKey(s.key)||VL(t,s.key)):Ct()}function Y8(t,e){const n=e.key,s=n.path.canonicalString();t.$a.get(n)||t.Qa.has(s)||(Ge(HE,"New document in limbo: "+n),t.Qa.add(s),qE(t))}function qE(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ht(Pn.fromString(e)),s=t.za.next();t.Ua.set(s,new $8(n)),t.$a=t.$a.insert(n,s),CL(t.remoteStore,new ka(Zi(U_(n.path)),s,"TargetPurposeLimboResolution",F_.ae))}}async function Vh(t,e,n){const s=kt(t),r=[],i=[],o=[];s.ka.isEmpty()||(s.ka.forEach((a,u)=>{o.push(s.Ha(u,e,n).then(c=>{var d;if((c||n)&&s.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){r.push(c);const h=OE.Yi(u.targetId,c);i.push(h)}}))}),await Promise.all(o),s.La.p_(r),await async function(u,c){const d=kt(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ee.forEach(c,g=>Ee.forEach(g.Hi,v=>d.persistence.referenceDelegate.addReference(h,g.targetId,v)).next(()=>Ee.forEach(g.Ji,v=>d.persistence.referenceDelegate.removeReference(h,g.targetId,v)))))}catch(h){if(!ed(h))throw h;Ge(LE,"Failed to update sequence numbers: "+h)}for(const h of c){const g=h.targetId;if(!h.fromCache){const v=d.Ts.get(g),y=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(y);d.Ts=d.Ts.insert(g,w)}}}(s.localStore,i))}async function Q8(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){Ge(HE,"User change. New user:",e.toKey());const s=await bL(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(u=>{u.reject(new Ze(Te.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vh(n,s.Rs)}}function X8(t,e){const n=kt(t),s=n.Ua.get(e);if(s&&s.Ba)return Kt().add(s.key);{let r=Kt();const i=n.qa.get(e);if(!i)return r;for(const o of i){const a=n.ka.get(o);r=r.unionWith(a.view.Sa)}return r}}function FL(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G8.bind(null,e),e.La.p_=M8.bind(null,e.eventManager),e.La.Ja=N8.bind(null,e.eventManager),e}function J8(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z8.bind(null,e),e}class cg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=G_(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return s8(this.persistence,new e8,e.initialUser,this.serializer)}Xa(e){return new wL(kE.ri,this.serializer)}Za(e){return new c8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cg.provider={build:()=>new cg};class eG extends cg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){pn(this.persistence.referenceDelegate instanceof lg);const s=this.persistence.referenceDelegate.garbageCollector;return new $W(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new wL(s=>lg.ri(s,n),this.serializer)}}class hb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uI(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q8.bind(null,this.syncEngine),await O8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D8}()}createDatastore(e){const n=G_(e.databaseInfo.databaseId),s=function(i){return new m8(i)}(e.databaseInfo);return function(i,o,a,u){return new y8(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,o,a){return new b8(s,r,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>uI(this.syncEngine,n,0),function(){return sI.D()?new sI:new d8}())}createSyncEngine(e,n){return function(r,i,o,a,u,c,d){const h=new B8(r,i,o,a,u,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=kt(r);Ge(zl,"RemoteStore shutting down."),i.W_.add(5),await Nh(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hb.provider={build:()=>new hb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class tG{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Ns.UNAUTHENTICATED,this.clientId=LO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async o=>{Ge(Za,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(Ge(Za,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$E(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function yy(t,e){t.asyncQueue.verifyOperationInProgress(),Ge(Za,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await bL(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nG(t);Ge(Za,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>iI(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>iI(e.remoteStore,r)),t._onlineComponents=e}async function nG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ge(Za,"Using user provided OfflineComponentProvider");try{await yy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Te.FAILED_PRECONDITION||r.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Sc("Error using user provided cache. Falling back to memory cache: "+n),await yy(t,new cg)}}else Ge(Za,"Using default OfflineComponentProvider"),await yy(t,new eG(void 0));return t._offlineComponents}async function $L(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ge(Za,"Using user provided OnlineComponentProvider"),await dI(t,t._uninitializedComponentsProvider._online)):(Ge(Za,"Using default OnlineComponentProvider"),await dI(t,new hb))),t._onlineComponents}function sG(t){return $L(t).then(e=>e.syncEngine)}async function dg(t){const e=await $L(t),n=e.eventManager;return n.onListen=U8.bind(null,e.syncEngine),n.onUnlisten=H8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q8.bind(null,e.syncEngine),n}function rG(t,e,n={}){const s=new Uo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new WE({next:g=>{d.su(),o.enqueueAndForget(()=>UE(i,h));const v=g.docs.has(a);!v&&g.fromCache?c.reject(new Ze(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new Ze(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),h=new jE(U_(a.path),d,{includeMetadataChanges:!0,Ta:!0});return BE(i,h)}(await dg(t),t.asyncQueue,e,n,s)),s.promise}function iG(t,e,n={}){const s=new Uo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new WE({next:g=>{d.su(),o.enqueueAndForget(()=>UE(i,h)),g.fromCache&&u.source==="server"?c.reject(new Ze(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),h=new jE(a,d,{includeMetadataChanges:!0,Ta:!0});return BE(i,h)}(await dg(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e,n){if(!n)throw new Ze(Te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oG(t,e,n,s){if(e===!0&&s===!0)throw new Ze(Te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hI(t){if(!ht.isDocumentKey(t))throw new Ze(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pI(t){if(ht.isDocumentKey(t))throw new Ze(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ct()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ze(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y_(t);throw new Ze(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="firestore.googleapis.com",mI=!0;class gI{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zL,this.ssl=mI}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mI;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VW)throw new Ze(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BL((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ze(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ze(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ze(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q_{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pq;switch(s.type){case"firstParty":return new vq(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ze(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=fI.get(n);s&&(Ge("ComponentProvider","Removing Datastore"),fI.delete(n),s.terminate())}(this),Promise.resolve()}}function aG(t,e,n,s={}){var r;const i=(t=pr(t,Q_))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==zL&&i.host!==a&&Sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:s});if(!Zo(u,o)&&(t._setSettings(u),s.mockUserToken)){let c,d;if(typeof s.mockUserToken=="string")c=s.mockUserToken,d=Ns.MOCK_USER;else{c=gO(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const h=s.mockUserToken.sub||s.mockUserToken.user_id;if(!h)throw new Ze(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ns(h)}t._authCredentials=new mq(new kO(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new du(this.firestore,e,this._query)}}class Hs{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hs(this.firestore,e,this._key)}}class Fa extends du{constructor(e,n,s){super(e,n,U_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hs(this.firestore,null,new ht(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function tr(t,e,...n){if(t=kn(t),UL("collection","path",e),t instanceof Q_){const s=Pn.fromString(e,...n);return pI(s),new Fa(t,null,s)}{if(!(t instanceof Hs||t instanceof Fa))throw new Ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pn.fromString(e,...n));return pI(s),new Fa(t.firestore,null,s)}}function ds(t,e,...n){if(t=kn(t),arguments.length===1&&(e=LO.newId()),UL("doc","path",e),t instanceof Q_){const s=Pn.fromString(e,...n);return hI(s),new Hs(t,null,new ht(s))}{if(!(t instanceof Hs||t instanceof Fa))throw new Ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Pn.fromString(e,...n));return hI(s),new Hs(t.firestore,t instanceof Fa?t.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="AsyncQueue";class vI{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new TL(this,"async_queue_retry"),this.Su=()=>{const s=vy();s&&Ge(_I,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=vy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Uo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ed(e))throw e;Ge(_I,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(s);throw Qo("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=FE.createAndSchedule(this,e,n,s,i=>this.Fu(i));return this.fu.push(r),r}Du(){this.gu&&Ct()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function yI(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Jo extends Q_{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new vI,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vI(e),this._firestoreClient=void 0,await e}}}function lG(t,e){const n=typeof t=="object"?t:V_(),s=typeof t=="string"?t:ng,r=N_(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=hO("firestore");i&&aG(r,...i)}return r}function X_(t){if(t._terminated)throw new Ze(Te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uG(t),t._firestoreClient}function uG(t){var e,n,s;const r=t._freezeSettings(),i=function(a,u,c,d){return new Lq(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,BL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new tG(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Os.fromBase64String(e))}catch(n){throw new Ze(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oc(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ze(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ps(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function cG(){return new Fh(Qw)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=/^__.*__$/;class fG{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new al(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dh(e,this.data,n,this.fieldTransforms)}}class jL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct()}}class ev{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:s,Qu:!1});return r.$u(e),r}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:s,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HL(this.Lu)&&dG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class hG{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||G_(e)}ju(e,n,s,r=!1){return new ev({Lu:e,methodName:n,zu:s,path:Ps.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tv(t){const e=t._freezeSettings(),n=G_(t._databaseId);return new hG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qL(t,e,n,s,r,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,r);QE("Data must be an object, but it was:",o,s);const a=GL(s,o);let u,c;if(i.merge)u=new Pr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const g=pb(e,h,n);if(!o.contains(g))throw new Ze(Te.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ZL(d,g)||d.push(g)}u=new Pr(d),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new fG(new dr(a),u,c)}class nv extends nd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nv}}function WL(t,e,n){return new ev({Lu:3,zu:e.settings.zu,methodName:t._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class KE extends nd{_toFieldTransform(e){return new CE(e.path,new lh)}isEqual(e){return e instanceof KE}}class ZE extends nd{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=WL(this,e,!0),s=this.Hu.map(i=>fu(i,n)),r=new Ac(s);return new CE(e.path,r)}isEqual(e){return e instanceof ZE&&Zo(this.Hu,e.Hu)}}class YE extends nd{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=WL(this,e,!0),s=this.Hu.map(i=>fu(i,n)),r=new Rc(s);return new CE(e.path,r)}isEqual(e){return e instanceof YE&&Zo(this.Hu,e.Hu)}}function pG(t,e,n,s){const r=t.ju(1,e,n);QE("Data must be an object, but it was:",r,s);const i=[],o=dr.empty();ol(s,(u,c)=>{const d=XE(e,u,n);c=kn(c);const h=r.Uu(d);if(c instanceof nv)i.push(d);else{const g=fu(c,h);g!=null&&(i.push(d),o.set(d,g))}});const a=new Pr(i);return new jL(o,a,r.fieldTransforms)}function mG(t,e,n,s,r,i){const o=t.ju(1,e,n),a=[pb(e,s,n)],u=[r];if(i.length%2!=0)throw new Ze(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(pb(e,i[g])),u.push(i[g+1]);const c=[],d=dr.empty();for(let g=a.length-1;g>=0;--g)if(!ZL(c,a[g])){const v=a[g];let y=u[g];y=kn(y);const w=o.Uu(v);if(y instanceof nv)c.push(v);else{const E=fu(y,w);E!=null&&(c.push(v),d.set(v,E))}}const h=new Pr(c);return new jL(d,h,o.fieldTransforms)}function gG(t,e,n,s=!1){return fu(n,t.ju(s?4:3,e))}function fu(t,e){if(KL(t=kn(t)))return QE("Unsupported field value:",e,t),GL(t,e);if(t instanceof nd)return function(s,r){if(!HL(r.Lu))throw r.Wu(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,r){const i=[];let o=0;for(const a of s){let u=fu(a,r.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=kn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nW(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=is.fromDate(s);return{timestampValue:ag(r.serializer,i)}}if(s instanceof is){const i=new is(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ag(r.serializer,i)}}if(s instanceof J_)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Oc)return{bytesValue:fL(r.serializer,s._byteString)};if(s instanceof Hs){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:RE(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof GE)return function(o,a){return{mapValue:{fields:{[UO]:{stringValue:zO},[sg]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return SE(a.serializer,c)})}}}}}}(s,r);throw r.Wu(`Unsupported field value: ${Y_(s)}`)}(t,e)}function GL(t,e){const n={};return MO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,(s,r)=>{const i=fu(r,e.qu(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function KL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof is||t instanceof J_||t instanceof Oc||t instanceof Hs||t instanceof nd||t instanceof GE)}function QE(t,e,n){if(!KL(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=Y_(n);throw s==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+s)}}function pb(t,e,n){if((e=kn(e))instanceof Fh)return e._internalPath;if(typeof e=="string")return XE(t,e);throw fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const _G=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search(_G)>=0)throw fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fh(...e.split("."))._internalPath}catch{throw fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fg(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new Ze(Te.INVALID_ARGUMENT,a+t+u)}function ZL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vG extends YL{data(){return super.data()}}function JE(t,e){return typeof e=="string"?XE(t,e):e instanceof Fh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ze(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eT{}class yG extends eT{}function Ya(t,e,...n){let s=[];e instanceof eT&&s.push(e),s=s.concat(n),function(i){const o=i.filter(u=>u instanceof tT).length,a=i.filter(u=>u instanceof sv).length;if(o>1||o>0&&a>0)throw new Ze(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class sv extends yG{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new sv(e,n,s)}_apply(e){const n=this._parse(e);return XL(e._query,n),new du(e.firestore,e.converter,sb(e._query,n))}_parse(e){const n=tv(e.firestore);return function(i,o,a,u,c,d,h){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ze(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bI(h,d);const y=[];for(const w of h)y.push(wI(u,i,w));g={arrayValue:{values:y}}}else g=wI(u,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bI(h,d),g=gG(a,o,h,d==="in"||d==="not-in");return ss.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zo(t,e,n){const s=e,r=JE("where",t);return sv._create(r,s,n)}class tT extends eT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tT(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const a=i.getFlattenedFilters();for(const u of a)XL(o,u),o=sb(o,u)}(e._query,n),new du(e.firestore,e.converter,sb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wI(t,e,n){if(typeof(n=kn(n))=="string"){if(n==="")throw new Ze(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YO(e)&&n.indexOf("/")!==-1)throw new Ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Pn.fromString(n));if(!ht.isDocumentKey(s))throw new Ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Mx(t,new ht(s))}if(n instanceof Hs)return Mx(t,n._key);throw new Ze(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y_(n)}.`)}function bI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ze(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XL(t,e){const n=function(r,i){for(const o of r)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ze(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wG{convertValue(e,n="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ol(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var n,s,r;const i=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[sg].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>Qn(o.doubleValue));return new GE(i)}convertGeoPoint(e){return new J_(Qn(e.latitude),Qn(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=B_(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=qa(e);return new is(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pn.fromString(e);pn(vL(s));const r=new oh(s.get(1),s.get(3)),i=new ht(s.popFirst(5));return r.isEqual(n)||Qo(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eD extends YL{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(JE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sm extends eD{data(e={}){return super.data(e)}}class tD{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new cf(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Sm(this._firestore,this._userDataWriter,s.key,s,new cf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const u=new Sm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new cf(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Sm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new cf(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:bG(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){t=pr(t,Hs);const e=pr(t.firestore,Jo);return rG(X_(e),t._key).then(n=>nD(e,t,n))}class nT extends wG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hs(this.firestore,null,n)}}function ei(t){t=pr(t,du);const e=pr(t.firestore,Jo),n=X_(e),s=new nT(e);return QL(t._query),iG(n,t._query).then(r=>new tD(e,s,t,r))}function EG(t,e,n){t=pr(t,Hs);const s=pr(t.firestore,Jo),r=JL(t.converter,e);return ov(s,[qL(tv(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Zr.none())])}function fc(t,e,n,...s){t=pr(t,Hs);const r=pr(t.firestore,Jo),i=tv(r);let o;return o=typeof(e=kn(e))=="string"||e instanceof Fh?mG(i,"updateDoc",t._key,e,n,s):pG(i,"updateDoc",t._key,e),ov(r,[o.toMutation(t._key,Zr.exists(!0))])}function rv(t){return ov(pr(t.firestore,Jo),[new xE(t._key,Zr.none())])}function iv(t,e){const n=pr(t.firestore,Jo),s=ds(t),r=JL(t.converter,e);return ov(n,[qL(tv(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Zr.exists(!1))]).then(()=>s)}function sT(t,...e){var n,s,r;t=kn(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||yI(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yI(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let u,c,d;if(t instanceof Hs)c=pr(t.firestore,Jo),d=U_(t._key.path),u={next:h=>{e[o]&&e[o](nD(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=pr(t,du);c=pr(h.firestore,Jo),d=h._query;const g=new nT(c);u={next:v=>{e[o]&&e[o](new tD(c,g,h,v))},error:e[o+1],complete:e[o+2]},QL(t._query)}return function(g,v,y,w){const E=new WE(w),T=new jE(v,E,y);return g.asyncQueue.enqueueAndForget(async()=>BE(await dg(g),T)),()=>{E.su(),g.asyncQueue.enqueueAndForget(async()=>UE(await dg(g),T))}}(X_(c),d,a,u)}function ov(t,e){return function(s,r){const i=new Uo;return s.asyncQueue.enqueueAndForget(async()=>W8(await sG(s),r,i)),i.promise}(X_(t),e)}function nD(t,e,n){const s=n.docs.get(e._key),r=new nT(t);return new eD(t,r,e._key,s,new cf(n.hasPendingWrites,n.fromCache),e.converter)}function av(){return new KE("serverTimestamp")}function sD(...t){return new ZE("arrayUnion",t)}function TG(...t){return new YE("arrayRemove",t)}(function(e,n=!0){(function(r){Xc=r})(il),so(new xi("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),a=new Jo(new gq(s.getProvider("auth-internal")),new yq(o,s.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ze(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(c.options.projectId,d)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Lr(Sx,Cx,e),Lr(Sx,Cx,"esm2017")})();var SG="firebase",CG="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(SG,CG,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebasestorage.googleapis.com",iD="storageBucket",xG=2*60*1e3,IG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends fo{constructor(e,n,s=0){super(wy(e),`Firebase Storage: ${n} (${wy(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gn||(Gn={}));function wy(t){return"storage/"+t}function rT(){const t="An unknown error occurred, please check the error payload for server response.";return new Zn(Gn.UNKNOWN,t)}function AG(t){return new Zn(Gn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RG(t){return new Zn(Gn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zn(Gn.UNAUTHENTICATED,t)}function kG(){return new Zn(Gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OG(t){return new Zn(Gn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LG(){return new Zn(Gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DG(){return new Zn(Gn.CANCELED,"User canceled the upload/download.")}function MG(t){return new Zn(Gn.INVALID_URL,"Invalid URL '"+t+"'.")}function NG(t){return new Zn(Gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VG(){return new Zn(Gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iD+"' property when initializing the app?")}function FG(){return new Zn(Gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $G(){return new Zn(Gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BG(t){return new Zn(Gn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mb(t){return new Zn(Gn.INVALID_ARGUMENT,t)}function oD(){return new Zn(Gn.APP_DELETED,"The Firebase app was deleted.")}function UG(t){return new Zn(Gn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lf(t,e){return new Zn(Gn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wd(t){throw new Zn(Gn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=kr.makeFromUrl(e,n)}catch{return new kr(e,"")}if(s.path==="")return s;throw NG(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),u={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${r}/o${g}`,"i"),y={bucket:1,path:3},w=n===rD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp(`^https?://${w}/${r}/${E}`,"i"),x=[{regex:a,indices:u,postModify:i},{regex:v,indices:y,postModify:c},{regex:T,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<x.length;I++){const V=x[I],F=V.regex.exec(e);if(F){const k=F[V.indices.bucket];let P=F[V.indices.path];P||(P=""),s=new kr(k,P),V.postModify(s);break}}if(s==null)throw MG(e);return s}}class zG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t,e,n){let s=1,r=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function h(E){r=setTimeout(()=>{r=null,t(v,u())},E)}function g(){i&&clearTimeout(i)}function v(E,...T){if(c){g();return}if(E){g(),d.call(null,E,...T);return}if(u()||o){g(),d.call(null,E,...T);return}s<64&&(s*=2);let x;a===1?(a=2,x=0):x=(s+Math.random())*1e3,h(x)}let y=!1;function w(E){y||(y=!0,g(),!c&&(r!==null?(E||(a=2),clearTimeout(r),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function HG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){return t!==void 0}function WG(t){return typeof t=="object"&&!Array.isArray(t)}function iT(t){return typeof t=="string"||t instanceof String}function EI(t){return oT()&&t instanceof Blob}function oT(){return typeof Blob<"u"}function TI(t,e,n,s){if(s<e)throw mb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw mb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function aD(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var Dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dl||(Dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GG(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n,s,r,i,o,a,u,c,d,h,g=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,y)=>{this.resolve_=v,this.reject_=y,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Zp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Dl.NO_ERROR,u=i.getStatus();if(!a||GG(u,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Dl.ABORT;s(!1,new Zp(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;s(!0,new Zp(c,i))})},n=(s,r)=>{const i=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());qG(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=rT();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(r.canceled){const u=this.appDelete_?oD():DG();o(u)}else{const u=LG();o(u)}};this.canceled_?n(!1,new Zp(!1,null,!0)):this.backoffId_=jG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zp{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ZG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function YG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QG(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JG(t,e,n,s,r,i,o=!0){const a=aD(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return QG(c,e),ZG(c,n),YG(c,i),XG(c,s),new KG(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tK(...t){const e=eK();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(oT())return new Blob(t);throw new Zn(Gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function nK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(t){if(typeof atob>"u")throw BG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class by{constructor(e,n){this.data=e,this.contentType=n||null}}function rK(t,e){switch(t){case ji.RAW:return new by(lD(e));case ji.BASE64:case ji.BASE64URL:return new by(uD(t,e));case ji.DATA_URL:return new by(oK(e),aK(e))}throw rT()}function lD(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++n);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function iK(t){let e;try{e=decodeURIComponent(t)}catch{throw Lf(ji.DATA_URL,"Malformed data URL.")}return lD(e)}function uD(t,e){switch(t){case ji.BASE64:{const r=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(r||i)throw Lf(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ji.BASE64URL:{const r=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(r||i)throw Lf(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sK(e)}catch(r){throw r.message.includes("polyfill")?r:Lf(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class cD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lf(ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=lK(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function oK(t){const e=new cD(t);return e.base64?uD(ji.BASE64,e.rest):iK(e.rest)}function aK(t){return new cD(t).contentType}function lK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){let s=0,r="";EI(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(EI(this.data_)){const s=this.data_,r=nK(s,e,n);return r===null?null:new xa(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new xa(s,!0)}}static getBlob(...e){if(oT()){const n=e.map(s=>s instanceof xa?s.data_:s);return new xa(tK.apply(null,n))}else{const n=e.map(o=>iT(o)?rK(ji.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const r=new Uint8Array(s);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[i++]=o[a]}),new xa(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){let e;try{e=JSON.parse(t)}catch{return null}return WG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cK(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function fD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t,e){return e}class Zs{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||dK}}let Yp=null;function fK(t){return!iT(t)||t.length<2?t:fD(t)}function hD(){if(Yp)return Yp;const t=[];t.push(new Zs("bucket")),t.push(new Zs("generation")),t.push(new Zs("metageneration")),t.push(new Zs("name","fullPath",!0));function e(i,o){return fK(o)}const n=new Zs("name");n.xform=e,t.push(n);function s(i,o){return o!==void 0?Number(o):o}const r=new Zs("size");return r.xform=s,t.push(r),t.push(new Zs("timeCreated")),t.push(new Zs("updated")),t.push(new Zs("md5Hash",null,!0)),t.push(new Zs("cacheControl",null,!0)),t.push(new Zs("contentDisposition",null,!0)),t.push(new Zs("contentEncoding",null,!0)),t.push(new Zs("contentLanguage",null,!0)),t.push(new Zs("contentType",null,!0)),t.push(new Zs("metadata","customMetadata",!0)),Yp=t,Yp}function hK(t,e){function n(){const s=t.bucket,r=t.fullPath,i=new kr(s,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function pK(t,e,n){const s={};s.type="file";const r=n.length;for(let i=0;i<r;i++){const o=n[i];s[o.local]=o.xform(s,e[o.server])}return hK(s,t),s}function pD(t,e,n){const s=dD(e);return s===null?null:pK(t,s,n)}function mK(t,e,n,s){const r=dD(e);if(r===null||!iT(r.downloadTokens))return null;const i=r.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,h=t.fullPath,g="/b/"+o(d)+"/o/"+o(h),v=lv(g,n,s),y=aD({alt:"media",token:c});return v+y})[0]}function gK(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class aT{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){if(!t)throw rT()}function _K(t,e){function n(s,r){const i=pD(t,r,e);return mD(i!==null),i}return n}function vK(t,e){function n(s,r){const i=pD(t,r,e);return mD(i!==null),mK(i,r,t.host,t._protocol)}return n}function gD(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=kG():r=PG():n.getStatus()===402?r=RG(t.bucket):n.getStatus()===403?r=OG(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function _D(t){const e=gD(t);function n(s,r){let i=e(s,r);return s.getStatus()===404&&(i=AG(t.path)),i.serverResponse=r.serverResponse,i}return n}function yK(t,e,n){const s=e.fullServerUrl(),r=lv(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new aT(r,i,vK(t,n),o);return a.errorHandler=_D(e),a}function wK(t,e){const n=e.fullServerUrl(),s=lv(n,t.host,t._protocol),r="DELETE",i=t.maxOperationRetryTime;function o(u,c){}const a=new aT(s,r,o,i);return a.successCodes=[200,204],a.errorHandler=_D(e),a}function bK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function EK(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=bK(null,e)),s}function TK(t,e,n,s,r){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let x="";for(let I=0;I<2;I++)x=x+Math.random().toString().slice(2);return x}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=EK(e,s,r),d=gK(c,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+u+"--",v=xa.getBlob(h,s,g);if(v===null)throw FG();const y={name:c.fullPath},w=lv(i,t.host,t._protocol),E="POST",T=t.maxUploadRetryTime,C=new aT(w,E,_K(t,n),T);return C.urlParams=y,C.headers=o,C.body=v.uploadData(),C.errorHandler=gD(e),C}class SK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r){if(this.sent_)throw Wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class CK extends SK{initXhr(){this.xhr_.responseType="text"}}function lT(){return new CK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this._service=e,n instanceof kr?this._location=n:this._location=kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jl(e,n)}get root(){const e=new kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fD(this._location.path)}get storage(){return this._service}get parent(){const e=uK(this._location.path);if(e===null)return null;const n=new kr(this._location.bucket,e);return new jl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw UG(e)}}function xK(t,e,n){t._throwIfRoot("uploadBytes");const s=TK(t.storage,t._location,hD(),new xa(e,!0),n);return t.storage.makeRequestWithTokens(s,lT).then(r=>({metadata:r,ref:t}))}function IK(t){t._throwIfRoot("getDownloadURL");const e=yK(t.storage,t._location,hD());return t.storage.makeRequestWithTokens(e,lT).then(n=>{if(n===null)throw $G();return n})}function AK(t){t._throwIfRoot("deleteObject");const e=wK(t.storage,t._location);return t.storage.makeRequestWithTokens(e,lT)}function RK(t,e){const n=cK(t._location.path,e),s=new kr(t._location.bucket,n);return new jl(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){return/^[A-Za-z]+:\/\//.test(t)}function kK(t,e){return new jl(t,e)}function vD(t,e){if(t instanceof uT){const n=t;if(n._bucket==null)throw VG();const s=new jl(n,n._bucket);return e!=null?vD(s,e):s}else return e!==void 0?RK(t,e):t}function OK(t,e){if(e&&PK(e)){if(t instanceof uT)return kK(t,e);throw mb("To use ref(service, url), the first argument must be a Storage instance.")}else return vD(t,e)}function SI(t,e){const n=e==null?void 0:e[iD];return n==null?null:kr.makeFromBucketSpec(n,t)}function LK(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=s;r&&(t._overrideAuthToken=typeof r=="string"?r:gO(r,t.app.options.projectId))}class uT{constructor(e,n,s,r,i){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=rD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xG,this._maxUploadRetryTime=IG,this._requests=new Set,r!=null?this._bucket=kr.makeFromBucketSpec(r,this._host):this._bucket=SI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kr.makeFromBucketSpec(this._url,e):this._bucket=SI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jl(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new zG(oD());{const o=JG(e,this._appId,s,r,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const CI="@firebase/storage",xI="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="storage";function uv(t,e,n){return t=kn(t),xK(t,e,n)}function cv(t){return t=kn(t),IK(t)}function wD(t){return t=kn(t),AK(t)}function Lc(t,e){return t=kn(t),OK(t,e)}function Dc(t=V_(),e){t=kn(t);const s=N_(t,yD).getImmediate({identifier:e}),r=hO("storage");return r&&DK(s,...r),s}function DK(t,e,n,s={}){LK(t,e,n,s)}function MK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new uT(n,s,r,e,il)}function NK(){so(new xi(yD,MK,"PUBLIC").setMultipleInstances(!0)),Lr(CI,xI,""),Lr(CI,xI,"esm2017")}NK();function cT(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function bD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VK=bD,ED=new Yc("auth","Firebase",bD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Oh("@firebase/auth");function FK(t,...e){hg.logLevel<=zt.WARN&&hg.warn(`Auth (${il}): ${t}`,...e)}function Cm(t,...e){hg.logLevel<=zt.ERROR&&hg.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,...e){throw dT(t,...e)}function Qi(t,...e){return dT(t,...e)}function TD(t,e,n){const s=Object.assign(Object.assign({},VK()),{[e]:n});return new Yc("auth","Firebase",s).create(e,{appName:t.name})}function jo(t){return TD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dT(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ED.create(t,...e)}function St(t,e,...n){if(!t)throw dT(e,...n)}function Do(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cm(e),new Error(e)}function ea(t,e){t||Do(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $K(){return II()==="http:"||II()==="https:"}function II(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($K()||H5()||"connection"in navigator)?navigator.onLine:!0}function UK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=gE()||_O()}get(){return BK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Do("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Do("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Do("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jK=new $h(3e4,6e4);function ll(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ul(t,e,n,s,r={}){return CD(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=Qc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return j5()||(c.referrerPolicy="no-referrer"),SD.fetch()(xD(t,t.config.apiHost,n,a),c)})}async function CD(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},zK),e);try{const r=new qK(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Qp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qp(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Qp(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Qp(t,"user-disabled",o);const d=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TD(t,d,c);Ai(t,d)}}catch(r){if(r instanceof fo)throw r;Ai(t,"network-request-failed",{message:String(r)})}}async function Bh(t,e,n,s,r={}){const i=await ul(t,e,n,s,r);return"mfaPendingCredential"in i&&Ai(t,"multi-factor-auth-required",{_serverResponse:i}),i}function xD(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?fT(t.config,r):`${t.config.apiScheme}://${r}`}function HK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qi(this.auth,"network-request-failed")),jK.get())})}}function Qp(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Qi(t,e,s);return r.customData._tokenResponse=n,r}function AI(t){return t!==void 0&&t.enterprise!==void 0}class WK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GK(t,e){return ul(t,"GET","/v2/recaptchaConfig",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KK(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function ID(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZK(t,e=!1){const n=kn(t),s=await n.getIdToken(e),r=hT(s);St(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Df(Ey(r.auth_time)),issuedAtTime:Df(Ey(r.iat)),expirationTime:Df(Ey(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ey(t){return Number(t)*1e3}function hT(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Cm("JWT malformed, contained fewer than 3 sections"),null;try{const r=Xm(n);return r?JSON.parse(r):(Cm("Failed to decode base64 JWT payload"),null)}catch(r){return Cm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function RI(t){const e=hT(t);return St(e,"internal-error"),St(typeof e.exp<"u","internal-error"),St(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fo&&YK(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function YK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Df(this.lastLoginAt),this.creationTime=Df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){var e;const n=t.auth,s=await t.getIdToken(),r=await uh(t,ID(n,{idToken:s}));St(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?AD(i.providerUserInfo):[],a=JK(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _b(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function XK(t){const e=kn(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JK(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function AD(t){return t.map(e=>{var{providerId:n}=e,s=cT(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t,e){const n=await CD(t,{},async()=>{const s=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=xD(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SD.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t7(t,e){return ul(t,"POST","/v2/accounts:revokeToken",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St(typeof e.idToken<"u","internal-error"),St(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){St(e.length!==0,"internal-error");const n=RI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await e7(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new hc;return s&&(St(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(St(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(St(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return Do("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e){St(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mo{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=cT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _b(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uh(this,this.stsTokenManager.getToken(this.auth,e));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZK(this,e)}reload(){return XK(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await uh(this,KK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,u,c,d;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,C=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:I,isAnonymous:V,providerData:F,stsTokenManager:k}=n;St(x&&k,e,"internal-error");const P=hc.fromJSON(this.name,k);St(typeof x=="string",e,"internal-error"),va(h,e.name),va(g,e.name),St(typeof I=="boolean",e,"internal-error"),St(typeof V=="boolean",e,"internal-error"),va(v,e.name),va(y,e.name),va(w,e.name),va(E,e.name),va(T,e.name),va(C,e.name);const A=new Mo({uid:x,auth:e,email:g,emailVerified:I,displayName:h,isAnonymous:V,photoURL:y,phoneNumber:v,tenantId:w,stsTokenManager:P,createdAt:T,lastLoginAt:C});return F&&Array.isArray(F)&&(A.providerData=F.map(N=>Object.assign({},N))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new hc;r.updateFromServerResponse(n);const i=new Mo({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await pg(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];St(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?AD(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),a=new hc;a.updateFromIdToken(s);const u=new Mo({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new _b(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Map;function No(t){ea(t instanceof Function,"Expected a class definition");let e=PI.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RD.type="NONE";const kI=RD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e,n){return`firebase:${t}:${e}:${n}`}class pc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=xm(this.userKey,r.apiKey,i),this.fullPersistenceKey=xm("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new pc(No(kI),e,s);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=r[0]||No(kI);const o=xm(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Mo._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new pc(i,e,s):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new pc(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MD(e))return"Blackberry";if(ND(e))return"Webos";if(kD(e))return"Safari";if((e.includes("chrome/")||OD(e))&&!e.includes("edge/"))return"Chrome";if(DD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function PD(t=Ws()){return/firefox\//i.test(t)}function kD(t=Ws()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OD(t=Ws()){return/crios\//i.test(t)}function LD(t=Ws()){return/iemobile/i.test(t)}function DD(t=Ws()){return/android/i.test(t)}function MD(t=Ws()){return/blackberry/i.test(t)}function ND(t=Ws()){return/webos/i.test(t)}function pT(t=Ws()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n7(t=Ws()){var e;return pT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s7(){return q5()&&document.documentMode===10}function VD(t=Ws()){return pT(t)||DD(t)||ND(t)||MD(t)||/windows phone/i.test(t)||LD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t,e=[]){let n;switch(t){case"Browser":n=OI(Ws());break;case"Worker":n=`${OI(Ws())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(t,e={}){return ul(t,"GET","/v2/passwordPolicy",ll(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=6;class a7{constructor(e){var n,s,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:o7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(s=u.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LI(this),this.idTokenSubscription=new LI(this),this.beforeStateQueue=new r7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ED,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=No(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await pc.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ID(this,{idToken:e}),s=await Mo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(jo(this));const n=e?kn(e):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(No(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await i7(this),n=new a7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await t7(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&No(e)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await pc.create(this,[No(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hu(t){return kn(t)}class LI{constructor(e){this.auth=e,this.observer=null,this.addObserver=t9(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u7(t){dv=t}function $D(t){return dv.loadJS(t)}function c7(){return dv.recaptchaEnterpriseScript}function d7(){return dv.gapiScript}function f7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class h7{constructor(){this.enterprise=new p7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m7="recaptcha-enterprise",BD="NO_RECAPTCHA";class g7{constructor(e){this.type=m7,this.auth=hu(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{GK(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new WK(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function r(i,o,a){const u=window.grecaptcha;AI(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(BD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h7().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(a=>{if(!n&&AI(window.grecaptcha))r(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=c7();u.length!==0&&(u+=a),$D(u).then(()=>{r(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function DI(t,e,n,s=!1,r=!1){const i=new g7(t);let o;if(r)o=BD;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vb(t,e,n,s,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await DI(t,e,n,n==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await DI(t,e,n,n==="getOobCode");return s(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){const n=N_(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Zo(i,e??{}))return r;Ai(r,"already-initialized")}return n.initialize({options:e})}function _7(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(No);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function v7(t,e,n){const s=hu(t);St(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=zD(e),{host:o,port:a}=y7(e),u=a===null?"":`:${a}`,c={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(Zo(c,s.config.emulator)&&Zo(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=c,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,w7()}function zD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y7(t){const e=zD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:MI(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:MI(o)}}}function MI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function w7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Do("not implemented")}_getIdTokenResponse(e){return Do("not implemented")}_linkToIdToken(e,n){return Do("not implemented")}_getReauthenticationResolver(e){return Do("not implemented")}}async function b7(t,e){return ul(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,e))}async function S7(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends mT{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new ch(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ch(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vb(e,n,"signInWithPassword",E7);case"emailLink":return T7(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vb(e,s,"signUpPassword",b7);case"emailLink":return S7(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="http://localhost";class Hl extends mT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=cT(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new Hl(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return mc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mc(e,n)}buildRequest(){const e={requestUri:C7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I7(t){const e=rf(of(t)).link,n=e?rf(of(e)).deep_link_id:null,s=rf(of(t)).deep_link_id;return(s?rf(of(s)).link:null)||s||n||e||t}class gT{constructor(e){var n,s,r,i,o,a;const u=rf(of(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(s=u.oobCode)!==null&&s!==void 0?s:null,h=x7((r=u.mode)!==null&&r!==void 0?r:null);St(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=I7(e);try{return new gT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this.providerId=sd.PROVIDER_ID}static credential(e,n){return ch._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gT.parseLink(n);return St(s,"argument-error"),ch._fromEmailAndCode(e,s.code,s.tenantId)}}sd.PROVIDER_ID="password";sd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends jD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Uh{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hl._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Aa.credential(n,s)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Uh{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Uh{constructor(){super("twitter.com")}static credential(e,n){return Hl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Pa.credential(n,s)}catch{return null}}}Pa.TWITTER_SIGN_IN_METHOD="twitter.com";Pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A7(t,e){return Bh(t,"POST","/v1/accounts:signUp",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Mo._fromIdTokenResponse(e,s,r),o=NI(s);return new ql({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=NI(s);return new ql({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function NI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends fo{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,mg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new mg(e,n,s,r)}}function HD(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mg._fromErrorAndOperation(t,i,e,s):i})}async function R7(t,e,n=!1){const s=await uh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ql._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e,n=!1){const{auth:s}=t;if(cr(s.app))return Promise.reject(jo(s));const r="reauthenticate";try{const i=await uh(t,HD(s,r,e,t),n);St(i.idToken,s,"internal-error");const o=hT(i.idToken);St(o,s,"internal-error");const{sub:a}=o;return St(t.uid===a,s,"user-mismatch"),ql._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Ai(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e,n=!1){if(cr(t.app))return Promise.reject(jo(t));const s="signIn",r=await HD(t,s,e),i=await ql._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function k7(t,e){return qD(hu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t){const e=hu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O7(t,e,n){if(cr(t.app))return Promise.reject(jo(t));const s=hu(t),o=await vb(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A7).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&WD(t),u}),a=await ql._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function L7(t,e,n){return cr(t.app)?Promise.reject(jo(t)):k7(kn(t),sd.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WD(t),s})}function GD(t,e,n,s){return kn(t).onIdTokenChanged(e,n,s)}function D7(t,e,n){return kn(t).beforeAuthStateChanged(e,n)}function M7(t,e,n,s){return kn(t).onAuthStateChanged(e,n,s)}function N7(t){return kn(t).signOut()}const gg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gg,"1"),this.storage.removeItem(gg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=1e3,F7=10;class ZD extends KD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);s7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,F7):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},V7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZD.type="LOCAL";const YD=ZD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD extends KD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QD.type="SESSION";const _T=QD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new fv(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await $7(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=vT("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const g=h;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function U7(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function z7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H7(){return XD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="firebaseLocalStorageDb",q7=1,_g="firebaseLocalStorage",eM="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hv(t,e){return t.transaction([_g],e?"readwrite":"readonly").objectStore(_g)}function W7(){const t=indexedDB.deleteDatabase(JD);return new zh(t).toPromise()}function yb(){const t=indexedDB.open(JD,q7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(_g,{keyPath:eM})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(_g)?e(s):(s.close(),await W7(),e(await yb()))})})}async function VI(t,e,n){const s=hv(t,!0).put({[eM]:e,value:n});return new zh(s).toPromise()}async function G7(t,e){const n=hv(t,!1).get(e),s=await new zh(n).toPromise();return s===void 0?null:s.value}function FI(t,e){const n=hv(t,!0).delete(e);return new zh(n).toPromise()}const K7=800,Z7=3;class tM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Z7)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fv._getInstance(H7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await z7(),!this.activeServiceWorker)return;this.sender=new B7(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yb();return await VI(e,gg,"1"),await FI(e,gg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>VI(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>G7(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=hv(r,!1).getAll();return new zh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tM.type="LOCAL";const nM=tM;new $h(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e){return e?No(e):(St(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends mT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q7(t){return qD(t.auth,new yT(t),t.bypassAuthState)}function X7(t){const{auth:e,user:n}=t;return St(n,e,"internal-error"),P7(n,new yT(t),t.bypassAuthState)}async function J7(t){const{auth:e,user:n}=t;return St(n,e,"internal-error"),R7(n,new yT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q7;case"linkViaPopup":case"linkViaRedirect":return J7;case"reauthViaPopup":case"reauthViaRedirect":return X7;default:Ai(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=new $h(2e3,1e4);class tc extends sM{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,tc.currentPopupAction&&tc.currentPopupAction.cancel(),tc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=vT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eZ.get())};e()}}tc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ="pendingRedirect",Im=new Map;class nZ extends sM{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const s=await sZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sZ(t,e){const n=oZ(e),s=iZ(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function rZ(t,e){Im.set(t._key(),e)}function iZ(t){return No(t._redirectPersistence)}function oZ(t){return xm(tZ,t.config.apiKey,t.name)}async function aZ(t,e,n=!1){if(cr(t.app))return Promise.reject(jo(t));const s=hu(t),r=Y7(s,e),o=await new nZ(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ=10*60*1e3;class uZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rM(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lZ&&this.cachedEventUids.clear(),this.cachedEventUids.has($I(e))}saveEventToCache(e){this.cachedEventUids.add($I(e)),this.lastProcessedEventTime=Date.now()}}function $I(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dZ(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hZ=/^https?/;async function pZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dZ(t);for(const n of e)try{if(mZ(n))return}catch{}Ai(t,"unauthorized-domain")}function mZ(t){const e=gb(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!hZ.test(n))return!1;if(fZ.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=new $h(3e4,6e4);function BI(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _Z(t){return new Promise((e,n)=>{var s,r,i;function o(){BI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BI(),n(Qi(t,"network-request-failed"))},timeout:gZ.get()})}if(!((r=(s=Xi().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=Xi().gapi)===null||i===void 0)&&i.load)o();else{const a=f7("iframefcb");return Xi()[a]=()=>{gapi.load?o():n(Qi(t,"network-request-failed"))},$D(`${d7()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Am=null,e})}let Am=null;function vZ(t){return Am=Am||_Z(t),Am}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ=new $h(5e3,15e3),wZ="__/auth/iframe",bZ="emulator/auth/iframe",EZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SZ(t){const e=t.config;St(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fT(e,bZ):`https://${t.config.authDomain}/${wZ}`,s={apiKey:e.apiKey,appName:t.name,v:il},r=TZ.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Qc(s).slice(1)}`}async function CZ(t){const e=await vZ(t),n=Xi().gapi;return St(n,t,"internal-error"),e.open({where:document.body,url:SZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EZ,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),a=Xi().setTimeout(()=>{i(o)},yZ.get());function u(){Xi().clearTimeout(a),r(s)}s.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IZ=500,AZ=600,RZ="_blank",PZ="http://localhost";class UI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kZ(t,e,n,s=IZ,r=AZ){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xZ),{width:s.toString(),height:r.toString(),top:i,left:o}),c=Ws().toLowerCase();n&&(a=OD(c)?RZ:n),PD(c)&&(e=e||PZ,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[v,y])=>`${g}${v}=${y},`,"");if(n7(c)&&a!=="_self")return OZ(e||"",a),new UI(null);const h=window.open(e||"",a,d);St(h,t,"popup-blocked");try{h.focus()}catch{}return new UI(h)}function OZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LZ="__/auth/handler",DZ="emulator/auth/handler",MZ=encodeURIComponent("fac");async function zI(t,e,n,s,r,i){St(t.config.authDomain,t,"auth-domain-config-required"),St(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:il,eventId:r};if(e instanceof jD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Uh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${MZ}=${encodeURIComponent(u)}`:"";return`${NZ(t)}?${Qc(a).slice(1)}${c}`}function NZ({config:t}){return t.emulator?fT(t,DZ):`https://${t.authDomain}/${LZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="webStorageSupport";class VZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=aZ,this._overrideRedirectResult=rZ}async _openPopup(e,n,s,r){var i;ea((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await zI(e,n,s,gb(),r);return kZ(e,o,vT())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await zI(e,n,s,gb(),r);return U7(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(ea(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CZ(e),s=new uZ(e);return n.register("authEvent",r=>(St(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ty,{type:Ty},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Ty];o!==void 0&&n(!!o),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VD()||kD()||pT()}}const iM=VZ;var jI="@firebase/auth",HI="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BZ(t){so(new xi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;St(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FD(t)},c=new l7(s,r,i,u);return _7(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new xi("auth-internal",e=>{const n=hu(e.getProvider("auth").getImmediate());return(s=>new FZ(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(jI,HI,$Z(t)),Lr(jI,HI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=5*60,zZ=mO("authIdTokenMaxAge")||UZ;let qI=null;const jZ=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zZ)return;const r=n==null?void 0:n.token;qI!==r&&(qI=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function HZ(t=V_()){const e=N_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UD(t,{popupRedirectResolver:iM,persistence:[nM,YD,_T]}),s=mO("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=jZ(i.toString());D7(n,o,()=>o(n.currentUser)),GD(n,a=>o(a))}}const r=fO("auth");return r&&v7(n,`http://${r}`),n}function qZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}u7({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Qi("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",qZ().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BZ("Browser");const WZ={apiKey:"AIzaSyCLSPLZJFquLRy-l_7POOXF3ozUmMWgK_k",authDomain:"diploma-6912a.firebaseapp.com",projectId:"diploma-6912a",storageBucket:"diploma-6912a.firebasestorage.app",messagingSenderId:"962869975716",appId:"1:962869975716:web:da48c63bf5569783d26431"},pv=EO(WZ),rn=lG(pv);Dc(pv);const vg=HZ(pv),pu=mE("hotel",()=>{const t=Z([]),e=Z(!1),n=Z(null),s=Z(""),r=Z({priceRange:[2e4],ratingMin:0,guestsMin:1,amenities:[],freebies:[],startDate:"",endDate:"",freeCancellation:!1});function i(I,V){const F=I.rooms??[];I.rooms=F.map((P,A)=>({id:`${V}-${A}`,...P}));const k=I.rooms.map(P=>Number(P.basePrice));I.fromPrice=k.length?Math.min(...k):1/0}function o(I){r.value.guestsMin=I}function a(I,V){r.value.startDate=I,r.value.endDate=V}async function u(){e.value=!0,n.value=null;try{const I=await ei(tr(rn,"hotels"));t.value=I.docs.map(F=>{const k=F.data();return i(k,F.id),{id:F.id,...k}});const V=Math.max(...t.value.map(F=>F.fromPrice===1/0?0:F.fromPrice));r.value.priceRange=[V]}catch{n.value="Failed to load hotels"}finally{e.value=!1}}function c(I){return t.value.find(V=>V.id===I)}async function d(I){const V=ds(rn,"hotels",I),F=await oa(V);if(!F.exists())throw new Error("Hotel not found");const k=F.data();i(k,F.id);const P={id:F.id,...k};return t.value.find(A=>A.id===I)||t.value.push(P),P}function h(I){r.value.ratingMin=I}function g(I){const V=r.value.amenities,F=V.indexOf(I);F===-1?V.push(I):V.splice(F,1)}const v=(I="")=>(I||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),y=Q(()=>t.value.filter(I=>{var V;return r.value.freeCancellation&&!I.freeCancellationUpto24h?!1:I.fromPrice!==1/0&&I.fromPrice<=r.value.priceRange[0]&&I.rating>=r.value.ratingMin&&((V=I.rooms)==null?void 0:V.some(w))&&r.value.amenities.every(F=>{var k;return(k=I.amenities)==null?void 0:k.includes(F)})&&r.value.freebies.every(F=>{var k;return(k=I.amenities)==null?void 0:k.includes(F)})&&(s.value===""||v(I.address).includes(v(s.value)))}));function w(I){if(I.maxGuests<r.value.guestsMin)return!1;const{startDate:V,endDate:F}=r.value;if(!V||!F)return!0;if(!I.startDate||!I.endDate)return!1;const k=new Date(V),P=new Date(F),A=new Date(I.startDate),N=new Date(I.endDate);return k>=A&&P<=N}const E=Q(()=>{const I=new Set;return t.value.forEach(V=>{var F;return(F=V.amenities)==null?void 0:F.forEach(k=>I.add(k))}),[...I].sort()});function T(I,V){const F=c(I);F&&(F.images=V)}function C(I){s.value=I.toLowerCase().trim()}async function x(I){if(I.length){e.value=!0,n.value=null;try{const V=[];for(let F=0;F<I.length;F+=10)V.push(I.slice(F,F+10));await Promise.all(V.map(async F=>{const k=Ya(tr(rn,"hotels"),zo(cG(),"in",F));(await ei(k)).docs.forEach(A=>{const N=A.data();i(N,A.id);const U={id:A.id,...N};t.value.find(W=>W.id===U.id)||t.value.push(U)})}))}catch{n.value="Failed to load hotels by IDs"}finally{e.value=!1}}}return{hotels:t,loading:e,error:n,loadHotels:u,getHotelById:c,fetchHotelById:d,filters:r,setRatingMin:h,toggleAmenity:g,filteredHotels:y,allAmenities:E,updateHotelImages:T,locationSearch:s,setLocationSearch:C,setGuestsMin:o,setDateRange:a,roomFitsFilters:w,loadHotelsByIds:x}});function GZ(t){return su()?(zc(t),!0):!1}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Sy=new WeakMap;function qr(t,e,n={}){const{mode:s="replace",route:r=ao(),router:i=wr(),transform:o}=n;let a=v=>v,u=v=>v;typeof o=="function"?a=o:o&&(o.get&&(a=o.get),o.set&&(u=o.set)),Sy.has(i)||Sy.set(i,new Map);const c=Sy.get(i);let d=r.query[t];GZ(()=>{d=void 0});let h;const g=T0((v,y)=>(h=y,{get(){return v(),a(d!==void 0?d:ke(e))},set(w){w=u(w),d!==w&&(d=w===ke(e)?void 0:w,c.set(t,w===ke(e)?void 0:w),y(),Pt(()=>{if(c.size===0)return;const E=Object.fromEntries(c.entries());c.clear();const{params:T,query:C,hash:x}=r;i[ke(s)]({params:T,query:{...C,...E},hash:x})}))}}));return ct(()=>r.query[t],v=>{d!==a(v)&&(d=v,h())},{flush:"sync"}),g}const KZ=1,ZZ=1e6,Vo={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Cy=0;function YZ(){return Cy=(Cy+1)%Number.MAX_VALUE,Cy.toString()}const xy=new Map;function WI(t){if(xy.has(t))return;const e=setTimeout(()=>{xy.delete(t),Mf({type:Vo.REMOVE_TOAST,toastId:t})},ZZ);xy.set(t,e)}const ui=Z({toasts:[]});function Mf(t){switch(t.type){case Vo.ADD_TOAST:ui.value.toasts=[t.toast,...ui.value.toasts].slice(0,KZ);break;case Vo.UPDATE_TOAST:ui.value.toasts=ui.value.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e);break;case Vo.DISMISS_TOAST:{const{toastId:e}=t;e?WI(e):ui.value.toasts.forEach(n=>{WI(n.id)}),ui.value.toasts=ui.value.toasts.map(n=>n.id===e||e===void 0?{...n,open:!1}:n);break}case Vo.REMOVE_TOAST:t.toastId===void 0?ui.value.toasts=[]:ui.value.toasts=ui.value.toasts.filter(e=>e.id!==t.toastId);break}}function rd(){return{toasts:Q(()=>ui.value.toasts),toast:en,dismiss:t=>Mf({type:Vo.DISMISS_TOAST,toastId:t})}}function en(t){const e=YZ(),n=r=>Mf({type:Vo.UPDATE_TOAST,toast:{...r,id:e}}),s=()=>Mf({type:Vo.DISMISS_TOAST,toastId:e});return Mf({type:Vo.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}const QZ=K({__name:"Toast",props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(T6),fe(m(i),{class:m(Fe)(m(rY)({variant:o.variant}),n.class),"onUpdate:open":o.onOpenChange}),{default:O(()=>[J(o.$slots,"default")]),_:3},16,["class","onUpdate:open"]))}}),Qa=K({__name:"ToastAction",props:{altText:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(b6),fe(n.value,{class:m(Fe)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e.class)}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["class"]))}}),XZ=K({__name:"ToastClose",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(Ak),fe(n.value,{class:m(Fe)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e.class)}),{default:O(()=>[M(m(aE),{class:"h-4 w-4"})]),_:1},16,["class"]))}}),GI=K({__name:"ToastDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(E6),fe({class:m(Fe)("text-sm opacity-90",e.class)},n.value),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["class"]))}}),JZ={class:"grid gap-1"},eY=K({__name:"Toaster",setup(t){const{toasts:e}=rd();return(n,s)=>($(),Y(m(tY),null,{default:O(()=>[($(!0),ie(Ke,null,jt(m(e),r=>($(),Y(m(QZ),fe({key:r.id,ref_for:!0},r),{default:O(()=>[z("div",JZ,[r.title?($(),Y(m(nY),{key:0},{default:O(()=>[ae(Ie(r.title),1)]),_:2},1024)):Ht("",!0),r.description?($(),ie(Ke,{key:1},[yc(r.description)?($(),Y(m(GI),{key:0},{default:O(()=>[($(),Y(bi(r.description)))]),_:2},1024)):($(),Y(m(GI),{key:1},{default:O(()=>[ae(Ie(r.description),1)]),_:2},1024))],64)):Ht("",!0),M(m(XZ))]),($(),Y(bi(r.action)))]),_:2},1040))),128)),M(m(sY))]),_:1}))}}),tY=K({__name:"ToastProvider",props:{label:{},duration:{},swipeDirection:{},swipeThreshold:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(d6),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),nY=K({__name:"ToastTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(S6),fe(n.value,{class:m(Fe)("text-sm font-semibold [&+div]:text-xs",e.class)}),{default:O(()=>[J(s.$slots,"default")]),_:3},16,["class"]))}}),sY=K({__name:"ToastViewport",props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(x6),fe(n.value,{class:m(Fe)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e.class)}),null,16,["class"]))}}),rY=m_("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iY={class:"flex flex-wrap md:flex-nowrap gap-4 w-full"},oY={class:"flex flex-col flex-1 min-w-[200px]"},aY={class:"flex flex-col flex-1 min-w-[200px]"},lY={class:"flex gap-2"},uY={class:"flex flex-col flex-1 min-w-[200px]"},oM=K({__name:"SearchBar",setup(t){const e=pu(),n=wr(),{toast:s}=rd(),r=qr("location",""),i=qr("startDate",""),o=qr("endDate",""),a=qr("guests","1",{transform:d=>{const h=Number(d);return isNaN(h)||h<1?1:h}}),u=Q({get:()=>e.filters.guestsMin,set:d=>e.setGuestsMin(d)});TH(a,u);async function c(){const h=String(r.value||"").trim();if(!h){s({title:"Nothing to search",description:"Write a city",variant:"destructive",action:Ft(Qa,{altText:"Good"},{default:()=>"Close"})});return}r.value!==h&&(r.value=h),e.setLocationSearch(h),e.setDateRange(i.value,o.value),await n.push({path:Yk,query:{location:r.value,startDate:i.value||void 0,endDate:o.value||void 0,guests:a.value}})}return(d,h)=>($(),ie(Ke,null,[z("div",iY,[z("div",oY,[h[4]||(h[4]=z("label",{class:"font-medium mb-1",for:"loc"},"Location",-1)),M(m(wn),{id:"loc",modelValue:m(r),"onUpdate:modelValue":h[0]||(h[0]=g=>Dt(r)?r.value=g:null),placeholder:"Where are you going?"},null,8,["modelValue"])]),z("div",aY,[h[5]||(h[5]=z("label",{class:"font-medium mb-1"},"Dates",-1)),z("div",lY,[M(m(wn),{type:"date",modelValue:m(i),"onUpdate:modelValue":h[1]||(h[1]=g=>Dt(i)?i.value=g:null),class:"flex-1"},null,8,["modelValue"]),M(m(wn),{type:"date",modelValue:m(o),"onUpdate:modelValue":h[2]||(h[2]=g=>Dt(o)?o.value=g:null),class:"flex-1"},null,8,["modelValue"])])]),z("div",uY,[h[6]||(h[6]=z("label",{class:"font-medium mb-1"},"Guests",-1)),M(x5,{modelValue:m(a),"onUpdate:modelValue":h[3]||(h[3]=g=>Dt(a)?a.value=g:null)},null,8,["modelValue"])])]),M(m(Zt),{class:"mt-4 w-full bg-cyan-500 hover:bg-cyan-600",onClick:c},{default:O(()=>h[7]||(h[7]=[ae(" Search ")])),_:1})],64))}}),cY="modulepreload",dY=function(t){return"/vue-hotel-reservation/"+t},KI={},Yr=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(u=>{if(u=dY(u),u in KI)return;KI[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cY,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},wT=mE("favorites",()=>{const t=Z([]),e=Z(!1),n=Z(null);async function s(i){e.value=!0,n.value=null;try{const o=Ya(tr(rn,"favorites"),zo("userId","==",i)),u=(await ei(o)).docs.map(c=>c.data().hotelId);t.value=Array.from(new Set(u))}catch{n.value="Failed to load favorites"}finally{e.value=!1}}async function r(i,o){if(t.value.includes(o)){const a=Ya(tr(rn,"favorites"),zo("userId","==",i),zo("hotelId","==",o)),u=await ei(a);await Promise.all(u.docs.map(c=>rv(ds(rn,"favorites",c.id)))),t.value=t.value.filter(c=>c!==o)}else await iv(tr(rn,"favorites"),{userId:i,hotelId:o,createdAt:av()}),t.value.push(o)}return{favorites:t,loadFavorites:s,toggleFavorite:r,loading:e,error:n}});let Iy;const ho=mE("auth",()=>{const t=Z(null),e=Z(!0),n=Q(()=>!!t.value),s=Z(!1),r=wT();M7(vg,a=>{t.value=a,e.value=!1,a&&r.loadFavorites(a.uid)});function i(a){s.value=a}async function o(){Iy||(Iy=(await Yr(async()=>{const{default:a}=await Promise.resolve().then(()=>cde);return{default:a}},void 0)).default);try{await N7(vg),s.value=!1,Iy.push({name:Kc})}catch(a){console.error("Logout failed:",a)}}return{user:t,loading:e,isLoggedIn:n,isAdmin:s,logout:o,setAdmin:i}}),fY={key:0,class:"fixed inset-0 flex items-center justify-center bg-white z-50"},hY={class:"w-full absolute top-0 left-0 z-50 px-8 py-6 flex items-center justify-between"},pY={class:"flex items-center space-x-8 text-white font-medium"},mY={class:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-4"},gY={class:"bg-white rounded-lg shadow-lg px-6 py-6 flex flex-col gap-4 text-gray-800 w-full max-w-4xl"},_Y=K({__name:"HeaderUser",setup(t){const e=pu();wr(),Z("");const n=Z(""),s=Z("");rd();const r=ho();return ct([n,s],([i,o])=>e.setDateRange(i,o)),(i,o)=>{const a=Xr("Spinner"),u=Xr("RouterLink");return m(r).loading?($(),ie("div",fY,[M(a,{class:"h-12 w-12"})])):($(),ie("section",{key:1,class:"py-32 bg-cover bg-center relative",style:Ls({backgroundImage:`url(${m(w5)})`})},[o[7]||(o[7]=z("div",{class:"absolute inset-0 bg-black bg-opacity-60"},null,-1)),z("header",hY,[o[5]||(o[5]=z("h2",{class:"text-white text-2xl font-semibold"},[ae(" Hotel "),z("span",{class:"bg-cyan-500 text-white px-2 py-1 rounded"},"hub")],-1)),z("nav",pY,[m(r).isLoggedIn?($(),ie(Ke,{key:1},[M(u,{to:{name:m(pE)},class:"hover:text-cyan-300 transition cursor-pointer"},{default:O(()=>o[2]||(o[2]=[ae(" Profile ")])),_:1},8,["to"]),M(u,{to:{name:m(fE)},class:"hover:text-cyan-300 transition cursor-pointer"},{default:O(()=>o[3]||(o[3]=[ae(" Followed ")])),_:1},8,["to"]),M(m(Zt),{onClick:m(r).logout,class:"bg-cyan-500 hover:bg-cyan-600 text-white px-5 py-2 rounded-md transition"},{default:O(()=>o[4]||(o[4]=[ae(" Sign Out ")])),_:1},8,["onClick"])],64)):($(),ie(Ke,{key:0},[M(u,{to:{name:m(Bl)},class:"hover:text-cyan-300 transition cursor-pointer"},{default:O(()=>o[0]||(o[0]=[ae(" Log In ")])),_:1},8,["to"]),M(u,{to:{name:m(hE)},class:"bg-cyan-500 hover:bg-cyan-600 text-white px-5 py-2 rounded-md transition"},{default:O(()=>o[1]||(o[1]=[ae(" Sign Up ")])),_:1},8,["to"])],64))])]),z("div",mY,[o[6]||(o[6]=z("h1",{class:"text-4xl md:text-6xl font-bold mb-8 leading-tight"},[ae(" Hotel for moments rich"),z("br"),ae(" in emotions ")],-1)),z("div",gY,[M(oM)])])],4))}}});function vY(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZI(t){return vY(t)||Array.isArray(t)}function yY(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function bT(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;const r=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(e.breakpoints||{}));return r!==i?!1:n.every(o=>{const a=t[o],u=e[o];return typeof a=="function"?`${a}`==`${u}`:!ZI(a)||!ZI(u)?a===u:bT(a,u)})}function YI(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function wY(t,e){if(t.length!==e.length)return!1;const n=YI(t),s=YI(e);return n.every((r,i)=>{const o=s[i];return bT(r,o)})}function ET(t){return typeof t=="number"}function wb(t){return typeof t=="string"}function mv(t){return typeof t=="boolean"}function QI(t){return Object.prototype.toString.call(t)==="[object Object]"}function jn(t){return Math.abs(t)}function TT(t){return Math.sign(t)}function Nf(t,e){return jn(t-e)}function bY(t,e){if(t===0||e===0||jn(t)<=jn(e))return 0;const n=Nf(jn(t),jn(e));return jn(n/t)}function EY(t){return Math.round(t*100)/100}function dh(t){return fh(t).map(Number)}function gi(t){return t[jh(t)]}function jh(t){return Math.max(0,t.length-1)}function ST(t,e){return e===jh(t)}function XI(t,e=0){return Array.from(Array(t),(n,s)=>e+s)}function fh(t){return Object.keys(t)}function aM(t,e){return[t,e].reduce((n,s)=>(fh(s).forEach(r=>{const i=n[r],o=s[r],a=QI(i)&&QI(o);n[r]=a?aM(i,o):o}),n),{})}function bb(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function TY(t,e){const n={start:s,center:r,end:i};function s(){return 0}function r(u){return i(u)/2}function i(u){return e-u}function o(u,c){return wb(t)?n[t](u):t(e,u,c)}return{measure:o}}function hh(){let t=[];function e(r,i,o,a={passive:!0}){let u;if("addEventListener"in r)r.addEventListener(i,o,a),u=()=>r.removeEventListener(i,o,a);else{const c=r;c.addListener(o),u=()=>c.removeListener(o)}return t.push(u),s}function n(){t=t.filter(r=>r())}const s={add:e,clear:n};return s}function SY(t,e,n,s){const r=hh(),i=1e3/60;let o=null,a=0,u=0;function c(){r.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){v(),r.clear()}function h(E){if(!u)return;o||(o=E,n(),n());const T=E-o;for(o=E,a+=T;a>=i;)n(),a-=i;const C=a/i;s(C),u&&(u=e.requestAnimationFrame(h))}function g(){u||(u=e.requestAnimationFrame(h))}function v(){e.cancelAnimationFrame(u),o=null,a=0,u=0}function y(){o=null,a=0}return{init:c,destroy:d,start:g,stop:v,update:n,render:s}}function CY(t,e){const n=e==="rtl",s=t==="y",r=s?"y":"x",i=s?"x":"y",o=!s&&n?-1:1,a=d(),u=h();function c(y){const{height:w,width:E}=y;return s?w:E}function d(){return s?"top":n?"right":"left"}function h(){return s?"bottom":n?"left":"right"}function g(y){return y*o}return{scroll:r,cross:i,startEdge:a,endEdge:u,measureSize:c,direction:g}}function Wl(t=0,e=0){const n=jn(t-e);function s(c){return c<t}function r(c){return c>e}function i(c){return s(c)||r(c)}function o(c){return i(c)?s(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:i,reachedMax:r,reachedMin:s,removeOffset:a}}function lM(t,e,n){const{constrain:s}=Wl(0,t),r=t+1;let i=o(e);function o(g){return n?jn((r+g)%r):s(g)}function a(){return i}function u(g){return i=o(g),h}function c(g){return d().set(a()+g)}function d(){return lM(t,a(),n)}const h={get:a,set:u,add:c,clone:d};return h}function xY(t,e,n,s,r,i,o,a,u,c,d,h,g,v,y,w,E,T,C){const{cross:x,direction:I}=t,V=["INPUT","SELECT","TEXTAREA"],F={passive:!1},k=hh(),P=hh(),A=Wl(50,225).constrain(v.measure(20)),N={mouse:300,touch:400},U={mouse:500,touch:600},W=y?43:25;let q=!1,Pe=0,Be=0,ye=!1,_e=!1,me=!1,nt=!1;function Ne(j){if(!C)return;function G(ce){(mv(C)||C(j,ce))&&we(ce)}const te=e;k.add(te,"dragstart",ce=>ce.preventDefault(),F).add(te,"touchmove",()=>{},F).add(te,"touchend",()=>{}).add(te,"touchstart",G).add(te,"mousedown",G).add(te,"touchcancel",he).add(te,"contextmenu",he).add(te,"click",ve,!0)}function ot(){k.clear(),P.clear()}function lt(){const j=nt?n:e;P.add(j,"touchmove",ee,F).add(j,"touchend",he).add(j,"mousemove",ee,F).add(j,"mouseup",he)}function pt(j){const G=j.nodeName||"";return V.includes(G)}function Ye(){return(y?U:N)[nt?"mouse":"touch"]}function dt(j,G){const te=h.add(TT(j)*-1),ce=d.byDistance(j,!y).distance;return y||jn(j)<A?ce:E&&G?ce*.5:d.byIndex(te.get(),0).distance}function we(j){const G=bb(j,s);nt=G,me=y&&G&&!j.buttons&&q,q=Nf(r.get(),o.get())>=2,!(G&&j.button!==0)&&(pt(j.target)||(ye=!0,i.pointerDown(j),c.useFriction(0).useDuration(0),r.set(o),lt(),Pe=i.readPoint(j),Be=i.readPoint(j,x),g.emit("pointerDown")))}function ee(j){if(!bb(j,s)&&j.touches.length>=2)return he(j);const te=i.readPoint(j),ce=i.readPoint(j,x),ge=Nf(te,Pe),pe=Nf(ce,Be);if(!_e&&!nt&&(!j.cancelable||(_e=ge>pe,!_e)))return he(j);const Le=i.pointerMove(j);ge>w&&(me=!0),c.useFriction(.3).useDuration(.75),a.start(),r.add(I(Le)),j.preventDefault()}function he(j){const te=d.byDistance(0,!1).index!==h.get(),ce=i.pointerUp(j)*Ye(),ge=dt(I(ce),te),pe=bY(ce,ge),Le=W-10*pe,Ae=T+pe/50;_e=!1,ye=!1,P.clear(),c.useDuration(Le).useFriction(Ae),u.distance(ge,!y),nt=!1,g.emit("pointerUp")}function ve(j){me&&(j.stopPropagation(),j.preventDefault(),me=!1)}function Re(){return ye}return{init:Ne,destroy:ot,pointerDown:Re}}function IY(t,e){let s,r;function i(h){return h.timeStamp}function o(h,g){const y=`client${(g||t.scroll)==="x"?"X":"Y"}`;return(bb(h,e)?h:h.touches[0])[y]}function a(h){return s=h,r=h,o(h)}function u(h){const g=o(h)-o(r),v=i(h)-i(s)>170;return r=h,v&&(s=h),g}function c(h){if(!s||!r)return 0;const g=o(r)-o(s),v=i(h)-i(s),y=i(h)-i(r)>170,w=g/v;return v&&!y&&jn(w)>.1?w:0}return{pointerDown:a,pointerMove:u,pointerUp:c,readPoint:o}}function AY(){function t(n){const{offsetTop:s,offsetLeft:r,offsetWidth:i,offsetHeight:o}=n;return{top:s,right:r+i,bottom:s+o,left:r,width:i,height:o}}return{measure:t}}function RY(t){function e(s){return t*(s/100)}return{measure:e}}function PY(t,e,n,s,r,i,o){const a=[t].concat(s);let u,c,d=[],h=!1;function g(E){return r.measureSize(o.measure(E))}function v(E){if(!i)return;c=g(t),d=s.map(g);function T(C){for(const x of C){if(h)return;const I=x.target===t,V=s.indexOf(x.target),F=I?c:d[V],k=g(I?t:s[V]);if(jn(k-F)>=.5){E.reInit(),e.emit("resize");break}}}u=new ResizeObserver(C=>{(mv(i)||i(E,C))&&T(C)}),n.requestAnimationFrame(()=>{a.forEach(C=>u.observe(C))})}function y(){h=!0,u&&u.disconnect()}return{init:v,destroy:y}}function kY(t,e,n,s,r,i){let o=0,a=0,u=r,c=i,d=t.get(),h=0;function g(){const F=s.get()-t.get(),k=!u;let P=0;return k?(o=0,n.set(s),t.set(s),P=F):(n.set(t),o+=F/u,o*=c,d+=o,t.add(o),P=d-h),a=TT(P),h=d,V}function v(){const F=s.get()-e.get();return jn(F)<.001}function y(){return u}function w(){return a}function E(){return o}function T(){return x(r)}function C(){return I(i)}function x(F){return u=F,V}function I(F){return c=F,V}const V={direction:w,duration:y,velocity:E,seek:g,settled:v,useBaseFriction:C,useBaseDuration:T,useFriction:I,useDuration:x};return V}function OY(t,e,n,s,r){const i=r.measure(10),o=r.measure(50),a=Wl(.1,.99);let u=!1;function c(){return!(u||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(v){if(!c())return;const y=t.reachedMin(e.get())?"min":"max",w=jn(t[y]-e.get()),E=n.get()-e.get(),T=a.constrain(w/o);n.subtract(E*T),!v&&jn(E)<i&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function h(v){u=!v}return{shouldConstrain:c,constrain:d,toggleActive:h}}function LY(t,e,n,s,r){const i=Wl(-e+t,0),o=h(),a=d(),u=g();function c(y,w){return Nf(y,w)<=1}function d(){const y=o[0],w=gi(o),E=o.lastIndexOf(y),T=o.indexOf(w)+1;return Wl(E,T)}function h(){return n.map((y,w)=>{const{min:E,max:T}=i,C=i.constrain(y),x=!w,I=ST(n,w);return x?T:I||c(E,C)?E:c(T,C)?T:C}).map(y=>parseFloat(y.toFixed(3)))}function g(){if(e<=t+r)return[i.max];if(s==="keepSnaps")return o;const{min:y,max:w}=a;return o.slice(y,w)}return{snapsContained:u,scrollContainLimit:a}}function DY(t,e,n){const s=e[0],r=n?s-t:gi(e);return{limit:Wl(r,s)}}function MY(t,e,n,s){const i=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:u}=Wl(i,o);function c(g){return g===1?u(n.get()):g===-1?a(n.get()):!1}function d(g){if(!c(g))return;const v=t*(g*-1);s.forEach(y=>y.add(v))}return{loop:d}}function NY(t){const{max:e,length:n}=t;function s(i){const o=i-e;return n?o/-n:0}return{get:s}}function VY(t,e,n,s,r){const{startEdge:i,endEdge:o}=t,{groupSlides:a}=r,u=h().map(e.measure),c=g(),d=v();function h(){return a(s).map(w=>gi(w)[o]-w[0][i]).map(jn)}function g(){return s.map(w=>n[i]-w[i]).map(w=>-jn(w))}function v(){return a(c).map(w=>w[0]).map((w,E)=>w+u[E])}return{snaps:c,snapsAligned:d}}function FY(t,e,n,s,r,i){const{groupSlides:o}=r,{min:a,max:u}=s,c=d();function d(){const g=o(i),v=!t||e==="keepSnaps";return n.length===1?[i]:v?g:g.slice(a,u).map((y,w,E)=>{const T=!w,C=ST(E,w);if(T){const x=gi(E[0])+1;return XI(x)}if(C){const x=jh(i)-gi(E)[0]+1;return XI(x,gi(E)[0])}return y})}return{slideRegistry:c}}function $Y(t,e,n,s,r){const{reachedAny:i,removeOffset:o,constrain:a}=s;function u(y){return y.concat().sort((w,E)=>jn(w)-jn(E))[0]}function c(y){const w=t?o(y):a(y),E=e.map((C,x)=>({diff:d(C-w,0),index:x})).sort((C,x)=>jn(C.diff)-jn(x.diff)),{index:T}=E[0];return{index:T,distance:w}}function d(y,w){const E=[y,y+n,y-n];if(!t)return y;if(!w)return u(E);const T=E.filter(C=>TT(C)===w);return T.length?u(T):gi(E)-n}function h(y,w){const E=e[y]-r.get(),T=d(E,w);return{index:y,distance:T}}function g(y,w){const E=r.get()+y,{index:T,distance:C}=c(E),x=!t&&i(E);if(!w||x)return{index:T,distance:y};const I=e[T]-C,V=y+d(I,0);return{index:T,distance:V}}return{byDistance:g,byIndex:h,shortcut:d}}function BY(t,e,n,s,r,i,o){function a(h){const g=h.distance,v=h.index!==e.get();i.add(g),g&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),v&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function u(h,g){const v=r.byDistance(h,g);a(v)}function c(h,g){const v=e.clone().set(h),y=r.byIndex(v.get(),g);a(y)}return{distance:u,index:c}}function UY(t,e,n,s,r,i,o,a){const u={passive:!0,capture:!0};let c=0;function d(v){if(!a)return;function y(w){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const C=n.findIndex(x=>x.includes(w));ET(C)&&(r.useDuration(0),s.index(C,0),o.emit("slideFocus"))}i.add(document,"keydown",h,!1),e.forEach((w,E)=>{i.add(w,"focus",T=>{(mv(a)||a(v,T))&&y(E)},u)})}function h(v){v.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function df(t){let e=t;function n(){return e}function s(u){e=o(u)}function r(u){e+=o(u)}function i(u){e-=o(u)}function o(u){return ET(u)?u:u.get()}return{get:n,set:s,add:r,subtract:i}}function uM(t,e){const n=t.scroll==="x"?o:a,s=e.style;let r=null,i=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function a(g){return`translate3d(0px,${g}px,0px)`}function u(g){if(i)return;const v=EY(t.direction(g));v!==r&&(s.transform=n(v),r=v)}function c(g){i=!g}function d(){i||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:u,toggleActive:c}}function zY(t,e,n,s,r,i,o,a,u){const d=dh(r),h=dh(r).reverse(),g=T().concat(C());function v(k,P){return k.reduce((A,N)=>A-r[N],P)}function y(k,P){return k.reduce((A,N)=>v(A,P)>0?A.concat([N]):A,[])}function w(k){return i.map((P,A)=>({start:P-s[A]+.5+k,end:P+e-.5+k}))}function E(k,P,A){const N=w(P);return k.map(U=>{const W=A?0:-n,q=A?n:0,Pe=A?"end":"start",Be=N[U][Pe];return{index:U,loopPoint:Be,slideLocation:df(-1),translate:uM(t,u[U]),target:()=>a.get()>Be?W:q}})}function T(){const k=o[0],P=y(h,k);return E(P,n,!1)}function C(){const k=e-o[0]-1,P=y(d,k);return E(P,-n,!0)}function x(){return g.every(({index:k})=>{const P=d.filter(A=>A!==k);return v(P,e)<=.1})}function I(){g.forEach(k=>{const{target:P,translate:A,slideLocation:N}=k,U=P();U!==N.get()&&(A.to(U),N.set(U))})}function V(){g.forEach(k=>k.translate.clear())}return{canLoop:x,clear:V,loop:I,loopPoints:g}}function jY(t,e,n){let s,r=!1;function i(u){if(!n)return;function c(d){for(const h of d)if(h.type==="childList"){u.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(d=>{r||(mv(n)||n(u,d))&&c(d)}),s.observe(t,{childList:!0})}function o(){s&&s.disconnect(),r=!0}return{init:i,destroy:o}}function HY(t,e,n,s){const r={};let i=null,o=null,a,u=!1;function c(){a=new IntersectionObserver(y=>{u||(y.forEach(w=>{const E=e.indexOf(w.target);r[E]=w}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),u=!0}function h(y){return fh(r).reduce((w,E)=>{const T=parseInt(E),{isIntersecting:C}=r[T];return(y&&C||!y&&!C)&&w.push(T),w},[])}function g(y=!0){if(y&&i)return i;if(!y&&o)return o;const w=h(y);return y&&(i=w),y||(o=w),w}return{init:c,destroy:d,get:g}}function qY(t,e,n,s,r,i){const{measureSize:o,startEdge:a,endEdge:u}=t,c=n[0]&&r,d=y(),h=w(),g=n.map(o),v=E();function y(){if(!c)return 0;const C=n[0];return jn(e[a]-C[a])}function w(){if(!c)return 0;const C=i.getComputedStyle(gi(s));return parseFloat(C.getPropertyValue(`margin-${u}`))}function E(){return n.map((C,x,I)=>{const V=!x,F=ST(I,x);return V?g[x]+d:F?g[x]+h:I[x+1][a]-C[a]}).map(jn)}return{slideSizes:g,slideSizesWithGaps:v,startGap:d,endGap:h}}function WY(t,e,n,s,r,i,o,a,u){const{startEdge:c,endEdge:d,direction:h}=t,g=ET(n);function v(T,C){return dh(T).filter(x=>x%C===0).map(x=>T.slice(x,x+C))}function y(T){return T.length?dh(T).reduce((C,x,I)=>{const V=gi(C)||0,F=V===0,k=x===jh(T),P=r[c]-i[V][c],A=r[c]-i[x][d],N=!s&&F?h(o):0,U=!s&&k?h(a):0,W=jn(A-U-(P+N));return I&&W>e+u&&C.push(x),k&&C.push(T.length),C},[]).map((C,x,I)=>{const V=Math.max(I[x-1]||0);return T.slice(V,C)}):[]}function w(T){return g?v(T,n):y(T)}return{groupSlides:w}}function GY(t,e,n,s,r,i,o){const{align:a,axis:u,direction:c,startIndex:d,loop:h,duration:g,dragFree:v,dragThreshold:y,inViewThreshold:w,slidesToScroll:E,skipSnaps:T,containScroll:C,watchResize:x,watchSlides:I,watchDrag:V,watchFocus:F}=i,k=2,P=AY(),A=P.measure(e),N=n.map(P.measure),U=CY(u,c),W=U.measureSize(A),q=RY(W),Pe=TY(a,W),Be=!h&&!!C,ye=h||!!C,{slideSizes:_e,slideSizesWithGaps:me,startGap:nt,endGap:Ne}=qY(U,A,N,n,ye,r),ot=WY(U,W,E,h,A,N,nt,Ne,k),{snaps:lt,snapsAligned:pt}=VY(U,Pe,A,N,ot),Ye=-gi(lt)+gi(me),{snapsContained:dt,scrollContainLimit:we}=LY(W,Ye,pt,C,k),ee=Be?dt:pt,{limit:he}=DY(Ye,ee,h),ve=lM(jh(ee),d,h),Re=ve.clone(),Ue=dh(n),j=({dragHandler:cn,scrollBody:se,scrollBounds:ne,options:{loop:be}})=>{be||ne.constrain(cn.pointerDown()),se.seek()},G=({scrollBody:cn,translate:se,location:ne,offsetLocation:be,previousLocation:Ve,scrollLooper:He,slideLooper:ut,dragHandler:Je,animation:an,eventHandler:_n,scrollBounds:Dn,options:{loop:Bt}},xn)=>{const Bn=cn.settled(),Mn=!Dn.shouldConstrain(),Er=Bt?Bn:Bn&&Mn,Tr=Er&&!Je.pointerDown();Tr&&an.stop();const Oi=ne.get()*xn+Ve.get()*(1-xn);be.set(Oi),Bt&&(He.loop(cn.direction()),ut.loop()),se.to(be.get()),Tr&&_n.emit("settle"),Er||_n.emit("scroll")},te=SY(s,r,()=>j(Ln),cn=>G(Ln,cn)),ce=.68,ge=ee[ve.get()],pe=df(ge),Le=df(ge),Ae=df(ge),xe=df(ge),Se=kY(pe,Ae,Le,xe,g,ce),rt=$Y(h,ee,Ye,he,xe),De=BY(te,ve,Re,Se,rt,xe,o),Qe=NY(he),ft=hh(),st=HY(e,n,o,w),{slideRegistry:yt}=FY(Be,C,ee,we,ot,Ue),Nt=UY(t,n,yt,De,Se,ft,o,F),Ln={ownerDocument:s,ownerWindow:r,eventHandler:o,containerRect:A,slideRects:N,animation:te,axis:U,dragHandler:xY(U,t,s,r,xe,IY(U,r),pe,te,De,Se,rt,ve,o,q,v,y,T,ce,V),eventStore:ft,percentOfView:q,index:ve,indexPrevious:Re,limit:he,location:pe,offsetLocation:Ae,previousLocation:Le,options:i,resizeHandler:PY(e,o,r,n,U,x,P),scrollBody:Se,scrollBounds:OY(he,Ae,xe,Se,q),scrollLooper:MY(Ye,he,Ae,[pe,Ae,Le,xe]),scrollProgress:Qe,scrollSnapList:ee.map(Qe.get),scrollSnaps:ee,scrollTarget:rt,scrollTo:De,slideLooper:zY(U,W,Ye,_e,me,lt,ee,Ae,n),slideFocus:Nt,slidesHandler:jY(e,o,I),slidesInView:st,slideIndexes:Ue,slideRegistry:yt,slidesToScroll:ot,target:xe,translate:uM(U,e)};return Ln}function KY(){let t={},e;function n(c){e=c}function s(c){return t[c]||[]}function r(c){return s(c).forEach(d=>d(e,c)),u}function i(c,d){return t[c]=s(c).concat([d]),u}function o(c,d){return t[c]=s(c).filter(h=>h!==d),u}function a(){t={}}const u={init:n,emit:r,off:o,on:i,clear:a};return u}const ZY={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function YY(t){function e(i,o){return aM(i,o||{})}function n(i){const o=i.breakpoints||{},a=fh(o).filter(u=>t.matchMedia(u).matches).map(u=>o[u]).reduce((u,c)=>e(u,c),{});return e(i,a)}function s(i){return i.map(o=>fh(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:s}}function QY(t){let e=[];function n(i,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(i,t)),o.reduce((a,u)=>Object.assign(a,{[u.name]:u}),{})}function s(){e=e.filter(i=>i.destroy())}return{init:n,destroy:s}}function yg(t,e,n){const s=t.ownerDocument,r=s.defaultView,i=YY(r),o=QY(i),a=hh(),u=KY(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:h}=i,{on:g,off:v,emit:y}=u,w=U;let E=!1,T,C=c(ZY,yg.globalOptions),x=c(C),I=[],V,F,k;function P(){const{container:Ue,slides:j}=x;F=(wb(Ue)?t.querySelector(Ue):Ue)||t.children[0];const te=wb(j)?F.querySelectorAll(j):j;k=[].slice.call(te||F.children)}function A(Ue){const j=GY(t,F,k,s,r,Ue,u);if(Ue.loop&&!j.slideLooper.canLoop()){const G=Object.assign({},Ue,{loop:!1});return A(G)}return j}function N(Ue,j){E||(C=c(C,Ue),x=d(C),I=j||I,P(),T=A(x),h([C,...I.map(({options:G})=>G)]).forEach(G=>a.add(G,"change",U)),x.active&&(T.translate.to(T.location.get()),T.animation.init(),T.slidesInView.init(),T.slideFocus.init(Re),T.eventHandler.init(Re),T.resizeHandler.init(Re),T.slidesHandler.init(Re),T.options.loop&&T.slideLooper.loop(),F.offsetParent&&k.length&&T.dragHandler.init(Re),V=o.init(Re,I)))}function U(Ue,j){const G=ot();W(),N(c({startIndex:G},Ue),j),u.emit("reInit")}function W(){T.dragHandler.destroy(),T.eventStore.clear(),T.translate.clear(),T.slideLooper.clear(),T.resizeHandler.destroy(),T.slidesHandler.destroy(),T.slidesInView.destroy(),T.animation.destroy(),o.destroy(),a.clear()}function q(){E||(E=!0,a.clear(),W(),u.emit("destroy"),u.clear())}function Pe(Ue,j,G){!x.active||E||(T.scrollBody.useBaseFriction().useDuration(j===!0?0:x.duration),T.scrollTo.index(Ue,G||0))}function Be(Ue){const j=T.index.add(1).get();Pe(j,Ue,-1)}function ye(Ue){const j=T.index.add(-1).get();Pe(j,Ue,1)}function _e(){return T.index.add(1).get()!==ot()}function me(){return T.index.add(-1).get()!==ot()}function nt(){return T.scrollSnapList}function Ne(){return T.scrollProgress.get(T.offsetLocation.get())}function ot(){return T.index.get()}function lt(){return T.indexPrevious.get()}function pt(){return T.slidesInView.get()}function Ye(){return T.slidesInView.get(!1)}function dt(){return V}function we(){return T}function ee(){return t}function he(){return F}function ve(){return k}const Re={canScrollNext:_e,canScrollPrev:me,containerNode:he,internalEngine:we,destroy:q,off:v,on:g,emit:y,plugins:dt,previousScrollSnap:lt,reInit:w,rootNode:ee,scrollNext:Be,scrollPrev:ye,scrollProgress:Ne,scrollSnapList:nt,scrollTo:Pe,selectedScrollSnap:ot,slideNodes:ve,slidesInView:pt,slidesNotInView:Ye};return N(e,n),setTimeout(()=>u.emit("init"),0),Re}yg.globalOptions=void 0;function CT(t={},e=[]){const n=Dt(t),s=Dt(e);let r=n?t.value:t,i=s?e.value:e;const o=Cs(),a=Cs();function u(){a.value&&a.value.reInit(r,i)}return bt(()=>{!yY()||!o.value||(yg.globalOptions=CT.globalOptions,a.value=yg(o.value,r,i))}),ra(()=>{a.value&&a.value.destroy()}),n&&ct(t,c=>{bT(r,c)||(r=c,u())}),s&&ct(e,c=>{wY(i,c)||(i=c,u())}),[o,a]}CT.globalOptions=void 0;const[XY,JY]=fH(({opts:t,orientation:e,plugins:n},s)=>{const[r,i]=CT({...t,axis:e==="horizontal"?"x":"y"},n);function o(){var h;(h=i.value)==null||h.scrollPrev()}function a(){var h;(h=i.value)==null||h.scrollNext()}const u=Z(!1),c=Z(!1);function d(h){u.value=(h==null?void 0:h.canScrollNext())||!1,c.value=(h==null?void 0:h.canScrollPrev())||!1}return bt(()=>{var h,g,v;i.value&&((h=i.value)==null||h.on("init",d),(g=i.value)==null||g.on("reInit",d),(v=i.value)==null||v.on("select",d),s("init-api",i.value))}),{carouselRef:r,carouselApi:i,canScrollPrev:c,canScrollNext:u,scrollPrev:o,scrollNext:a,orientation:e}});function gv(){const t=JY();if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const eQ=K({__name:"Carousel",props:{opts:{},plugins:{},orientation:{default:"horizontal"},class:{}},emits:["init-api"],setup(t,{expose:e,emit:n}){const s=t,r=n,{canScrollNext:i,canScrollPrev:o,carouselApi:a,carouselRef:u,orientation:c,scrollNext:d,scrollPrev:h}=XY(s,r);e({canScrollNext:i,canScrollPrev:o,carouselApi:a,carouselRef:u,orientation:c,scrollNext:d,scrollPrev:h});function g(v){const y=s.orientation==="vertical"?"ArrowUp":"ArrowLeft",w=s.orientation==="vertical"?"ArrowDown":"ArrowRight";if(v.key===y){v.preventDefault(),h();return}v.key===w&&(v.preventDefault(),d())}return(v,y)=>($(),ie("div",{class:vt(m(Fe)("relative",s.class)),role:"region","aria-roledescription":"carousel",tabindex:"0",onKeydown:g},[J(v.$slots,"default",{canScrollNext:m(i),canScrollPrev:m(o),carouselApi:m(a),carouselRef:m(u),orientation:m(c),scrollNext:m(d),scrollPrev:m(h)})],34))}}),tQ=K({inheritAttrs:!1,__name:"CarouselContent",props:{class:{}},setup(t){const e=t,{carouselRef:n,orientation:s}=gv();return(r,i)=>($(),ie("div",{ref_key:"carouselRef",ref:n,class:"overflow-hidden"},[z("div",fe({class:m(Fe)("flex",m(s)==="horizontal"?"-ml-4":"-mt-4 flex-col",e.class)},r.$attrs),[J(r.$slots,"default")],16)],512))}}),nQ=K({__name:"CarouselItem",props:{class:{}},setup(t){const e=t,{orientation:n}=gv();return(s,r)=>($(),ie("div",{role:"group","aria-roledescription":"slide",class:vt(m(Fe)("min-w-0 shrink-0 grow-0 basis-full",m(n)==="horizontal"?"pl-4":"pt-4",e.class))},[J(s.$slots,"default")],2))}}),sQ=K({__name:"CarouselNext",props:{class:{}},setup(t){const e=t,{orientation:n,canScrollNext:s,scrollNext:r}=gv();return(i,o)=>($(),Y(m(Zt),{disabled:!m(s),class:vt(m(Fe)("touch-manipulation absolute h-8 w-8 rounded-full p-0",m(n)==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",e.class)),variant:"outline",onClick:m(r)},{default:O(()=>[J(i.$slots,"default",{},()=>[M(m($6),{class:"h-4 w-4 text-current"}),o[0]||(o[0]=z("span",{class:"sr-only"},"Next Slide",-1))])]),_:3},8,["disabled","class","onClick"]))}}),rQ=K({__name:"CarouselPrevious",props:{class:{}},setup(t){const e=t,{orientation:n,canScrollPrev:s,scrollPrev:r}=gv();return(i,o)=>($(),Y(m(Zt),{disabled:!m(s),class:vt(m(Fe)("touch-manipulation absolute h-8 w-8 rounded-full p-0",m(n)==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",e.class)),variant:"outline",onClick:m(r)},{default:O(()=>[J(i.$slots,"default",{},()=>[M(m(F6),{class:"h-4 w-4 text-current"}),o[0]||(o[0]=z("span",{class:"sr-only"},"Previous Slide",-1))])]),_:3},8,["disabled","class","onClick"]))}}),iQ={class:"px-4 md:px-12 py-12"},oQ={class:"rounded-lg overflow-hidden shadow-md relative group"},aQ=["src","alt"],lQ={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white p-4"},uQ={class:"font-semibold text-lg"},cQ={class:"text-sm text-gray-200"},dQ=K({__name:"Carousel",setup(t){const e=[{name:"Delhi",desc:"An amazing journey",image:"dehli.jpg"},{name:"Madrid",desc:"Palace Adventure",image:"madrid.webp"},{name:"Sydney",desc:"Land of new adventure",image:"sydney.jpg"},{name:"Warsaw",desc:"Amazing streets",image:"warsaw.jpg"},{name:"Berlin",desc:"Amazing streets",image:"berlin.jpg"}],n=s=>`/vue-hotel-reservation/cards/${s}`;return(s,r)=>($(),ie("section",iQ,[r[1]||(r[1]=z("h2",{class:"text-2xl font-bold mb-6"},"Popular Places",-1)),M(m(eQ),{class:"w-full"},{default:O(()=>[M(m(tQ),null,{default:O(()=>[($(),ie(Ke,null,jt(e,(i,o)=>M(m(nQ),{key:o,class:"basis-auto md:basis-1/4"},{default:O(()=>[z("div",oQ,[z("img",{src:n(i.image),alt:i.name,class:"w-full h-72 object-cover"},null,8,aQ),z("div",lQ,[z("h3",uQ,Ie(i.name),1),z("p",cQ,Ie(i.desc),1),M(Zt,{class:"mt-3 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 text-sm rounded-md transition"},{default:O(()=>r[0]||(r[0]=[ae(" Book a Hotel ")])),_:1})])])]),_:2},1024)),64))]),_:1}),M(m(rQ)),M(m(sQ))]),_:1})]))}}),fQ={class:"py-20 px-6 md:px-12 bg-white text-center"},hQ={class:"flex flex-col md:flex-row justify-center items-start gap-12 w-full mx-auto"},pQ=["src","alt"],mQ={class:"flex items-center gap-1 text-cyan-500 mb-4 text-lg"},gQ={class:"text-gray-700 text-lg leading-relaxed mb-4"},_Q={class:"font-semibold text-black text-base"},vQ=K({__name:"Testimonals",setup(t){const e=s=>`/vue-hotel-reservation/${s}`,n=[{name:"Janet House",image:e("woman.jpg"),text:"We love Landingfolio! Our designers were using it for their projects, so we already knew what kind of design they want."},{name:"James Scott",image:e("man.jpg"),text:"We love Landingfolio! Our designers were using it for their projects, so we already knew what kind of design they want."},{name:"James Scott",image:e("man.jpg"),text:"We love Landingfolio! Our designers were using it for their projects, so we already knew what kind of design they want."},{name:"James Scott",image:e("man.jpg"),text:"We love Landingfolio! Our designers were using it for their projects, so we already knew what kind of design they want."}];return(s,r)=>($(),ie("section",fQ,[r[0]||(r[0]=z("p",{class:"text-cyan-500 uppercase font-semibold text-sm tracking-wide mb-3"}," Testimonials ",-1)),r[1]||(r[1]=z("h2",{class:"text-4xl md:text-5xl font-bold mb-16"}," Dont just take our words ",-1)),z("div",hQ,[($(),ie(Ke,null,jt(n,(i,o)=>z("div",{key:o,class:"flex flex-col items-center text-center md:text-left max-w-sm"},[z("img",{src:i.image,alt:i.name,class:"w-36 h-36 object-cover rounded-xl shadow-lg mb-6"},null,8,pQ),z("div",mQ,[($(),ie(Ke,null,jt(5,a=>z("span",{key:a},"")),64))]),z("p",gQ,Ie(i.text),1),z("p",_Q,Ie(i.name),1)])),64))])]))}}),yQ=K({__name:"Home",setup(t){return(e,n)=>($(),ie(Ke,null,[M(dQ),M(vQ)],64))}}),wQ={class:"w-full bg-cyan-700 px-8 py-4 flex items-center justify-between shadow-md"},bQ={key:0,class:"flex items-center"},EQ={class:"flex items-center space-x-6"},TQ=K({__name:"HeaderMain",setup(t){const e=ho();return(n,s)=>{const r=Xr("RouterLink"),i=Xr("Spinner");return $(),ie("header",wQ,[M(r,{to:{name:m(Kc)},class:"text-white text-2xl font-semibold"},{default:O(()=>s[0]||(s[0]=[ae(" Hotel"),z("span",{class:"bg-white text-cyan-700 px-2 py-1 rounded-md ml-1"},"hub",-1)])),_:1},8,["to"]),m(e).loading?($(),ie("div",bQ,[M(i,{class:"h-6 w-6"})])):Ht("",!0),z("nav",EQ,[m(e).isLoggedIn?($(),ie(Ke,{key:1},[M(r,{to:{name:m(pE)},class:"hover:text-cyan-300 transition cursor-pointer text-white"},{default:O(()=>s[3]||(s[3]=[ae(" Profile ")])),_:1},8,["to"]),M(r,{to:{name:m(fE)},class:"hover:text-cyan-300 transition cursor-pointer text-white"},{default:O(()=>s[4]||(s[4]=[ae(" Followed ")])),_:1},8,["to"]),M(Zt,{onClick:m(e).logout,class:"bg-white text-cyan-700 font-semibold px-5 py-2 rounded-md hover:bg-white/90 transition shadow-sm"},{default:O(()=>s[5]||(s[5]=[ae(" Sign Out ")])),_:1},8,["onClick"])],64)):($(),ie(Ke,{key:0},[M(r,{to:{name:m(Bl)},class:"hover:text-cyan-300 transition cursor-pointer text-white"},{default:O(()=>s[1]||(s[1]=[ae(" Log In ")])),_:1},8,["to"]),M(r,{to:{name:m(hE)},class:"bg-cyan-500 hover:bg-cyan-600 text-white font-semibold px-5 py-2 rounded-md hover:bg-white/90 transition shadow-sm inline-block"},{default:O(()=>s[2]||(s[2]=[ae(" Sign Up ")])),_:1},8,["to"])],64))])])}}}),SQ={class:"bg-gray-50 text-gray-700 py-16 px-6 md:px-12"},CQ={class:"max-w-8xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12"},xQ={class:"space-y-2 text-sm"},IQ=["href"],AQ=["href"],RQ=["href"],PQ=K({__name:"Footer",setup(t){return(e,n)=>($(),ie("footer",SQ,[z("div",CQ,[n[2]||(n[2]=Um('<div><h3 class="text-lg font-semibold mb-2">About</h3><p class="font-semibold">Rareblocks</p><p class="text-sm mt-2"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam dictum aliquet accumsan porta lectus ridiculus in mattis. Netus sodales in volutpat ullamcorper amet adipiscing fermentum. </p><div class="flex gap-4 mt-5 text-xl"><a href="#" class="hover:text-cyan-500"><i class="fab fa-twitter"></i></a><a href="#" class="hover:text-cyan-500"><i class="fab fa-facebook"></i></a><a href="#" class="hover:text-cyan-500"><i class="fab fa-instagram"></i></a><a href="#" class="hover:text-cyan-500"><i class="fab fa-github"></i></a></div></div><div><h3 class="text-lg font-semibold mb-3">Company</h3><ul class="space-y-2 text-sm"><li><a href="#" class="hover:text-cyan-500">About</a></li><li><a href="#" class="hover:text-cyan-500">Features</a></li><li><a href="#" class="hover:text-cyan-500">Works</a></li><li><a href="#" class="hover:text-cyan-500">Career</a></li></ul></div>',2)),z("div",null,[n[1]||(n[1]=z("h3",{class:"text-lg font-semibold mb-3"},"Help",-1)),z("ul",xQ,[z("li",null,[z("a",{href:m(vm),class:"hover:text-cyan-500"},"Customer Support",8,IQ)]),n[0]||(n[0]=z("li",null,[z("a",{href:"#",class:"hover:text-cyan-500"},"Delivery Details")],-1)),z("li",null,[z("a",{href:m(vm),class:"hover:text-cyan-500"},"Terms & Conditions",8,AQ)]),z("li",null,[z("a",{href:m(vm),class:"hover:text-cyan-500"},"Privacy Policy",8,RQ)])])]),n[3]||(n[3]=Um('<div><h3 class="text-lg font-semibold mb-3">Resources</h3><ul class="space-y-2 text-sm"><li><a href="#" class="hover:text-cyan-500">Free eBooks</a></li><li><a href="#" class="hover:text-cyan-500">Development Tutorial</a></li><li><a href="#" class="hover:text-cyan-500">How to  Blog</a></li><li><a href="#" class="hover:text-cyan-500">Youtube Playlist</a></li></ul></div>',1))])]))}}),kQ={class:"min-h-screen flex flex-col"},OQ={class:"flex-1"},LQ={__name:"UserLayout",setup(t){const e=ao(),n=Q(()=>(e==null?void 0:e.name)==="HomeUser");return(s,r)=>{const i=Xr("router-view");return $(),ie("div",kQ,[($(),Y(bi(n.value?_Y:TQ),{key:m(e).name})),z("div",OQ,[M(i)]),M(PQ)])}}},DQ=K({__name:"App",setup(t){const e=ao(),n=Q(()=>e.meta.layout||"user");return(s,r)=>($(),ie(Ke,null,[($(),Y(bi(n.value==="admin"?y5:LQ))),M(eY)],64))}});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ=new Map,NQ={activated:!1,tokenObservers:[]};function Ri(t){return MQ.get(t)||Object.assign({},NQ)}const JI={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e,n,s,r,i){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=s,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new th,this.pending.promise.catch(n=>{}),await FQ(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new th,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function FQ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},wg=new Yc("appCheck","AppCheck",$Q);function cM(t){if(!Ri(t).activated)throw wg.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="firebase-app-check-database",UQ=1,Eb="firebase-app-check-store";let Xp=null;function zQ(){return Xp||(Xp=new Promise((t,e)=>{try{const n=indexedDB.open(BQ,UQ);n.onsuccess=s=>{t(s.target.result)},n.onerror=s=>{var r;e(wg.create("storage-open",{originalErrorMessage:(r=s.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=s=>{const r=s.target.result;switch(s.oldVersion){case 0:r.createObjectStore(Eb,{keyPath:"compositeKey"})}}}catch(n){e(wg.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Xp)}function jQ(t,e){return HQ(qQ(t),e)}async function HQ(t,e){const s=(await zQ()).transaction(Eb,"readwrite"),i=s.objectStore(Eb).put({compositeKey:t,value:e});return new Promise((o,a)=>{i.onsuccess=u=>{o()},s.onerror=u=>{var c;a(wg.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})}function qQ(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Oh("@firebase/app-check");function eA(t,e){return vO()?jQ(t,e).catch(n=>{Tb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ={error:"UNKNOWN_ERROR"};function GQ(t){return L_.encodeString(JSON.stringify(t),!1)}async function Sb(t,e=!1,n=!1){const s=t.app;cM(s);const r=Ri(s);let i=r.token,o;if(i&&!ff(i)&&(r.token=void 0,i=void 0),!i){const c=await r.cachedTokenPromise;c&&(ff(c)?i=c:await eA(s,void 0))}if(!e&&i&&ff(i))return{token:i.token};let a=!1;try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),i=await Ri(s).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Tb.warn(c.message):n&&Tb.error(c),o=c}let u;return i?o?ff(i)?u={token:i.token,internalError:o}:u=nA(o):(u={token:i.token},r.token=i,await eA(s,i)):u=nA(o),a&&QQ(s,u),u}async function KQ(t){const e=t.app;cM(e);const{provider:n}=Ri(e);{const{token:s}=await n.getToken();return{token:s}}}function ZQ(t,e,n,s){const{app:r}=t,i=Ri(r),o={next:n,error:s,type:e};if(i.tokenObservers=[...i.tokenObservers,o],i.token&&ff(i.token)){const a=i.token;Promise.resolve().then(()=>{n({token:a.token}),tA(t)}).catch(()=>{})}i.cachedTokenPromise.then(()=>tA(t))}function dM(t,e){const n=Ri(t),s=n.tokenObservers.filter(r=>r.next!==e);s.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=s}function tA(t){const{app:e}=t,n=Ri(e);let s=n.tokenRefresher;s||(s=YQ(t),n.tokenRefresher=s),!s.isRunning()&&n.isTokenAutoRefreshEnabled&&s.start()}function YQ(t){const{app:e}=t;return new VQ(async()=>{const n=Ri(e);let s;if(n.token?s=await Sb(t,!0):s=await Sb(t),s.error)throw s.error;if(s.internalError)throw s.internalError},()=>!0,()=>{const n=Ri(e);if(n.token){let s=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const r=n.token.expireTimeMillis-5*60*1e3;return s=Math.min(s,r),Math.max(0,s-Date.now())}else return 0},JI.RETRIAL_MIN_WAIT,JI.RETRIAL_MAX_WAIT)}function QQ(t,e){const n=Ri(t).tokenObservers;for(const s of n)try{s.type==="EXTERNAL"&&e.error!=null?s.error(e.error):s.next(e)}catch{}}function ff(t){return t.expireTimeMillis-Date.now()>0}function nA(t){return{token:GQ(WQ),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ri(this.app);for(const n of e)dM(this.app,n.next);return Promise.resolve()}}function JQ(t,e){return new XQ(t,e)}function eX(t){return{getToken:e=>Sb(t,e),getLimitedUseToken:()=>KQ(t),addTokenListener:e=>ZQ(t,"INTERNAL",e),removeTokenListener:e=>dM(t.app,e)}}const tX="@firebase/app-check",nX="0.8.13",sX="app-check",sA="app-check-internal";function rX(){so(new xi(sX,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return JQ(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(sA).initialize()})),so(new xi(sA,t=>{const e=t.getProvider("app-check").getImmediate();return eX(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Lr(tX,nX)}rX();const fM=Symbol("firebaseApp");function _v(t){return ps()&&ln(fM,null)||V_(t)}const Hi=()=>{};function xT(t,e){return e.split(".").reduce((n,s)=>n&&n[s],t)}function iX(t,e,n){const s=(""+e).split("."),r=s.pop(),i=s.reduce((o,a)=>o&&o[a],t);if(i!=null)return Array.isArray(i)?i.splice(Number(r),1,n):i[r]=n}function mu(t){return!!t&&typeof t=="object"}const oX=Object.prototype;function aX(t){return mu(t)&&Object.getPrototypeOf(t)===oX}function IT(t){return mu(t)&&t.type==="document"}function lX(t){return mu(t)&&t.type==="collection"}function uX(t){return IT(t)||lX(t)}function cX(t){return mu(t)&&t.type==="query"}function dX(t){return mu(t)&&"ref"in t}function fX(t){return mu(t)&&typeof t.bucket=="string"}function hX(t,e){let n;return()=>{if(!n)return n=!0,t(e())}}const pX=Symbol.for("v-scx");function mX(){return!!ln(pX,0)}const Jp=new WeakMap;function hM(t,e){if(!Jp.has(t)){const n=Uc(!0);Jp.set(t,n);const{unmount:s}=e;e.unmount=()=>{s.call(e),n.stop(),Jp.delete(t)}}return Jp.get(t)}const gX=new WeakMap,em=new WeakMap;function pM(t){const e=_v(t);if(!em.has(e)){let n;const r=[new Promise(i=>{n=i}),i=>{em.set(e,i),n(i.value)}];em.set(e,r)}return em.get(e)}function _X(t){const e=pM(t);return Array.isArray(e)?e[0]:Promise.resolve(e.value)}function vX(t,e){GD(e,n=>{const s=pM();t.value=n,Array.isArray(s)&&s[1](t)})}var rA={};const iA="@firebase/database",oA="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mM="";function yX(t){mM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Rs(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:nh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ia(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wX(e)}}catch{}return new bX},Rl=gM("localStorage"),EX=gM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Oh("@firebase/database"),TX=function(){let t=1;return function(){return t++}}(),_M=function(t){const e=i9(t),n=new e9;n.update(e);const s=n.digest();return L_.encodeByteArray(s)},Hh=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Hh.apply(null,s):typeof s=="object"?e+=Rs(s):e+=s,e+=" "}return e};let Vf=null,aA=!0;const SX=function(t,e){ze(!0,"Can't turn on custom loggers persistently."),gc.logLevel=zt.VERBOSE,Vf=gc.log.bind(gc)},Bs=function(...t){if(aA===!0&&(aA=!1,Vf===null&&EX.get("logging_enabled")===!0&&SX()),Vf){const e=Hh.apply(null,t);Vf(e)}},qh=function(t){return function(...e){Bs(t,...e)}},Cb=function(...t){const e="FIREBASE INTERNAL ERROR: "+Hh(...t);gc.error(e)},Gl=function(...t){const e=`FIREBASE FATAL ERROR: ${Hh(...t)}`;throw gc.error(e),new Error(e)},Dr=function(...t){const e="FIREBASE WARNING: "+Hh(...t);gc.warn(e)},CX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},xX=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mc="[MIN_NAME]",Kl="[MAX_NAME]",id=function(t,e){if(t===e)return 0;if(t===Mc||e===Kl)return-1;if(e===Mc||t===Kl)return 1;{const n=lA(t),s=lA(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},IX=function(t,e){return t===e?0:t<e?-1:1},Gd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Rs(e))},AT=function(t){if(typeof t!="object"||t===null)return Rs(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=Rs(e[s]),n+=":",n+=AT(t[e[s]]);return n+="}",n},yM=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function ti(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const wM=function(t){ze(!vM(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,o,a,u;t===0?(i=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();const d=c.join("");let h="";for(u=0;u<64;u+=8){let g=parseInt(d.substr(u,8),2).toString(16);g.length===1&&(g="0"+g),h=h+g}return h.toLowerCase()},AX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},PX=new RegExp("^-?(0*)\\d{1,10}$"),kX=-2147483648,OX=2147483647,lA=function(t){if(PX.test(t)){const e=Number(t);if(e>=kX&&e<=OX)return e}return null},Wh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Dr("Exception was thrown by user callback.",n),e},Math.floor(0))}},LX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ff=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,cr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Dr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MX{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Bs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="5",bM="v",EM="s",TM="r",SM="f",CM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xM="ls",IM="p",xb="ac",AM="websocket",RM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NX{constructor(e,n,s,r,i=!1,o="",a=!1,u=!1,c=null){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function VX(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function PM(t,e,n){ze(typeof e=="string","typeof type must == string"),ze(typeof n=="object","typeof params must == object");let s;if(e===AM)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===RM)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);VX(t)&&(n.ns=t.namespace);const r=[];return ti(n,(i,o)=>{r.push(i+"="+o)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(){this.counters_={}}incrementCounter(e,n=1){ia(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return N5(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={},Ry={};function PT(t){const e=t.toString();return Ay[e]||(Ay[e]=new FX),Ay[e]}function $X(t,e){const n=t.toString();return Ry[n]||(Ry[n]=e()),Ry[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&Wh(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="start",UX="close",zX="pLPCommand",jX="pRTLPCB",kM="id",OM="pw",LM="ser",HX="cb",qX="seg",WX="ts",GX="d",KX="dframe",DM=1870,MM=30,ZX=DM-MM,YX=25e3,QX=3e4;class nc{constructor(e,n,s,r,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qh(e),this.stats_=PT(n),this.urlFn=u=>(this.appCheckToken&&(u[xb]=this.appCheckToken),PM(n,RM,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(QX)),xX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kT((...i)=>{const[o,a,u,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===uA)this.id=a,this.password=u;else if(o===UX)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[uA]="t",s[LM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[HX]=this.scriptTagHolder.uniqueCallbackIdentifier),s[bM]=RT,this.transportSessionId&&(s[EM]=this.transportSessionId),this.lastSessionId&&(s[xM]=this.lastSessionId),this.applicationId&&(s[IM]=this.applicationId),this.appCheckToken&&(s[xb]=this.appCheckToken),typeof location<"u"&&location.hostname&&CM.test(location.hostname)&&(s[TM]=SM);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nc.forceAllow_=!0}static forceDisallow(){nc.forceDisallow_=!0}static isAvailable(){return nc.forceAllow_?!0:!nc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AX()&&!RX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Rs(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=cO(n),r=yM(s,ZX);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[KX]="t",s[kM]=e,s[OM]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Rs(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kT{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TX(),window[zX+this.uniqueCallbackIdentifier]=e,window[jX+this.uniqueCallbackIdentifier]=n,this.myIFrame=kT.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Bs("frame writing exception"),a.stack&&Bs(a.stack),Bs(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Bs("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[kM]=this.myID,e[OM]=this.myPW,e[LM]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+MM+s.length<=DM;){const o=this.pendingSegs.shift();s=s+"&"+qX+r+"="+o.seg+"&"+WX+r+"="+o.ts+"&"+GX+r+"="+o.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(YX)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{Bs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=16384,JX=45e3;let bg=null;typeof MozWebSocket<"u"?bg=MozWebSocket:typeof WebSocket<"u"&&(bg=WebSocket);class fi{constructor(e,n,s,r,i,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qh(this.connId),this.stats_=PT(n),this.connURL=fi.connectionURL_(n,o,a,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const o={};return o[bM]=RT,typeof location<"u"&&location.hostname&&CM.test(location.hostname)&&(o[TM]=SM),n&&(o[EM]=n),s&&(o[xM]=s),r&&(o[xb]=r),i&&(o[IM]=i),PM(e,AM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rl.set("previous_websocket_failure",!0);try{let s;W5(),this.mySock=new bg(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){fi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&bg!==null&&!fi.forceDisallow_}static previouslyFailed(){return Rl.isInMemoryStorage||Rl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=nh(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ze(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=Rs(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=yM(n,XX);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JX))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fi.responsesRequiredToBeHealthy=2;fi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{static get ALL_TRANSPORTS(){return[nc,fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=fi&&fi.isAvailable();let s=n&&!fi.previouslyFailed();if(e.webSocketOnly&&(n||Dr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[fi];else{const r=this.transports_=[];for(const i of ph.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);ph.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ph.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eJ=6e4,tJ=5e3,nJ=10*1024,sJ=100*1024,Py="t",cA="d",rJ="s",dA="r",iJ="e",fA="o",hA="a",pA="n",mA="p",oJ="h";class aJ{constructor(e,n,s,r,i,o,a,u,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qh("c:"+this.id+":"),this.transportManager_=new ph(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ff(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Py in e){const n=e[Py];n===hA?this.upgradeIfSecondaryHealthy_():n===dA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gd("t",e),s=Gd("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gd("t",e),s=Gd("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gd(Py,e);if(cA in e){const s=e[cA];if(n===oJ){const r=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===pA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rJ?this.onConnectionShutdown_(s):n===dA?this.onReset_(s):n===iJ?Cb("Server Error: "+s):n===fA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),RT!==s&&Dr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ff(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ff(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mA,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.allowedEvents_=e,this.listeners_={},ze(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){ze(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends VM{static getInstance(){return new Eg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ze(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=32,_A=768;class On{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function En(){return new On("")}function tn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Xa(t){return t.pieces_.length-t.pieceNum_}function Rn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new On(t.pieces_,e)}function FM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lJ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $M(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new On(e,0)}function Ss(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof On)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new On(n,0)}function Yt(t){return t.pieceNum_>=t.pieces_.length}function Wr(t,e){const n=tn(t),s=tn(e);if(n===null)return e;if(n===s)return Wr(Rn(t),Rn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UM(t,e){if(Xa(t)!==Xa(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function hi(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Xa(t)>Xa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class uJ{constructor(e,n){this.errorPrefix_=n,this.parts_=$M(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=M_(this.parts_[s]);zM(this)}}function cJ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=M_(e),zM(t)}function dJ(t){const e=t.parts_.pop();t.byteLength_-=M_(e),t.parts_.length>0&&(t.byteLength_-=1)}function zM(t){if(t.byteLength_>_A)throw new Error(t.errorPrefix_+"has a key path longer than "+_A+" bytes ("+t.byteLength_+").");if(t.parts_.length>gA)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gA+") or object contains a cycle "+xl(t))}function xl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends VM{static getInstance(){return new OT}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return ze(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=1e3,fJ=60*5*1e3,vA=30*1e3,hJ=1.3,pJ=3e4,mJ="server_kill",yA=3;class Ho extends NM{constructor(e,n,s,r,i,o,a,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=u,this.id=Ho.nextPersistentConnectionId_++,this.log_=qh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kd,this.maxReconnectDelay_=fJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Eg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(Rs(i)),ze(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new th,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ze(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const u=a.d,c=a.s;Ho.warnOnListenWarnings_(u,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ia(e,"w")){const s=Tc(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Dr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||J5(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vA)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=X5(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,o=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),ze(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";r&&(i.q=s,i.t=r),this.sendRequest(o,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const o={p:n,d:s};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Rs(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Cb("Unrecognized action received from server: "+Rs(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ze(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pJ&&(this.reconnectDelay_=Kd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ho.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const u=function(){a?a.close():(o=!0,s())},c=function(h){ze(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:u,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Bs("getToken() completed but was canceled"):(Bs("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=g&&g.token,a=new aJ(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,v=>{Dr(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(mJ)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Dr(h),u())}}}interrupt(e){Bs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Bs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jw(this.interruptReasons_)&&(this.reconnectDelay_=Kd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>AT(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new On(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){Bs("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yA&&(this.reconnectDelay_=vA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Bs("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+mM.replace(/\./g,"-")]=1,gE()?e["framework.cordova"]=1:_O()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Eg.getInstance().currentlyOnline();return jw(this.interruptReasons_)&&e}}Ho.nextPersistentConnectionId_=0;Ho.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nn(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new nn(Mc,e),r=new nn(Mc,n);return this.compare(s,r)!==0}minPost(){return nn.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm;class jM extends vv{static get __EMPTY_NODE(){return tm}static set __EMPTY_NODE(e){tm=e}compare(e,n){return id(e.name,n.name)}isDefinedOn(e){throw Zc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Kl,tm)}makePost(e,n){return ze(typeof e=="string","KeyIndex indexValue must always be a string."),new nn(e,tm)}toString(){return".key"}}const _c=new jM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Es{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Es.RED,this.left=r??hr.EMPTY_NODE,this.right=i??hr.EMPTY_NODE}copy(e,n,s,r,i){return new Es(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return hr.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Es.RED=!0;Es.BLACK=!1;class gJ{copy(e,n,s,r,i){return this}insert(e,n,s){return new Es(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class hr{constructor(e,n=hr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new hr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Es.BLACK,null,null))}remove(e){return new hr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Es.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new nm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new nm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new nm(this.root_,null,this.comparator_,!0,e)}}hr.EMPTY_NODE=new gJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t,e){return id(t.name,e.name)}function LT(t,e){return id(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ib;function vJ(t){Ib=t}const HM=function(t){return typeof t=="number"?"number:"+wM(t):"string:"+t},qM=function(t){if(t.isLeafNode()){const e=t.val();ze(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ia(e,".sv"),"Priority must be a string or number.")}else ze(t===Ib||t.isEmpty(),"priority of unexpected type.");ze(t===Ib||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wA;class ws{static set __childrenNodeConstructor(e){wA=e}static get __childrenNodeConstructor(){return wA}constructor(e,n=ws.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ze(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qM(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ws(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ws.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Yt(e)?this:tn(e)===".priority"?this.priorityNode_:ws.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ws.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=tn(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(ze(s!==".priority"||Xa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ws.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=wM(this.value_):e+=this.value_,this.lazyHash_=_M(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ws.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ws.__childrenNodeConstructor?-1:(ze(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=ws.VALUE_TYPE_ORDER.indexOf(n),i=ws.VALUE_TYPE_ORDER.indexOf(s);return ze(r>=0,"Unknown leaf type: "+n),ze(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ws.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WM,GM;function yJ(t){WM=t}function wJ(t){GM=t}class bJ extends vv{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?id(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Kl,new ws("[PRIORITY-POST]",GM))}makePost(e,n){const s=WM(e);return new nn(n,new ws("[PRIORITY-POST]",s))}toString(){return".priority"}}const js=new bJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ=Math.log(2);class TJ{constructor(e){const n=i=>parseInt(Math.log(i)/EJ,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tg=function(t,e,n,s){t.sort(e);const r=function(u,c){const d=c-u;let h,g;if(d===0)return null;if(d===1)return h=t[u],g=n?n(h):h,new Es(g,h.node,Es.BLACK,null,null);{const v=parseInt(d/2,10)+u,y=r(u,v),w=r(v+1,c);return h=t[v],g=n?n(h):h,new Es(g,h.node,Es.BLACK,y,w)}},i=function(u){let c=null,d=null,h=t.length;const g=function(y,w){const E=h-y,T=h;h-=y;const C=r(E+1,T),x=t[E],I=n?n(x):x;v(new Es(I,x.node,w,null,C))},v=function(y){c?(c.left=y,c=y):(d=y,c=y)};for(let y=0;y<u.count;++y){const w=u.nextBitIsOne(),E=Math.pow(2,u.count-(y+1));w?g(E,Es.BLACK):(g(E,Es.BLACK),g(E,Es.RED))}return d},o=new TJ(t.length),a=i(o);return new hr(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky;const Wu={};class Fo{static get Default(){return ze(Wu&&js,"ChildrenNode.ts has not been loaded"),ky=ky||new Fo({".priority":Wu},{".priority":js}),ky}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Tc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof hr?n:null}hasIndex(e){return ia(this.indexSet_,e.toString())}addIndex(e,n){ze(e!==_c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(nn.Wrap);let o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),s.push(o),o=i.getNext();let a;r?a=Tg(s,e.getCompare()):a=Wu;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const d=Object.assign({},this.indexes_);return d[u]=a,new Fo(d,c)}addToIndexes(e,n){const s=Jm(this.indexes_,(r,i)=>{const o=Tc(this.indexSet_,i);if(ze(o,"Missing index implementation for "+i),r===Wu)if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(nn.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Tg(a,o.getCompare())}else return Wu;else{const a=n.get(e.name);let u=r;return a&&(u=u.remove(new nn(e.name,a))),u.insert(e,e.node)}});return new Fo(s,this.indexSet_)}removeFromIndexes(e,n){const s=Jm(this.indexes_,r=>{if(r===Wu)return r;{const i=n.get(e.name);return i?r.remove(new nn(e.name,i)):r}});return new Fo(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd;class hn{static get EMPTY_NODE(){return Zd||(Zd=new hn(new hr(LT),null,Fo.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&qM(this.priorityNode_),this.children_.isEmpty()&&ze(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zd}updatePriority(e){return this.children_.isEmpty()?this:new hn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zd:n}}getChild(e){const n=tn(e);return n===null?this:this.getImmediateChild(n).getChild(Rn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ze(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new nn(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const o=r.isEmpty()?Zd:this.priorityNode_;return new hn(r,o,i)}}updateChild(e,n){const s=tn(e);if(s===null)return n;{ze(tn(e)!==".priority"||Xa(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Rn(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(js,(o,a)=>{n[o]=a.val(e),s++,i&&hn.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HM(this.getPriority().val())+":"),this.forEachChild(js,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":_M(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new nn(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new nn(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new nn(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,nn.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gh?-1:0}withIndex(e){if(e===_c||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new hn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===_c||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(js),r=n.getIterator(js);let i=s.getNext(),o=r.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=s.getNext(),o=r.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===_c?null:this.indexMap_.get(e.toString())}}hn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class SJ extends hn{constructor(){super(new hr(LT),hn.EMPTY_NODE,Fo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return hn.EMPTY_NODE}isEmpty(){return!1}}const Gh=new SJ;Object.defineProperties(nn,{MIN:{value:new nn(Mc,hn.EMPTY_NODE)},MAX:{value:new nn(Kl,Gh)}});jM.__EMPTY_NODE=hn.EMPTY_NODE;ws.__childrenNodeConstructor=hn;vJ(Gh);wJ(Gh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ=!0;function Us(t,e=null){if(t===null)return hn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ze(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ws(n,Us(e))}if(!(t instanceof Array)&&CJ){const n=[];let s=!1;if(ti(t,(o,a)=>{if(o.substring(0,1)!=="."){const u=Us(a);u.isEmpty()||(s=s||!u.getPriority().isEmpty(),n.push(new nn(o,u)))}}),n.length===0)return hn.EMPTY_NODE;const i=Tg(n,_J,o=>o.name,LT);if(s){const o=Tg(n,js.getCompare());return new hn(i,Us(e),new Fo({".priority":o},{".priority":js}))}else return new hn(i,Us(e),Fo.Default)}else{let n=hn.EMPTY_NODE;return ti(t,(s,r)=>{if(ia(t,s)&&s.substring(0,1)!=="."){const i=Us(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(Us(e))}}yJ(Us);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ extends vv{constructor(e){super(),this.indexPath_=e,ze(!Yt(e)&&tn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?id(e.name,n.name):i}makePost(e,n){const s=Us(e),r=hn.EMPTY_NODE.updateChild(this.indexPath_,s);return new nn(n,r)}maxPost(){const e=hn.EMPTY_NODE.updateChild(this.indexPath_,Gh);return new nn(Kl,e)}toString(){return $M(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ extends vv{compare(e,n){const s=e.node.compareTo(n.node);return s===0?id(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(e,n){const s=Us(e);return new nn(n,s)}toString(){return".value"}}const AJ=new IJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(t){return{type:"value",snapshotNode:t}}function PJ(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function kJ(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function bA(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function OJ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=js}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ze(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ze(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mc}hasEnd(){return this.endSet_}getIndexEndValue(){return ze(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ze(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ze(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===js}copy(){const e=new DT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function EA(t){const e={};if(t.isDefault())return e;let n;if(t.index_===js?n="$priority":t.index_===AJ?n="$value":t.index_===_c?n="$key":(ze(t.index_ instanceof xJ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Rs(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Rs(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Rs(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Rs(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Rs(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function TA(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==js&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends NM{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ze(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=qh("p:rest:"),this.listens_={}}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Sg.getListenId_(e,s),a={};this.listens_[o]=a;const u=EA(e._queryParams);this.restRequest_(i+".json",u,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,s),Tc(this.listens_,o)===a){let g;c?c===401?g="permission_denied":g="rest_error:"+c:g="ok",r(g,null)}})}unlisten(e,n){const s=Sg.getListenId_(e,n);delete this.listens_[s]}get(e){const n=EA(e._queryParams),s=e._path.toString(),r=new th;return this.restRequest_(s+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(s,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=nh(a.responseText)}catch{Dr("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,u)}else a.status!==401&&a.status!==404&&Dr("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(){this.rootNode_=hn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){return{value:null,children:new Map}}function KM(t,e,n){if(Yt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=tn(e);t.children.has(s)||t.children.set(s,Cg());const r=t.children.get(s);e=Rn(e),KM(r,e,n)}}function Ab(t,e,n){t.value!==null?n(e,t.value):DJ(t,(s,r)=>{const i=new On(e.toString()+"/"+s);Ab(r,i,n)})}function DJ(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ti(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=10*1e3,NJ=30*1e3,VJ=5*60*1e3;class FJ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new MJ(e);const s=SA+(NJ-SA)*Math.random();Ff(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;ti(e,(r,i)=>{i>0&&ia(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),Ff(this.reportStats_.bind(this),Math.floor(Math.random()*2*VJ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qi||(qi={}));function ZM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function QM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=qi.ACK_USER_WRITE,this.source=ZM()}operationForChild(e){if(Yt(this.path)){if(this.affectedTree.value!=null)return ze(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new On(e));return new xg(En(),n,this.revert)}}else return ze(tn(this.path)===e,"operationForChild called for unrelated child."),new xg(Rn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=qi.OVERWRITE}operationForChild(e){return Yt(this.path)?new Zl(this.source,En(),this.snap.getImmediateChild(e)):new Zl(this.source,Rn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=qi.MERGE}operationForChild(e){if(Yt(this.path)){const n=this.children.subtree(new On(e));return n.isEmpty()?null:n.value?new Zl(this.source,En(),n.value):new mh(this.source,En(),n)}else return ze(tn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new mh(this.source,Rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Yt(e))return this.isFullyInitialized()&&!this.filtered_;const n=tn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function $J(t,e,n,s){const r=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(OJ(o.childName,o.snapshotNode))}),Yd(t,r,"child_removed",e,s,n),Yd(t,r,"child_added",e,s,n),Yd(t,r,"child_moved",i,s,n),Yd(t,r,"child_changed",e,s,n),Yd(t,r,"value",e,s,n),r}function Yd(t,e,n,s,r,i){const o=s.filter(a=>a.type===n);o.sort((a,u)=>UJ(t,a,u)),o.forEach(a=>{const u=BJ(t,a,i);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function BJ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function UJ(t,e,n){if(e.childName==null||n.childName==null)throw Zc("Should only compare child_ events.");const s=new nn(e.childName,e.snapshotNode),r=new nn(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e){return{eventCache:t,serverCache:e}}function $f(t,e,n,s){return XM(new MT(e,n,s),t.serverCache)}function JM(t,e,n,s){return XM(t.eventCache,new MT(e,n,s))}function Rb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy;const zJ=()=>(Oy||(Oy=new hr(IX)),Oy);class An{static fromObject(e){let n=new An(null);return ti(e,(s,r)=>{n=n.set(new On(s),r)}),n}constructor(e,n=zJ()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:En(),value:this.value};if(Yt(e))return null;{const s=tn(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(Rn(e),n);return i!=null?{path:Ss(new On(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Yt(e))return this;{const n=tn(e),s=this.children.get(n);return s!==null?s.subtree(Rn(e)):new An(null)}}set(e,n){if(Yt(e))return new An(n,this.children);{const s=tn(e),i=(this.children.get(s)||new An(null)).set(Rn(e),n),o=this.children.insert(s,i);return new An(this.value,o)}}remove(e){if(Yt(e))return this.children.isEmpty()?new An(null):new An(null,this.children);{const n=tn(e),s=this.children.get(n);if(s){const r=s.remove(Rn(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new An(null):new An(this.value,i)}else return this}}get(e){if(Yt(e))return this.value;{const n=tn(e),s=this.children.get(n);return s?s.get(Rn(e)):null}}setTree(e,n){if(Yt(e))return n;{const s=tn(e),i=(this.children.get(s)||new An(null)).setTree(Rn(e),n);let o;return i.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,i),new An(this.value,o)}}fold(e){return this.fold_(En(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(Ss(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,En(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(Yt(e))return null;{const i=tn(e),o=this.children.get(i);return o?o.findOnPath_(Rn(e),Ss(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,En(),n)}foreachOnPath_(e,n,s){if(Yt(e))return this;{this.value&&s(n,this.value);const r=tn(e),i=this.children.get(r);return i?i.foreachOnPath_(Rn(e),Ss(n,r),s):new An(null)}}foreach(e){this.foreach_(En(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(Ss(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.writeTree_=e}static empty(){return new _i(new An(null))}}function Bf(t,e,n){if(Yt(e))return new _i(new An(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const o=Wr(r,e);return i=i.updateChild(o,n),new _i(t.writeTree_.set(r,i))}else{const r=new An(n),i=t.writeTree_.setTree(e,r);return new _i(i)}}}function CA(t,e,n){let s=t;return ti(n,(r,i)=>{s=Bf(s,Ss(e,r),i)}),s}function xA(t,e){if(Yt(e))return _i.empty();{const n=t.writeTree_.setTree(e,new An(null));return new _i(n)}}function Pb(t,e){return gu(t,e)!=null}function gu(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Wr(n.path,e)):null}function IA(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(js,(s,r)=>{e.push(new nn(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new nn(s,r.value))}),e}function $a(t,e){if(Yt(e))return t;{const n=gu(t,e);return n!=null?new _i(new An(n)):new _i(t.writeTree_.subtree(e))}}function kb(t){return t.writeTree_.isEmpty()}function Nc(t,e){return eN(En(),t.writeTree_,e)}function eN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(ze(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=eN(Ss(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(Ss(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t,e){return oN(e,t)}function jJ(t,e,n,s,r){ze(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Bf(t.visibleWrites,e,n)),t.lastWriteId=s}function HJ(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function qJ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ze(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&WJ(a,s.path)?r=!1:hi(s.path,a.path)&&(i=!0)),o--}if(r){if(i)return GJ(t),!0;if(s.snap)t.visibleWrites=xA(t.visibleWrites,s.path);else{const a=s.children;ti(a,u=>{t.visibleWrites=xA(t.visibleWrites,Ss(s.path,u))})}return!0}else return!1}function WJ(t,e){if(t.snap)return hi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hi(Ss(t.path,n),e))return!0;return!1}function GJ(t){t.visibleWrites=nN(t.allWrites,KJ,En()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KJ(t){return t.visible}function nN(t,e,n){let s=_i.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const o=i.path;let a;if(i.snap)hi(n,o)?(a=Wr(n,o),s=Bf(s,a,i.snap)):hi(o,n)&&(a=Wr(o,n),s=Bf(s,En(),i.snap.getChild(a)));else if(i.children){if(hi(n,o))a=Wr(n,o),s=CA(s,a,i.children);else if(hi(o,n))if(a=Wr(o,n),Yt(a))s=CA(s,En(),i.children);else{const u=Tc(i.children,tn(a));if(u){const c=u.getChild(Rn(a));s=Bf(s,En(),c)}}}else throw Zc("WriteRecord should have .snap or .children")}}return s}function sN(t,e,n,s,r){if(!s&&!r){const i=gu(t.visibleWrites,e);if(i!=null)return i;{const o=$a(t.visibleWrites,e);if(kb(o))return n;if(n==null&&!Pb(o,En()))return null;{const a=n||hn.EMPTY_NODE;return Nc(o,a)}}}else{const i=$a(t.visibleWrites,e);if(!r&&kb(i))return n;if(!r&&n==null&&!Pb(i,En()))return null;{const o=function(c){return(c.visible||r)&&(!s||!~s.indexOf(c.writeId))&&(hi(c.path,e)||hi(e,c.path))},a=nN(t.allWrites,o,e),u=n||hn.EMPTY_NODE;return Nc(a,u)}}}function ZJ(t,e,n){let s=hn.EMPTY_NODE;const r=gu(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(js,(i,o)=>{s=s.updateImmediateChild(i,o)}),s;if(n){const i=$a(t.visibleWrites,e);return n.forEachChild(js,(o,a)=>{const u=Nc($a(i,new On(o)),a);s=s.updateImmediateChild(o,u)}),IA(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const i=$a(t.visibleWrites,e);return IA(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function YJ(t,e,n,s,r){ze(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=Ss(e,n);if(Pb(t.visibleWrites,i))return null;{const o=$a(t.visibleWrites,i);return kb(o)?r.getChild(n):Nc(o,r.getChild(n))}}function QJ(t,e,n,s){const r=Ss(e,n),i=gu(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const o=$a(t.visibleWrites,r);return Nc(o,s.getNode().getImmediateChild(n))}else return null}function XJ(t,e){return gu(t.visibleWrites,e)}function JJ(t,e,n,s,r,i,o){let a;const u=$a(t.visibleWrites,e),c=gu(u,En());if(c!=null)a=c;else if(n!=null)a=Nc(u,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),g=i?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let v=g.getNext();for(;v&&d.length<r;)h(v,s)!==0&&d.push(v),v=g.getNext();return d}else return[]}function eee(){return{visibleWrites:_i.empty(),allWrites:[],lastWriteId:-1}}function Ob(t,e,n,s){return sN(t.writeTree,t.treePath,e,n,s)}function rN(t,e){return ZJ(t.writeTree,t.treePath,e)}function AA(t,e,n,s){return YJ(t.writeTree,t.treePath,e,n,s)}function Ig(t,e){return XJ(t.writeTree,Ss(t.treePath,e))}function tee(t,e,n,s,r,i){return JJ(t.writeTree,t.treePath,e,n,s,r,i)}function NT(t,e,n){return QJ(t.writeTree,t.treePath,e,n)}function iN(t,e){return oN(Ss(t.treePath,e),t.writeTree)}function oN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;ze(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ze(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,bA(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,kJ(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,PJ(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,bA(s,e.snapshotNode,r.oldSnap));else throw Zc("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const aN=new see;class VT{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new MT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return NT(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yl(this.viewCache_),i=tee(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}function ree(t,e){ze(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ze(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function iee(t,e,n,s,r){const i=new nee;let o,a;if(n.type===qi.OVERWRITE){const c=n;c.source.fromUser?o=Lb(t,e,c.path,c.snap,s,r,i):(ze(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Yt(c.path),o=Ag(t,e,c.path,c.snap,s,r,a,i))}else if(n.type===qi.MERGE){const c=n;c.source.fromUser?o=aee(t,e,c.path,c.children,s,r,i):(ze(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Db(t,e,c.path,c.children,s,r,a,i))}else if(n.type===qi.ACK_USER_WRITE){const c=n;c.revert?o=cee(t,e,c.path,s,r,i):o=lee(t,e,c.path,c.affectedTree,s,r,i)}else if(n.type===qi.LISTEN_COMPLETE)o=uee(t,e,n.path,s,i);else throw Zc("Unknown operation type: "+n.type);const u=i.getChanges();return oee(e,o,u),{viewCache:o,changes:u}}function oee(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=Rb(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(RJ(Rb(e)))}}function lN(t,e,n,s,r,i){const o=e.eventCache;if(Ig(s,n)!=null)return e;{let a,u;if(Yt(n))if(ze(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Yl(e),d=c instanceof hn?c:hn.EMPTY_NODE,h=rN(s,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=Ob(s,Yl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=tn(n);if(c===".priority"){ze(Xa(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const h=AA(s,n,d,u);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=Rn(n);let h;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const g=AA(s,n,o.getNode(),u);g!=null?h=o.getNode().getImmediateChild(c).updateChild(d,g):h=o.getNode().getImmediateChild(c)}else h=NT(s,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,r,i):a=o.getNode()}}return $f(e,a,o.isFullyInitialized()||Yt(n),t.filter.filtersNodes())}}function Ag(t,e,n,s,r,i,o,a){const u=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(Yt(n))c=d.updateFullNode(u.getNode(),s,null);else if(d.filtersNodes()&&!u.isFiltered()){const v=u.getNode().updateChild(n,s);c=d.updateFullNode(u.getNode(),v,null)}else{const v=tn(n);if(!u.isCompleteForPath(n)&&Xa(n)>1)return e;const y=Rn(n),E=u.getNode().getImmediateChild(v).updateChild(y,s);v===".priority"?c=d.updatePriority(u.getNode(),E):c=d.updateChild(u.getNode(),v,E,y,aN,null)}const h=JM(e,c,u.isFullyInitialized()||Yt(n),d.filtersNodes()),g=new VT(r,h,i);return lN(t,h,n,r,g,a)}function Lb(t,e,n,s,r,i,o){const a=e.eventCache;let u,c;const d=new VT(r,e,i);if(Yt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),u=$f(e,c,!0,t.filter.filtersNodes());else{const h=tn(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),u=$f(e,c,a.isFullyInitialized(),a.isFiltered());else{const g=Rn(n),v=a.getNode().getImmediateChild(h);let y;if(Yt(g))y=s;else{const w=d.getCompleteChild(h);w!=null?FM(g)===".priority"&&w.getChild(BM(g)).isEmpty()?y=w:y=w.updateChild(g,s):y=hn.EMPTY_NODE}if(v.equals(y))u=e;else{const w=t.filter.updateChild(a.getNode(),h,y,g,d,o);u=$f(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function RA(t,e){return t.eventCache.isCompleteForChild(e)}function aee(t,e,n,s,r,i,o){let a=e;return s.foreach((u,c)=>{const d=Ss(n,u);RA(e,tn(d))&&(a=Lb(t,a,d,c,r,i,o))}),s.foreach((u,c)=>{const d=Ss(n,u);RA(e,tn(d))||(a=Lb(t,a,d,c,r,i,o))}),a}function PA(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function Db(t,e,n,s,r,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;Yt(n)?c=s:c=new An(null).setTree(n,s);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,g)=>{if(d.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),y=PA(t,v,g);u=Ag(t,u,new On(h),y,r,i,o,a)}}),c.children.inorderTraversal((h,g)=>{const v=!e.serverCache.isCompleteForChild(h)&&g.value===null;if(!d.hasChild(h)&&!v){const y=e.serverCache.getNode().getImmediateChild(h),w=PA(t,y,g);u=Ag(t,u,new On(h),w,r,i,o,a)}}),u}function lee(t,e,n,s,r,i,o){if(Ig(r,n)!=null)return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(s.value!=null){if(Yt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ag(t,e,n,u.getNode().getChild(n),r,i,a,o);if(Yt(n)){let c=new An(null);return u.getNode().forEachChild(_c,(d,h)=>{c=c.set(new On(d),h)}),Db(t,e,n,c,r,i,a,o)}else return e}else{let c=new An(null);return s.foreach((d,h)=>{const g=Ss(n,d);u.isCompleteForPath(g)&&(c=c.set(d,u.getNode().getChild(g)))}),Db(t,e,n,c,r,i,a,o)}}function uee(t,e,n,s,r){const i=e.serverCache,o=JM(e,i.getNode(),i.isFullyInitialized()||Yt(n),i.isFiltered());return lN(t,o,n,s,aN,r)}function cee(t,e,n,s,r,i){let o;if(Ig(s,n)!=null)return e;{const a=new VT(s,e,r),u=e.eventCache.getNode();let c;if(Yt(n)||tn(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Ob(s,Yl(e));else{const h=e.serverCache.getNode();ze(h instanceof hn,"serverChildren would be complete if leaf node"),d=rN(s,h)}d=d,c=t.filter.updateFullNode(u,d,i)}else{const d=tn(n);let h=NT(s,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=u.getImmediateChild(d)),h!=null?c=t.filter.updateChild(u,d,h,Rn(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(u,d,hn.EMPTY_NODE,Rn(n),a,i):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ob(s,Yl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Ig(s,En())!=null,$f(e,c,o,t.filter.filtersNodes())}}function dee(t,e){const n=Yl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Yt(e)&&!n.getImmediateChild(tn(e)).isEmpty())?n.getChild(e):null}function kA(t,e,n,s){e.type===qi.MERGE&&e.source.queryId!==null&&(ze(Yl(t.viewCache_),"We should always have a full cache before handling merges"),ze(Rb(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=iee(t.processor_,r,e,n,s);return ree(t.processor_,i.viewCache),ze(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,fee(t,i.changes,i.viewCache.eventCache.getNode())}function fee(t,e,n,s){const r=t.eventRegistrations_;return $J(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OA;function hee(t){ze(!OA,"__referenceConstructor has already been defined"),OA=t}function FT(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return ze(i!=null,"SyncTree gave us an op for an invalid query."),kA(i,e,n,s)}else{let i=[];for(const o of t.views.values())i=i.concat(kA(o,e,n,s));return i}}function $T(t,e){let n=null;for(const s of t.views.values())n=n||dee(s,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LA;function pee(t){ze(!LA,"__referenceConstructor has already been defined"),LA=t}class DA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new An(null),this.pendingWriteTree_=eee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mee(t,e,n,s,r){return jJ(t.pendingWriteTree_,e,n,s,r),r?wv(t,new Zl(ZM(),e,n)):[]}function sc(t,e,n=!1){const s=HJ(t.pendingWriteTree_,e);if(qJ(t.pendingWriteTree_,e)){let i=new An(null);return s.snap!=null?i=i.set(En(),!0):ti(s.children,o=>{i=i.set(new On(o),!0)}),wv(t,new xg(s.path,i,n))}else return[]}function yv(t,e,n){return wv(t,new Zl(YM(),e,n))}function gee(t,e,n){const s=An.fromObject(n);return wv(t,new mh(YM(),e,s))}function _ee(t,e,n,s){const r=fN(t,s);if(r!=null){const i=hN(r),o=i.path,a=i.queryId,u=Wr(o,e),c=new Zl(QM(a),u,n);return pN(t,o,c)}else return[]}function vee(t,e,n,s){const r=fN(t,s);if(r){const i=hN(r),o=i.path,a=i.queryId,u=Wr(o,e),c=An.fromObject(n),d=new mh(QM(a),u,c);return pN(t,o,d)}else return[]}function uN(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=Wr(o,e),c=$T(a,u);if(c)return c});return sN(r,e,i,n,!0)}function wv(t,e){return cN(e,t.syncPointTree_,null,tN(t.pendingWriteTree_,En()))}function cN(t,e,n,s){if(Yt(t.path))return dN(t,e,n,s);{const r=e.get(En());n==null&&r!=null&&(n=$T(r,En()));let i=[];const o=tn(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,d=iN(s,o);i=i.concat(cN(a,u,c,d))}return r&&(i=i.concat(FT(r,t,s,n))),i}}function dN(t,e,n,s){const r=e.get(En());n==null&&r!=null&&(n=$T(r,En()));let i=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=iN(s,o),d=t.operationForChild(o);d&&(i=i.concat(dN(d,a,u,c)))}),r&&(i=i.concat(FT(r,t,s,n))),i}function fN(t,e){return t.tagToQueryMap.get(e)}function hN(t){const e=t.indexOf("$");return ze(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new On(t.substr(0,e))}}function pN(t,e,n){const s=t.syncPointTree_.get(e);ze(s,"Missing sync point for query tag that we're tracking");const r=tN(t.pendingWriteTree_,e);return FT(s,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new BT(n)}node(){return this.node_}}class UT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ss(this.path_,e);return new UT(this.syncTree_,n)}node(){return uN(this.syncTree_,this.path_)}}const yee=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},MA=function(t,e,n){if(!t||typeof t!="object")return t;if(ze(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wee(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bee(t[".sv"],e);ze(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ze(!1,"Unexpected server value: "+t)}},bee=function(t,e,n){t.hasOwnProperty("increment")||ze(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&ze(!1,"Unexpected increment value: "+s);const r=e.node();if(ze(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return typeof o!="number"?s:o+s},Eee=function(t,e,n,s){return zT(e,new UT(n,t),s)},Tee=function(t,e,n){return zT(t,new BT(e),n)};function zT(t,e,n){const s=t.getPriority().val(),r=MA(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=MA(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new ws(a,Us(r)):t}else{const o=t;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new ws(r))),o.forEachChild(js,(a,u)=>{const c=zT(u,e.getImmediateChild(a),n);c!==u&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function HT(t,e){let n=e instanceof On?e:new On(e),s=t,r=tn(n);for(;r!==null;){const i=Tc(s.node.children,r)||{children:{},childCount:0};s=new jT(r,s,i),n=Rn(n),r=tn(n)}return s}function od(t){return t.node.value}function mN(t,e){t.node.value=e,Mb(t)}function gN(t){return t.node.childCount>0}function See(t){return od(t)===void 0&&!gN(t)}function bv(t,e){ti(t.node.children,(n,s)=>{e(new jT(n,t,s))})}function _N(t,e,n,s){n&&e(t),bv(t,r=>{_N(r,e,!0)})}function Cee(t,e,n){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Kh(t){return new On(t.parent===null?t.name:Kh(t.parent)+"/"+t.name)}function Mb(t){t.parent!==null&&xee(t.parent,t.name,t)}function xee(t,e,n){const s=See(n),r=ia(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,Mb(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Mb(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iee=/[\[\].#$\/\u0000-\u001F\u007F]/,Aee=/[\[\].#$\u0000-\u001F\u007F]/,Ly=10*1024*1024,vN=function(t){return typeof t=="string"&&t.length!==0&&!Iee.test(t)},Ree=function(t){return typeof t=="string"&&t.length!==0&&!Aee.test(t)},Pee=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ree(t)},yN=function(t,e,n){const s=n instanceof On?new uJ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+xl(s));if(typeof e=="function")throw new Error(t+"contains a function "+xl(s)+" with contents = "+e.toString());if(vM(e))throw new Error(t+"contains "+e.toString()+" "+xl(s));if(typeof e=="string"&&e.length>Ly/3&&M_(e)>Ly)throw new Error(t+"contains a string greater than "+Ly+" utf8 bytes "+xl(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(ti(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!vN(o)))throw new Error(t+" contains an invalid key ("+o+") "+xl(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cJ(s,o),yN(t,a,s),dJ(s)}),r&&i)throw new Error(t+' contains ".value" child '+xl(s)+" in addition to actual children.")}},kee=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vN(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Pee(n))throw new Error(r9(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lee(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!UM(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function _u(t,e,n){Lee(t,n),Dee(t,s=>hi(s,e)||hi(e,s))}function Dee(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(Mee(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Mee(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();Vf&&Bs("event: "+n.toString()),Wh(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nee="repo_interrupt",Vee=25;class Fee{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cg(),this.transactionQueueTree_=new jT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $ee(t,e,n){if(t.stats_=PT(t.repoInfo_),t.forceRestClient_||LX())t.server_=new Sg(t.repoInfo_,(s,r,i,o)=>{NA(t,s,r,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>VA(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Rs(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Ho(t.repoInfo_,e,(s,r,i,o)=>{NA(t,s,r,i,o)},s=>{VA(t,s)},s=>{Uee(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=$X(t.repoInfo_,()=>new FJ(t.stats_,t.server_)),t.infoData_=new LJ,t.infoSyncTree_=new DA({startListening:(s,r,i,o)=>{let a=[];const u=t.infoData_.getNode(s._path);return u.isEmpty()||(a=yv(t.infoSyncTree_,s._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),qT(t,"connected",!1),t.serverSyncTree_=new DA({startListening:(s,r,i,o)=>(t.server_.listen(s,i,r,(a,u)=>{const c=o(a,u);_u(t.eventQueue_,s._path,c)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function Bee(t){const n=t.infoData_.getNode(new On(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wN(t){return yee({timestamp:Bee(t)})}function NA(t,e,n,s,r){t.dataUpdateCount++;const i=new On(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(s){const u=Jm(n,c=>Us(c));o=vee(t.serverSyncTree_,i,u,r)}else{const u=Us(n);o=_ee(t.serverSyncTree_,i,u,r)}else if(s){const u=Jm(n,c=>Us(c));o=gee(t.serverSyncTree_,i,u)}else{const u=Us(n);o=yv(t.serverSyncTree_,i,u)}let a=i;o.length>0&&(a=GT(t,i)),_u(t.eventQueue_,a,o)}function VA(t,e){qT(t,"connected",e),e===!1&&jee(t)}function Uee(t,e){ti(e,(n,s)=>{qT(t,n,s)})}function qT(t,e,n){const s=new On("/.info/"+e),r=Us(n);t.infoData_.updateSnapshot(s,r);const i=yv(t.infoSyncTree_,s,r);_u(t.eventQueue_,s,i)}function zee(t){return t.nextWriteId_++}function jee(t){bN(t,"onDisconnectEvents");const e=wN(t),n=Cg();Ab(t.onDisconnect_,En(),(r,i)=>{const o=Eee(r,i,t.serverSyncTree_,e);KM(n,r,o)});let s=[];Ab(n,En(),(r,i)=>{s=s.concat(yv(t.serverSyncTree_,r,i));const o=Gee(t,r);GT(t,o)}),t.onDisconnect_=Cg(),_u(t.eventQueue_,En(),s)}function Hee(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Nee)}function bN(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Bs(n,...e)}function EN(t,e,n){return uN(t.serverSyncTree_,e,n)||hn.EMPTY_NODE}function WT(t,e=t.transactionQueueTree_){if(e||Ev(t,e),od(e)){const n=SN(t,e);ze(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&qee(t,Kh(e),n)}else gN(e)&&bv(e,n=>{WT(t,n)})}function qee(t,e,n){const s=n.map(c=>c.currentWriteId),r=EN(t,e,s);let i=r;const o=r.hash();for(let c=0;c<n.length;c++){const d=n[c];ze(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Wr(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const a=i.val(!0),u=e;t.server_.put(u.toString(),a,c=>{bN(t,"transaction put response",{path:u.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let g=0;g<n.length;g++)n[g].status=2,d=d.concat(sc(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&h.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Ev(t,HT(t.transactionQueueTree_,e)),WT(t,t.transactionQueueTree_),_u(t.eventQueue_,e,d);for(let g=0;g<h.length;g++)Wh(h[g])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Dr("transaction at "+u.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}GT(t,e)}},o)}function GT(t,e){const n=TN(t,e),s=Kh(n),r=SN(t,n);return Wee(t,r,s),s}function Wee(t,e,n){if(e.length===0)return;const s=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Wr(n,u.path);let d=!1,h;if(ze(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,h=u.abortReason,r=r.concat(sc(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=Vee)d=!0,h="maxretry",r=r.concat(sc(t.serverSyncTree_,u.currentWriteId,!0));else{const g=EN(t,u.path,o);u.currentInputSnapshot=g;const v=e[a].update(g.val());if(v!==void 0){yN("transaction failed: Data returned ",v,u.path);let y=Us(v);typeof v=="object"&&v!=null&&ia(v,".priority")||(y=y.updatePriority(g.getPriority()));const E=u.currentWriteId,T=wN(t),C=Tee(y,g,T);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=C,u.currentWriteId=zee(t),o.splice(o.indexOf(E),1),r=r.concat(mee(t.serverSyncTree_,u.path,C,u.currentWriteId,u.applyLocally)),r=r.concat(sc(t.serverSyncTree_,E,!0))}else d=!0,h="nodata",r=r.concat(sc(t.serverSyncTree_,u.currentWriteId,!0))}_u(t.eventQueue_,n,r),r=[],d&&(e[a].status=2,function(g){setTimeout(g,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(h),!1,null))))}Ev(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)Wh(s[a]);WT(t,t.transactionQueueTree_)}function TN(t,e){let n,s=t.transactionQueueTree_;for(n=tn(e);n!==null&&od(s)===void 0;)s=HT(s,n),e=Rn(e),n=tn(e);return s}function SN(t,e){const n=[];return CN(t,e,n),n.sort((s,r)=>s.order-r.order),n}function CN(t,e,n){const s=od(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);bv(e,r=>{CN(t,r,n)})}function Ev(t,e){const n=od(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,mN(e,n.length>0?n:void 0)}bv(e,s=>{Ev(t,s)})}function Gee(t,e){const n=Kh(TN(t,e)),s=HT(t.transactionQueueTree_,e);return Cee(s,r=>{Dy(t,r)}),Dy(t,s),_N(s,r=>{Dy(t,r)}),n}function Dy(t,e){const n=od(e);if(n){const s=[];let r=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ze(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(ze(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(sc(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?mN(e,void 0):n.length=i+1,_u(t.eventQueue_,Kh(e),r);for(let o=0;o<s.length;o++)Wh(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function Zee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Dr(`Invalid query segment '${n}' in query '${t}'`)}return e}const FA=function(t,e){const n=Yee(t),s=n.namespace;n.domain==="firebase.com"&&Gl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Gl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CX();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new NX(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new On(n.pathString)}},Yee=function(t){let e="",n="",s="",r="",i="",o=!0,a="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(r=Kee(t.substring(d,h)));const g=Zee(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const v=e.slice(0,c);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const y=e.indexOf(".");s=e.substring(0,y).toLowerCase(),n=e.substring(y+1),i=s}"ns"in g&&(i=g.ns)}return{host:e,port:u,domain:n,subdomain:s,secure:o,scheme:a,pathString:r,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return Yt(this._path)?null:FM(this._path)}get ref(){return new ad(this._repo,this._path)}get _queryIdentifier(){const e=TA(this._queryParams),n=AT(e);return n==="{}"?"default":n}get _queryObject(){return TA(this._queryParams)}isEqual(e){if(e=kn(e),!(e instanceof KT))return!1;const n=this._repo===e._repo,s=UM(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+lJ(this._path)}}class ad extends KT{constructor(e,n){super(e,n,new DT,!1)}get parent(){const e=BM(this._path);return e===null?null:new ad(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}hee(ad);pee(ad);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee="FIREBASE_DATABASE_EMULATOR_HOST",Nb={};let Xee=!1;function Jee(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||Gl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bs("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=FA(i,r),a=o.repoInfo,u;typeof process<"u"&&rA&&(u=rA[Qee]),u?(i=`http://${u}?ns=${a.namespace}`,o=FA(i,r),a=o.repoInfo):o.repoInfo.secure;const c=new MX(t.name,t.options,e);kee("Invalid Firebase Database URL",o),Yt(o.path)||Gl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=tte(a,t,c,new DX(t,n));return new nte(d,t)}function ete(t,e){const n=Nb[e];(!n||n[t.key]!==t)&&Gl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Hee(t),delete n[t.key]}function tte(t,e,n,s){let r=Nb[e.name];r||(r={},Nb[e.name]=r);let i=r[t.toURLString()];return i&&Gl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Fee(t,Xee,n,s),r[t.toURLString()]=i,i}class nte{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($ee(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ad(this._repo,En())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ete(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Gl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t){yX(il),so(new xi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Jee(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),Lr(iA,oA,t),Lr(iA,oA,"esm2017")}Ho.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ho.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ste();const My=new WeakMap;function xN(t,e){return My.has(e)||My.set(e,{f:{},r:{},s:{},u:{}}),My.get(e)}function rte(t,e,n,s){if(!t)return n;const[r,i]=IN(t);if(!r)return n;const o=xN(void 0,s)[r]||{},a=e||i;return a&&a in o?o[a]:n}function ite(t,e,n,s){if(!t)return;const[r,i]=IN(t);if(!r)return;const o=xN(void 0,s)[r],a=e||i;if(a)return n.then(u=>{o[a]=u}).catch(Hi),a}function IN(t){return uX(t)||cX(t)?["f",t.path]:dX(t)?["r",t.toString()]:fX(t)?["s",t.toString()]:[]}const Ny=new WeakMap;function ote(t,e,n){const s=_v();Ny.has(s)||Ny.set(s,new Map);const r=Ny.get(s),i=ite(e,n,t,s);return i&&r.set(i,t),i?()=>r.delete(i):Hi}const ate={toFirestore(t){return t},fromFirestore(t,e){return t.exists()?Object.defineProperties(t.data(e),{id:{value:t.id}}):null}};function Vb(t,e,n,s){if(!aX(t))return[t,{}];const r=[{},{}],i=Object.keys(n).reduce((a,u)=>{const c=n[u];return a[c.path]=c.data(),a},{});function o(a,u,c,d){u=u||{};const[h,g]=d;Object.getOwnPropertyNames(a).forEach(v=>{const y=Object.getOwnPropertyDescriptor(a,v);y&&!y.enumerable&&Object.defineProperty(h,v,y)});for(const v in a){const y=a[v];if(y==null||y instanceof Date||y instanceof is||y instanceof J_)h[v]=y;else if(IT(y)){const w=c+v;h[v]=w in n?u[v]:y.path,g[w]=y.converter?y:y.withConverter(s.converter)}else if(Array.isArray(y)){h[v]=Array(y.length);for(let w=0;w<y.length;w++){const E=y[w];E&&E.path in i&&(h[v][w]=i[E.path])}o(y,u[v]||h[v],c+v+".",[h[v],g])}else mu(y)?(h[v]={},o(y,u[v],c+v+".",[h[v],g])):h[v]=y}}return o(t,e,"",r),r}const ZT={reset:!1,wait:!0,maxRefDepth:2,converter:ate,snapshotOptions:{serverTimestamps:"estimate"}};function Rg(t){for(const e in t)t[e].unsub()}function Fb(t,e,n,s,r,i,o,a,u){const[c,d]=Vb(s.data(t.snapshotOptions),xT(e,n),r,t);i.set(e,n,c),$b(t,e,n,r,d,i,o,a,u)}function lte({ref:t,target:e,path:n,depth:s,resolve:r,reject:i,ops:o},a){const u=Object.create(null);let c=Hi;return a.once?oa(t).then(d=>{d.exists()?Fb(a,e,n,d,u,o,s,r,i):(o.set(e,n,null),r())}).catch(i):c=sT(t,d=>{d.exists()?Fb(a,e,n,d,u,o,s,r,i):(o.set(e,n,null),r())},i),()=>{c(),Rg(u)}}function $b(t,e,n,s,r,i,o,a,u){const c=Object.keys(r);if(Object.keys(s).filter(w=>c.indexOf(w)<0).forEach(w=>{s[w].unsub(),delete s[w]}),!c.length||++o>t.maxRefDepth)return a(n);let h=0;const g=c.length,v=Object.create(null);function y(w){w in v&&++h>=g&&a(n)}c.forEach(w=>{const E=s[w],T=r[w],C=`${n}.${w}`;if(v[C]=!0,E)if(E.path!==T.path)E.unsub();else return;s[w]={data:()=>xT(e,C),unsub:lte({ref:T,target:e,path:C,depth:o,ops:i,resolve:y.bind(null,C),reject:u},t),path:T.path}})}function ute(t,e,n,s,r,i){const o=Object.assign({},ZT,i),{snapshotListenOptions:a,snapshotOptions:u,wait:c,once:d}=o,h="value";let g=Z(c?[]:t.value);c||n.set(t,h,[]);const v=s;let y,w=Hi;const E=[],T={added:({newIndex:x,doc:I})=>{E.splice(x,0,Object.create(null));const V=E[x],[F,k]=Vb(I.data(u),void 0,V,o);n.add(ke(g),x,F),$b(o,g,`${h}.${x}`,V,k,n,0,s.bind(null,I),r)},modified:({oldIndex:x,newIndex:I,doc:V})=>{const F=ke(g),k=E[x],P=F[x],[A,N]=Vb(V.data(u),P,k,o);E.splice(I,0,k),n.remove(F,x),n.add(F,I,A),$b(o,g,`${h}.${I}`,k,N,n,0,s,r)},removed:({oldIndex:x})=>{const I=ke(g);n.remove(I,x),Rg(E.splice(x,1)[0])}};function C(x){const I=x.docChanges(a);if(!y&&I.length){y=!0;let V=0;const F=I.length,k=Object.create(null);for(let P=0;P<F;P++)k[I[P].doc.id]=!0;s=P=>{P&&P.id in k&&++V>=F&&(c&&(n.set(t,h,ke(g)),g=t),v(ke(g)),s=Hi)}}I.forEach(V=>{T[V.type](V)}),I.length||(c&&(n.set(t,h,ke(g)),g=t),s(ke(g)))}return d?ei(e).then(C).catch(r):w=sT(e,C,r),x=>{if(w(),x){const I=typeof x=="function"?x():[];n.set(t,h,I)}E.forEach(Rg)}}function cte(t,e,n,s,r,i){const o=Object.assign({},ZT,i),a="value",u=Object.create(null);s=hX(s,()=>xT(t,a));let c=Hi;function d(h){h.exists()?Fb(o,t,a,h,u,n,0,s,r):(n.set(t,a,null),s(null))}return o.once?oa(e).then(d).catch(r):c=sT(e,d,r),h=>{if(c(),h){const g=typeof h=="function"?h():null;n.set(t,a,g)}Rg(u)}}const $A=Symbol();function dte(t,e){let n=Hi;const s=Object.assign({},ZT,e),r=ke(t),i=s.target||Z();mX()&&(s.once=!0);const o=rte(r,s.ssrKey,$A,_v()),a=o!==$A;a&&(i.value=o);let u=!a;const c=Z(!1),d=Z(),h=Cs(),g=su();let v=Hi;function y(){let T=ke(t);const C=new Promise((x,I)=>{if(n(s.reset),!T)return n=Hi,x(null);c.value=u,u=!0,T.converter||(T=T.withConverter(s.converter)),n=(IT(T)?cte:ute)(i,T,fte,x,I,s)}).catch(x=>(h.value===C&&(d.value=x),Promise.reject(x))).finally(()=>{h.value===C&&(c.value=!1)});h.value=C}let w=Hi;(Dt(t)||typeof t=="function")&&(w=ct(t,y)),y(),r&&(v=ote(h.value,r,s.ssrKey)),ps()&&xP(()=>h.value),g&&zc(E);function E(T=s.reset){w(),v(),n(T)}return Object.defineProperties(i,{error:{get:()=>d},data:{get:()=>i},pending:{get:()=>c},promise:{get:()=>h},stop:{get:()=>E}})}const fte={set:(t,e,n)=>iX(t,e,n),add:(t,e,n)=>t.splice(e,0,n),remove:(t,e)=>t.splice(e,1)},Qd=new WeakMap;function hte(t,e,n){e&&e[t]&&(e[t](n),delete e[t])}const pte={bindName:"$firestoreBind",unbindName:"$firestoreUnbind"},mte=function(e,n,s){const r=Object.assign({},pte,n),{bindName:i,unbindName:o}=r,a=e.config.globalProperties;a[o]=function(c,d){hte(c,Qd.get(this),d),delete this.$firestoreRefs[c]},a[i]=function(c,d,h){const g=Object.assign({},r,h),v=Oo(this.$data,c);Qd.has(this)||Qd.set(this,{});const y=Qd.get(this);y[c]&&y[c](g.reset);const w=hM(s||_v(),e).run(()=>Uc()),{promise:E,stop:T}=e.runWithContext(()=>w.run(()=>dte(d,{target:v,...g}))),C=x=>{T(x),w.stop()};return y[c]=C,this.$firestoreRefs[c]=d,E.value},e.mixin({beforeCreate(){this.$firestoreRefs=Object.create(null)},created(){const{firestore:u}=this.$options,c=typeof u=="function"?u.call(this):u;if(c)for(const d in c)this[i](d,c[d],r)},beforeUnmount(){const u=Qd.get(this);if(u)for(const c in u)u[c]();this.$firestoreRefs=null}})};function gte(t){return(e,n)=>mte(n,t,e)}function _te(t){return yte({initialUser:t,dependencies:{popupRedirectResolver:iM,persistence:[nM,YD,_T]}})}const vte=Symbol("VueFireAuth");function yte({dependencies:t,initialUser:e}){return(n,s)=>{const[r,i]=wte(n,s,e,t);vX(r,i)}}function wte(t,e,n,s,r=UD(t,s)){const i=hM(t,e).run(()=>Z(n));return gX.set(t,i),e.provide(vte,r),[i,r]}function bte(t,{firebaseApp:e,modules:n=[]}){t.provide(fM,e);for(const s of n)s(e,t)}const Ete=K({__name:"DataTableDropDown",props:{hotel:{}},emits:["expand"],setup(t){function e(n){navigator.clipboard.writeText(n)}return(n,s)=>{const r=Xr("RouterLink");return $(),Y(m(jk),null,{default:O(()=>[M(m(e5),{"as-child":""},{default:O(()=>[M(m(Zt),{variant:"ghost",class:"w-8 h-8 p-0"},{default:O(()=>[s[2]||(s[2]=z("span",{class:"sr-only"},"Open menu",-1)),M(m(Ok),{class:"w-4 h-4"})]),_:1})]),_:1}),M(m(Hk),{align:"end"},{default:O(()=>[M(m(XH),null,{default:O(()=>s[3]||(s[3]=[ae("Actions")])),_:1}),M(m(sf),{onClick:s[0]||(s[0]=i=>e(n.hotel.name))},{default:O(()=>s[4]||(s[4]=[ae(" Copy payment ID ")])),_:1}),M(m(sf),{onClick:s[1]||(s[1]=i=>n.$emit("expand"))},{default:O(()=>s[5]||(s[5]=[ae(" Expand ")])),_:1}),M(m(JH)),M(m(sf),null,{default:O(()=>s[6]||(s[6]=[ae("View customer")])),_:1}),M(r,{to:{name:m(dE),params:{id:n.hotel.id}}},{default:O(()=>[M(m(sf),null,{default:O(()=>s[7]||(s[7]=[ae(" View hotel details ")])),_:1})]),_:1},8,["to"])]),_:1})]),_:1})}}}),gh=K({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(Yz),fe(m(i),{class:m(Fe)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n.class)}),{default:O(()=>[M(m(Qz),{class:"flex h-full w-full items-center justify-center text-current"},{default:O(()=>[J(o.$slots,"default",{},()=>[M(m(P_),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}}),Tte=[{id:"select",header:({table:t})=>Ft(gh,{modelValue:t.getIsAllPageRowsSelected(),"onUpdate:modelValue":e=>t.toggleAllPageRowsSelected(!!e),ariaLabel:"Select all"}),cell:({row:t})=>Ft(gh,{modelValue:t.getIsSelected(),"onUpdate:modelValue":e=>t.toggleSelected(!!e),ariaLabel:"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Hotel"},{accessorKey:"area",header:"Area"},{accessorKey:"email",header:({column:t})=>Ft(Zt,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc")},()=>["Email",Ft(B6,{class:"ml-2 h-4 w-4"})]),cell:({row:t})=>Ft("div",{class:"lowercase"},t.getValue("email"))},{id:"actions",enableHiding:!1,cell:({row:t})=>{const e=t.original;return Ft("div",{class:"relative"},Ft(Ete,{hotel:e,onExpand:t.toggleExpanded}))}}],Ste={class:"relative w-full overflow-auto"},Cte=K({__name:"Table",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",Ste,[z("table",{class:vt(m(Fe)("w-full caption-bottom text-sm",e.class))},[J(n.$slots,"default")],2)]))}}),xte=K({__name:"TableBody",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("tbody",{class:vt(m(Fe)("[&_tr:last-child]:border-0",e.class))},[J(n.$slots,"default")],2))}}),Vy=K({__name:"TableCell",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("td",{class:vt(m(Fe)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",e.class))},[J(n.$slots,"default")],2))}}),sm=K({__name:"TableRow",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("tr",{class:vt(m(Fe)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e.class))},[J(n.$slots,"default")],2))}}),Ite=K({__name:"TableHead",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("th",{class:vt(m(Fe)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",e.class))},[J(n.$slots,"default")],2))}}),Ate=K({__name:"TableHeader",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("thead",{class:vt(m(Fe)("[&_tr]:border-b",e.class))},[J(n.$slots,"default")],2))}});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Oa(t,e){return typeof t=="function"?t(e):t}function Nr(t,e){return n=>{e.setState(s=>({...s,[t]:Oa(n,s[t])}))}}function Tv(t){return t instanceof Function}function Rte(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Pte(t,e){const n=[],s=r=>{r.forEach(i=>{n.push(i);const o=e(i);o!=null&&o.length&&s(o)})};return s(t),n}function mt(t,e,n){let s=[],r;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=t(i);if(!(a.length!==s.length||a.some((d,h)=>s[h]!==d)))return r;s=a;let c;if(n.key&&n.debug&&(c=Date.now()),r=e(...a),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-c)*100)/100,g=h/16,v=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c ${v(h,5)} /${v(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function gt(t,e,n,s){return{debug:()=>{var r;return(r=t==null?void 0:t.debugAll)!=null?r:t[e]},key:!1,onChange:s}}function kte(t,e,n,s){const r=()=>{var o;return(o=i.getValue())!=null?o:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(s),renderValue:r,getContext:mt(()=>[t,n,e,i],(o,a,u,c)=>({table:o,column:a,row:u,cell:c,getValue:c.getValue,renderValue:c.renderValue}),gt(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(i,n,e,t)},{}),i}function Ote(t,e,n,s){var r,i;const a={...t._getDefaultColumnDef(),...e},u=a.accessorKey;let c=(r=(i=a.id)!=null?i:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?r:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:u&&(u.includes(".")?d=g=>{let v=g;for(const w of u.split(".")){var y;v=(y=v)==null?void 0:y[w]}return v}:d=g=>g[a.accessorKey]),!c)throw new Error;let h={id:`${String(c)}`,accessorFn:d,parent:s,depth:n,columnDef:a,columns:[],getFlatColumns:mt(()=>[!0],()=>{var g;return[h,...(g=h.columns)==null?void 0:g.flatMap(v=>v.getFlatColumns())]},gt(t.options,"debugColumns")),getLeafColumns:mt(()=>[t._getOrderColumnsFn()],g=>{var v;if((v=h.columns)!=null&&v.length){let y=h.columns.flatMap(w=>w.getLeafColumns());return g(y)}return[h]},gt(t.options,"debugColumns"))};for(const g of t._features)g.createColumn==null||g.createColumn(h,t);return h}const Ms="debugHeaders";function BA(t,e,n){var s;let i={id:(s=n.id)!=null?s:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(a),o.push(u)};return a(i),o},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(i,t)}),i}const Lte={createTable:t=>{t.getHeaderGroups=mt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s,r)=>{var i,o;const a=(i=s==null?void 0:s.map(h=>n.find(g=>g.id===h)).filter(Boolean))!=null?i:[],u=(o=r==null?void 0:r.map(h=>n.find(g=>g.id===h)).filter(Boolean))!=null?o:[],c=n.filter(h=>!(s!=null&&s.includes(h.id))&&!(r!=null&&r.includes(h.id)));return rm(e,[...a,...c,...u],t)},gt(t.options,Ms)),t.getCenterHeaderGroups=mt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s,r)=>(n=n.filter(i=>!(s!=null&&s.includes(i.id))&&!(r!=null&&r.includes(i.id))),rm(e,n,t,"center")),gt(t.options,Ms)),t.getLeftHeaderGroups=mt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,s)=>{var r;const i=(r=s==null?void 0:s.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?r:[];return rm(e,i,t,"left")},gt(t.options,Ms)),t.getRightHeaderGroups=mt(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,s)=>{var r;const i=(r=s==null?void 0:s.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?r:[];return rm(e,i,t,"right")},gt(t.options,Ms)),t.getFooterGroups=mt(()=>[t.getHeaderGroups()],e=>[...e].reverse(),gt(t.options,Ms)),t.getLeftFooterGroups=mt(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),gt(t.options,Ms)),t.getCenterFooterGroups=mt(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),gt(t.options,Ms)),t.getRightFooterGroups=mt(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),gt(t.options,Ms)),t.getFlatHeaders=mt(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),gt(t.options,Ms)),t.getLeftFlatHeaders=mt(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),gt(t.options,Ms)),t.getCenterFlatHeaders=mt(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),gt(t.options,Ms)),t.getRightFlatHeaders=mt(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),gt(t.options,Ms)),t.getCenterLeafHeaders=mt(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),gt(t.options,Ms)),t.getLeftLeafHeaders=mt(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),gt(t.options,Ms)),t.getRightLeafHeaders=mt(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),gt(t.options,Ms)),t.getLeafHeaders=mt(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,s)=>{var r,i,o,a,u,c;return[...(r=(i=e[0])==null?void 0:i.headers)!=null?r:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(u=(c=s[0])==null?void 0:c.headers)!=null?u:[]].map(d=>d.getLeafHeaders()).flat()},gt(t.options,Ms))}};function rm(t,e,n,s){var r,i;let o=0;const a=function(g,v){v===void 0&&(v=1),o=Math.max(o,v),g.filter(y=>y.getIsVisible()).forEach(y=>{var w;(w=y.columns)!=null&&w.length&&a(y.columns,v+1)},0)};a(t);let u=[];const c=(g,v)=>{const y={depth:v,id:[s,`${v}`].filter(Boolean).join("_"),headers:[]},w=[];g.forEach(E=>{const T=[...w].reverse()[0],C=E.column.depth===y.depth;let x,I=!1;if(C&&E.column.parent?x=E.column.parent:(x=E.column,I=!0),T&&(T==null?void 0:T.column)===x)T.subHeaders.push(E);else{const V=BA(n,x,{id:[s,v,x.id,E==null?void 0:E.id].filter(Boolean).join("_"),isPlaceholder:I,placeholderId:I?`${w.filter(F=>F.column===x).length}`:void 0,depth:v,index:w.length});V.subHeaders.push(E),w.push(V)}y.headers.push(E),E.headerGroup=y}),u.push(y),v>0&&c(w,v-1)},d=e.map((g,v)=>BA(n,g,{depth:o,index:v}));c(d,o-1),u.reverse();const h=g=>g.filter(y=>y.column.getIsVisible()).map(y=>{let w=0,E=0,T=[0];y.subHeaders&&y.subHeaders.length?(T=[],h(y.subHeaders).forEach(x=>{let{colSpan:I,rowSpan:V}=x;w+=I,T.push(V)})):w=1;const C=Math.min(...T);return E=E+C,y.colSpan=w,y.rowSpan=E,{colSpan:w,rowSpan:E}});return h((r=(i=u[0])==null?void 0:i.headers)!=null?r:[]),u}const YT=(t,e,n,s,r,i,o)=>{let a={id:e,index:s,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const c=t.getColumn(u);if(c!=null&&c.accessorFn)return a._valuesCache[u]=c.accessorFn(a.original,s),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const c=t.getColumn(u);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=c.columnDef.getUniqueValues(a.original,s),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var c;return(c=a.getValue(u))!=null?c:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Pte(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],c=a;for(;;){const d=c.getParentRow();if(!d)break;u.push(d),c=d}return u.reverse()},getAllCells:mt(()=>[t.getAllLeafColumns()],u=>u.map(c=>kte(t,a,c,c.id)),gt(t.options,"debugRows")),_getAllCellsByColumnId:mt(()=>[a.getAllCells()],u=>u.reduce((c,d)=>(c[d.column.id]=d,c),{}),gt(t.options,"debugRows"))};for(let u=0;u<t._features.length;u++){const c=t._features[u];c==null||c.createRow==null||c.createRow(a,t)}return a},Dte={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},AN=(t,e,n)=>{var s,r;const i=n==null||(s=n.toString())==null?void 0:s.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};AN.autoRemove=t=>vi(t);const RN=(t,e,n)=>{var s;return!!(!((s=t.getValue(e))==null||(s=s.toString())==null)&&s.includes(n))};RN.autoRemove=t=>vi(t);const PN=(t,e,n)=>{var s;return((s=t.getValue(e))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(n==null?void 0:n.toLowerCase())};PN.autoRemove=t=>vi(t);const kN=(t,e,n)=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(n)};kN.autoRemove=t=>vi(t);const ON=(t,e,n)=>!n.some(s=>{var r;return!((r=t.getValue(e))!=null&&r.includes(s))});ON.autoRemove=t=>vi(t)||!(t!=null&&t.length);const LN=(t,e,n)=>n.some(s=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(s)});LN.autoRemove=t=>vi(t)||!(t!=null&&t.length);const DN=(t,e,n)=>t.getValue(e)===n;DN.autoRemove=t=>vi(t);const MN=(t,e,n)=>t.getValue(e)==n;MN.autoRemove=t=>vi(t);const QT=(t,e,n)=>{let[s,r]=n;const i=t.getValue(e);return i>=s&&i<=r};QT.resolveFilterValue=t=>{let[e,n]=t,s=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(s)?-1/0:s,o=n===null||Number.isNaN(r)?1/0:r;if(i>o){const a=i;i=o,o=a}return[i,o]};QT.autoRemove=t=>vi(t)||vi(t[0])&&vi(t[1]);const Po={includesString:AN,includesStringSensitive:RN,equalsString:PN,arrIncludes:kN,arrIncludesAll:ON,arrIncludesSome:LN,equals:DN,weakEquals:MN,inNumberRange:QT};function vi(t){return t==null||t===""}const Mte={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Nr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(t.id);return typeof s=="string"?Po.includesString:typeof s=="number"?Po.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?Po.equals:Array.isArray(s)?Po.arrIncludes:Po.weakEquals},t.getFilterFn=()=>{var n,s;return Tv(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(s=e.options.filterFns)==null?void 0:s[t.columnDef.filterFn])!=null?n:Po[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,s,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((s=e.options.enableColumnFilters)!=null?s:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(s=>s.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,s;return(n=(s=e.getState().columnFilters)==null?void 0:s.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(s=>{const r=t.getFilterFn(),i=s==null?void 0:s.find(d=>d.id===t.id),o=Oa(n,i?i.value:void 0);if(UA(r,o,t)){var a;return(a=s==null?void 0:s.filter(d=>d.id!==t.id))!=null?a:[]}const u={id:t.id,value:o};if(i){var c;return(c=s==null?void 0:s.map(d=>d.id===t.id?u:d))!=null?c:[]}return s!=null&&s.length?[...s,u]:[u]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),s=r=>{var i;return(i=Oa(e,r))==null?void 0:i.filter(o=>{const a=n.find(u=>u.id===o.id);if(a){const u=a.getFilterFn();if(UA(u,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(s)},t.resetColumnFilters=e=>{var n,s;t.setColumnFilters(e?[]:(n=(s=t.initialState)==null?void 0:s.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function UA(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Nte=(t,e,n)=>n.reduce((s,r)=>{const i=r.getValue(t);return s+(typeof i=="number"?i:0)},0),Vte=(t,e,n)=>{let s;return n.forEach(r=>{const i=r.getValue(t);i!=null&&(s>i||s===void 0&&i>=i)&&(s=i)}),s},Fte=(t,e,n)=>{let s;return n.forEach(r=>{const i=r.getValue(t);i!=null&&(s<i||s===void 0&&i>=i)&&(s=i)}),s},$te=(t,e,n)=>{let s,r;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(s===void 0?o>=o&&(s=r=o):(s>o&&(s=o),r<o&&(r=o)))}),[s,r]},Bte=(t,e)=>{let n=0,s=0;if(e.forEach(r=>{let i=r.getValue(t);i!=null&&(i=+i)>=i&&(++n,s+=i)}),n)return s/n},Ute=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!Rte(n))return;if(n.length===1)return n[0];const s=Math.floor(n.length/2),r=n.sort((i,o)=>i-o);return n.length%2!==0?r[s]:(r[s-1]+r[s])/2},zte=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),jte=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Hte=(t,e)=>e.length,Fy={sum:Nte,min:Vte,max:Fte,extent:$te,mean:Bte,median:Ute,unique:zte,uniqueCount:jte,count:Hte},qte={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Nr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(s=>s!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,s;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((s=e.options.enableGrouping)!=null?s:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(t.id);if(typeof s=="number")return Fy.sum;if(Object.prototype.toString.call(s)==="[object Date]")return Fy.extent},t.getAggregationFn=()=>{var n,s;if(!t)throw new Error;return Tv(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(s=e.options.aggregationFns)==null?void 0:s[t.columnDef.aggregationFn])!=null?n:Fy[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,s;t.setGrouping(e?[]:(n=(s=t.initialState)==null?void 0:s.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const s=e.getColumn(n);return s!=null&&s.columnDef.getGroupingValue?(t._groupingValuesCache[n]=s.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,s)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function Wte(t,e,n){if(!(e!=null&&e.length)||!n)return t;const s=t.filter(i=>!e.includes(i.id));return n==="remove"?s:[...e.map(i=>t.find(o=>o.id===i)).filter(Boolean),...s]}const Gte={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Nr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=mt(n=>[Uf(e,n)],n=>n.findIndex(s=>s.id===t.id),gt(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var s;return((s=Uf(e,n)[0])==null?void 0:s.id)===t.id},t.getIsLastColumn=n=>{var s;const r=Uf(e,n);return((s=r[r.length-1])==null?void 0:s.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=mt(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,s)=>r=>{let i=[];if(!(e!=null&&e.length))i=r;else{const o=[...e],a=[...r];for(;a.length&&o.length;){const u=o.shift(),c=a.findIndex(d=>d.id===u);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return Wte(i,n,s)},gt(t.options,"debugTable"))}},$y=()=>({left:[],right:[]}),Kte={getInitialState:t=>({columnPinning:$y(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Nr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const s=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var i,o;if(n==="right"){var a,u;return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(h=>!(s!=null&&s.includes(h))),right:[...((u=r==null?void 0:r.right)!=null?u:[]).filter(h=>!(s!=null&&s.includes(h))),...s]}}if(n==="left"){var c,d;return{left:[...((c=r==null?void 0:r.left)!=null?c:[]).filter(h=>!(s!=null&&s.includes(h))),...s],right:((d=r==null?void 0:r.right)!=null?d:[]).filter(h=>!(s!=null&&s.includes(h)))}}return{left:((i=r==null?void 0:r.left)!=null?i:[]).filter(h=>!(s!=null&&s.includes(h))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(h=>!(s!=null&&s.includes(h)))}})},t.getCanPin=()=>t.getLeafColumns().some(s=>{var r,i,o;return((r=s.columnDef.enablePinning)!=null?r:!0)&&((i=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:s,right:r}=e.getState().columnPinning,i=n.some(a=>s==null?void 0:s.includes(a)),o=n.some(a=>r==null?void 0:r.includes(a));return i?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,s;const r=t.getIsPinned();return r?(n=(s=e.getState().columnPinning)==null||(s=s[r])==null?void 0:s.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=mt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,s,r)=>{const i=[...s??[],...r??[]];return n.filter(o=>!i.includes(o.column.id))},gt(e.options,"debugRows")),t.getLeftVisibleCells=mt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,s)=>(s??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),gt(e.options,"debugRows")),t.getRightVisibleCells=mt(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,s)=>(s??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),gt(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,s;return t.setColumnPinning(e?$y():(n=(s=t.initialState)==null?void 0:s.columnPinning)!=null?n:$y())},t.getIsSomeColumnsPinned=e=>{var n;const s=t.getState().columnPinning;if(!e){var r,i;return!!((r=s.left)!=null&&r.length||(i=s.right)!=null&&i.length)}return!!((n=s[e])!=null&&n.length)},t.getLeftLeafColumns=mt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(s=>e.find(r=>r.id===s)).filter(Boolean),gt(t.options,"debugColumns")),t.getRightLeafColumns=mt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(s=>e.find(r=>r.id===s)).filter(Boolean),gt(t.options,"debugColumns")),t.getCenterLeafColumns=mt(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s)=>{const r=[...n??[],...s??[]];return e.filter(i=>!r.includes(i.id))},gt(t.options,"debugColumns"))}},im={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},By=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Zte={getDefaultColumnDef:()=>im,getInitialState:t=>({columnSizing:{},columnSizingInfo:By(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Nr("columnSizing",t),onColumnSizingInfoChange:Nr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,s,r;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:im.minSize,(s=i??t.columnDef.size)!=null?s:im.size),(r=t.columnDef.maxSize)!=null?r:im.maxSize)},t.getStart=mt(n=>[n,Uf(e,n),e.getState().columnSizing],(n,s)=>s.slice(0,t.getIndex(n)).reduce((r,i)=>r+i.getSize(),0),gt(e.options,"debugColumns")),t.getAfter=mt(n=>[n,Uf(e,n),e.getState().columnSizing],(n,s)=>s.slice(t.getIndex(n)+1).reduce((r,i)=>r+i.getSize(),0),gt(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:s,...r}=n;return r})},t.getCanResize=()=>{var n,s;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((s=e.options.enableColumnResizing)!=null?s:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const s=r=>{if(r.subHeaders.length)r.subHeaders.forEach(s);else{var i;n+=(i=r.column.getSize())!=null?i:0}};return s(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const s=e.getColumn(t.column.id),r=s==null?void 0:s.getCanResize();return i=>{if(!s||!r||(i.persist==null||i.persist(),Uy(i)&&i.touches&&i.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(T=>[T.column.id,T.column.getSize()]):[[s.id,s.getSize()]],u=Uy(i)?Math.round(i.touches[0].clientX):i.clientX,c={},d=(T,C)=>{typeof C=="number"&&(e.setColumnSizingInfo(x=>{var I,V;const F=e.options.columnResizeDirection==="rtl"?-1:1,k=(C-((I=x==null?void 0:x.startOffset)!=null?I:0))*F,P=Math.max(k/((V=x==null?void 0:x.startSize)!=null?V:0),-.999999);return x.columnSizingStart.forEach(A=>{let[N,U]=A;c[N]=Math.round(Math.max(U+U*P,0)*100)/100}),{...x,deltaOffset:k,deltaPercentage:P}}),(e.options.columnResizeMode==="onChange"||T==="end")&&e.setColumnSizing(x=>({...x,...c})))},h=T=>d("move",T),g=T=>{d("end",T),e.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=n||typeof document<"u"?document:null,y={moveHandler:T=>h(T.clientX),upHandler:T=>{v==null||v.removeEventListener("mousemove",y.moveHandler),v==null||v.removeEventListener("mouseup",y.upHandler),g(T.clientX)}},w={moveHandler:T=>(T.cancelable&&(T.preventDefault(),T.stopPropagation()),h(T.touches[0].clientX),!1),upHandler:T=>{var C;v==null||v.removeEventListener("touchmove",w.moveHandler),v==null||v.removeEventListener("touchend",w.upHandler),T.cancelable&&(T.preventDefault(),T.stopPropagation()),g((C=T.touches[0])==null?void 0:C.clientX)}},E=Yte()?{passive:!1}:!1;Uy(i)?(v==null||v.addEventListener("touchmove",w.moveHandler,E),v==null||v.addEventListener("touchend",w.upHandler,E)):(v==null||v.addEventListener("mousemove",y.moveHandler,E),v==null||v.addEventListener("mouseup",y.upHandler,E)),e.setColumnSizingInfo(T=>({...T,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:s.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?By():(n=t.initialState.columnSizingInfo)!=null?n:By())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0}}};let om=null;function Yte(){if(typeof om=="boolean")return om;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return om=t,om}function Uy(t){return t.type==="touchstart"}const Qte={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Nr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(s=>({...s,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,s;const r=t.columns;return(n=r.length?r.some(i=>i.getIsVisible()):(s=e.getState().columnVisibility)==null?void 0:s[t.id])!=null?n:!0},t.getCanHide=()=>{var n,s;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((s=e.options.enableHiding)!=null?s:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=mt(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(s=>s.column.getIsVisible()),gt(e.options,"debugRows")),t.getVisibleCells=mt(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,s,r)=>[...n,...s,...r],gt(e.options,"debugRows"))},createTable:t=>{const e=(n,s)=>mt(()=>[s(),s().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),gt(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var s;t.setColumnVisibility(n?{}:(s=t.initialState.columnVisibility)!=null?s:{})},t.toggleAllColumnsVisible=n=>{var s;n=(s=n)!=null?s:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,i)=>({...r,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var s;t.toggleAllColumnsVisible((s=n.target)==null?void 0:s.checked)}}};function Uf(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Xte={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Jte={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Nr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const s=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,s,r,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((s=e.options.enableGlobalFilter)!=null?s:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Po.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:s}=t.options;return Tv(s)?s:s==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[s])!=null?e:Po[s]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},ene={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Nr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var s,r;if(!e){t._queue(()=>{e=!0});return}if((s=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?s:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=s=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(s),t.toggleAllRowsExpanded=s=>{s??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=s=>{var r,i;t.setExpanded(s?{}:(r=(i=t.initialState)==null?void 0:i.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const s=t.getState().expanded;return s===!0||Object.values(s).some(Boolean)},t.getIsAllRowsExpanded=()=>{const s=t.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let s=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const o=i.split(".");s=Math.max(s,o.length)}),s},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(s=>{var r;const i=s===!0?!0:!!(s!=null&&s[t.id]);let o={};if(s===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=s,n=(r=n)!=null?r:!i,!i&&n)return{...o,[t.id]:!0};if(i&&!n){const{[t.id]:a,...u}=o;return u}return s})},t.getIsExpanded=()=>{var n;const s=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:s===!0||s!=null&&s[t.id])},t.getCanExpand=()=>{var n,s,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((s=e.options.enableExpanding)!=null?s:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,s=t;for(;n&&s.parentId;)s=e.getRow(s.parentId,!0),n=s.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Bb=0,Ub=10,zy=()=>({pageIndex:Bb,pageSize:Ub}),tne={getInitialState:t=>({...t,pagination:{...zy(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Nr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var s,r;if(!e){t._queue(()=>{e=!0});return}if((s=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?s:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=s=>{const r=i=>Oa(s,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=s=>{var r;t.setPagination(s?zy():(r=t.initialState.pagination)!=null?r:zy())},t.setPageIndex=s=>{t.setPagination(r=>{let i=Oa(s,r.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...r,pageIndex:i}})},t.resetPageIndex=s=>{var r,i;t.setPageIndex(s?Bb:(r=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?r:Bb)},t.resetPageSize=s=>{var r,i;t.setPageSize(s?Ub:(r=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?r:Ub)},t.setPageSize=s=>{t.setPagination(r=>{const i=Math.max(1,Oa(s,r.pageSize)),o=r.pageSize*r.pageIndex,a=Math.floor(o/i);return{...r,pageIndex:a,pageSize:i}})},t.setPageCount=s=>t.setPagination(r=>{var i;let o=Oa(s,(i=t.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),t.getPageOptions=mt(()=>[t.getPageCount()],s=>{let r=[];return s&&s>0&&(r=[...new Array(s)].fill(null).map((i,o)=>o)),r},gt(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:s}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:s<r-1},t.previousPage=()=>t.setPageIndex(s=>s-1),t.nextPage=()=>t.setPageIndex(s=>s+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var s;return(s=t.options.pageCount)!=null?s:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var s;return(s=t.options.rowCount)!=null?s:t.getPrePaginationRowModel().rows.length}}},jy=()=>({top:[],bottom:[]}),nne={getInitialState:t=>({rowPinning:jy(),...t}),getDefaultOptions:t=>({onRowPinningChange:Nr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,s,r)=>{const i=s?t.getLeafRows().map(u=>{let{id:c}=u;return c}):[],o=r?t.getParentRows().map(u=>{let{id:c}=u;return c}):[],a=new Set([...o,t.id,...i]);e.setRowPinning(u=>{var c,d;if(n==="bottom"){var h,g;return{top:((h=u==null?void 0:u.top)!=null?h:[]).filter(w=>!(a!=null&&a.has(w))),bottom:[...((g=u==null?void 0:u.bottom)!=null?g:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)]}}if(n==="top"){var v,y;return{top:[...((v=u==null?void 0:u.top)!=null?v:[]).filter(w=>!(a!=null&&a.has(w))),...Array.from(a)],bottom:((y=u==null?void 0:u.bottom)!=null?y:[]).filter(w=>!(a!=null&&a.has(w)))}}return{top:((c=u==null?void 0:u.top)!=null?c:[]).filter(w=>!(a!=null&&a.has(w))),bottom:((d=u==null?void 0:u.bottom)!=null?d:[]).filter(w=>!(a!=null&&a.has(w)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:s,enablePinning:r}=e.options;return typeof s=="function"?s(t):(n=s??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:s,bottom:r}=e.getState().rowPinning,i=n.some(a=>s==null?void 0:s.includes(a)),o=n.some(a=>r==null?void 0:r.includes(a));return i?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,s;const r=t.getIsPinned();if(!r)return-1;const i=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(s=i==null?void 0:i.indexOf(t.id))!=null?s:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,s;return t.setRowPinning(e?jy():(n=(s=t.initialState)==null?void 0:s.rowPinning)!=null?n:jy())},t.getIsSomeRowsPinned=e=>{var n;const s=t.getState().rowPinning;if(!e){var r,i;return!!((r=s.top)!=null&&r.length||(i=s.bottom)!=null&&i.length)}return!!((n=s[e])!=null&&n.length)},t._getPinnedRows=(e,n,s)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:s}))},t.getTopRows=mt(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),gt(t.options,"debugRows")),t.getBottomRows=mt(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),gt(t.options,"debugRows")),t.getCenterRows=mt(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,s)=>{const r=new Set([...n??[],...s??[]]);return e.filter(i=>!r.has(i.id))},gt(t.options,"debugRows"))}},sne={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Nr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const s={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(i=>{i.getCanSelect()&&(s[i.id]=!0)}):r.forEach(i=>{delete s[i.id]}),s})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const s=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(i=>{zb(r,i.id,s,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=mt(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Hy(t,n):{rows:[],flatRows:[],rowsById:{}},gt(t.options,"debugTable")),t.getFilteredSelectedRowModel=mt(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Hy(t,n):{rows:[],flatRows:[],rowsById:{}},gt(t.options,"debugTable")),t.getGroupedSelectedRowModel=mt(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Hy(t,n):{rows:[],flatRows:[],rowsById:{}},gt(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let s=!!(e.length&&Object.keys(n).length);return s&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(s=!1),s},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let s=!!e.length;return s&&e.some(r=>!n[r.id])&&(s=!1),s},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,s)=>{const r=t.getIsSelected();e.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return i;const a={...i};return zb(a,t.id,n,(o=s==null?void 0:s.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return XT(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return jb(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return jb(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return s=>{var r;n&&t.toggleSelected((r=s.target)==null?void 0:r.checked)}}}},zb=(t,e,n,s,r)=>{var i;const o=r.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],s&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>zb(t,a.id,n,s,r))};function Hy(t,e){const n=t.getState().rowSelection,s=[],r={},i=function(o,a){return o.map(u=>{var c;const d=XT(u,n);if(d&&(s.push(u),r[u.id]=u),(c=u.subRows)!=null&&c.length&&(u={...u,subRows:i(u.subRows)}),d)return u}).filter(Boolean)};return{rows:i(e.rows),flatRows:s,rowsById:r}}function XT(t,e){var n;return(n=e[t.id])!=null?n:!1}function jb(t,e,n){var s;if(!((s=t.subRows)!=null&&s.length))return!1;let r=!0,i=!1;return t.subRows.forEach(o=>{if(!(i&&!r)&&(o.getCanSelect()&&(XT(o,e)?i=!0:r=!1),o.subRows&&o.subRows.length)){const a=jb(o,e);a==="all"?i=!0:(a==="some"&&(i=!0),r=!1)}}),r?"all":i?"some":!1}const Hb=/([0-9]+)/gm,rne=(t,e,n)=>NN(Ja(t.getValue(n)).toLowerCase(),Ja(e.getValue(n)).toLowerCase()),ine=(t,e,n)=>NN(Ja(t.getValue(n)),Ja(e.getValue(n))),one=(t,e,n)=>JT(Ja(t.getValue(n)).toLowerCase(),Ja(e.getValue(n)).toLowerCase()),ane=(t,e,n)=>JT(Ja(t.getValue(n)),Ja(e.getValue(n))),lne=(t,e,n)=>{const s=t.getValue(n),r=e.getValue(n);return s>r?1:s<r?-1:0},une=(t,e,n)=>JT(t.getValue(n),e.getValue(n));function JT(t,e){return t===e?0:t>e?1:-1}function Ja(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function NN(t,e){const n=t.split(Hb).filter(Boolean),s=e.split(Hb).filter(Boolean);for(;n.length&&s.length;){const r=n.shift(),i=s.shift(),o=parseInt(r,10),a=parseInt(i,10),u=[o,a].sort();if(isNaN(u[0])){if(r>i)return 1;if(i>r)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-s.length}const Xd={alphanumeric:rne,alphanumericCaseSensitive:ine,text:one,textCaseSensitive:ane,datetime:lne,basic:une},cne={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Nr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const r of n){const i=r==null?void 0:r.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return Xd.datetime;if(typeof i=="string"&&(s=!0,i.split(Hb).length>1))return Xd.alphanumeric}return s?Xd.text:Xd.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,s;if(!t)throw new Error;return Tv(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(s=e.options.sortingFns)==null?void 0:s[t.columnDef.sortingFn])!=null?n:Xd[t.columnDef.sortingFn]},t.toggleSorting=(n,s)=>{const r=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o==null?void 0:o.find(v=>v.id===t.id),u=o==null?void 0:o.findIndex(v=>v.id===t.id);let c=[],d,h=i?n:r==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&s?a?d="toggle":d="add":o!=null&&o.length&&u!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(i||r||(d="remove")),d==="add"){var g;c=[...o,{id:t.id,desc:h}],c.splice(0,c.length-((g=e.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else d==="toggle"?c=o.map(v=>v.id===t.id?{...v,desc:h}:v):d==="remove"?c=o.filter(v=>v.id!==t.id):c=[{id:t.id,desc:h}];return c})},t.getFirstSortDir=()=>{var n,s;return((n=(s=t.columnDef.sortDescFirst)!=null?s:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var s,r;const i=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==i&&((s=e.options.enableSortingRemoval)==null||s)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,s;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((s=e.options.enableSorting)!=null?s:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,s;return(n=(s=t.columnDef.enableMultiSort)!=null?s:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const s=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return s?s.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,s;return(n=(s=e.getState().sorting)==null?void 0:s.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(s=>s.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return s=>{n&&(s.persist==null||s.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(s):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,s;t.setSorting(e?[]:(n=(s=t.initialState)==null?void 0:s.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},dne=[Lte,Qte,Gte,Kte,Dte,Mte,Xte,Jte,cne,qte,ene,tne,nne,sne,Zte];function fne(t){var e,n;const s=[...dne,...(e=t._features)!=null?e:[]];let r={_features:s};const i=r._features.reduce((g,v)=>Object.assign(g,v.getDefaultOptions==null?void 0:v.getDefaultOptions(r)),{}),o=g=>r.options.mergeOptions?r.options.mergeOptions(i,g):{...i,...g};let u={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(g=>{var v;u=(v=g.getInitialState==null?void 0:g.getInitialState(u))!=null?v:u});const c=[];let d=!1;const h={_features:s,options:{...i,...t},initialState:u,_queue:g=>{c.push(g),d||(d=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();d=!1}).catch(v=>setTimeout(()=>{throw v})))},reset:()=>{r.setState(r.initialState)},setOptions:g=>{const v=Oa(g,r.options);r.options=o(v)},getState:()=>r.options.state,setState:g=>{r.options.onStateChange==null||r.options.onStateChange(g)},_getRowId:(g,v,y)=>{var w;return(w=r.options.getRowId==null?void 0:r.options.getRowId(g,v,y))!=null?w:`${y?[y.id,v].join("."):v}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(g,v)=>{let y=(v?r.getPrePaginationRowModel():r.getRowModel()).rowsById[g];if(!y&&(y=r.getCoreRowModel().rowsById[g],!y))throw new Error;return y},_getDefaultColumnDef:mt(()=>[r.options.defaultColumn],g=>{var v;return g=(v=g)!=null?v:{},{header:y=>{const w=y.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:y=>{var w,E;return(w=(E=y.renderValue())==null||E.toString==null?void 0:E.toString())!=null?w:null},...r._features.reduce((y,w)=>Object.assign(y,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...g}},gt(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:mt(()=>[r._getColumnDefs()],g=>{const v=function(y,w,E){return E===void 0&&(E=0),y.map(T=>{const C=Ote(r,T,E,w),x=T;return C.columns=x.columns?v(x.columns,C,E+1):[],C})};return v(g)},gt(t,"debugColumns")),getAllFlatColumns:mt(()=>[r.getAllColumns()],g=>g.flatMap(v=>v.getFlatColumns()),gt(t,"debugColumns")),_getAllFlatColumnsById:mt(()=>[r.getAllFlatColumns()],g=>g.reduce((v,y)=>(v[y.id]=y,v),{}),gt(t,"debugColumns")),getAllLeafColumns:mt(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(g,v)=>{let y=g.flatMap(w=>w.getLeafColumns());return v(y)},gt(t,"debugColumns")),getColumn:g=>r._getAllFlatColumnsById()[g]};Object.assign(r,h);for(let g=0;g<r._features.length;g++){const v=r._features[g];v==null||v.createTable==null||v.createTable(r)}return r}function hne(){return t=>mt(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},s=function(r,i,o){i===void 0&&(i=0);const a=[];for(let c=0;c<r.length;c++){const d=YT(t,t._getRowId(r[c],c,o),r[c],c,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),t.options.getSubRows){var u;d.originalSubRows=t.options.getSubRows(r[c],c),(u=d.originalSubRows)!=null&&u.length&&(d.subRows=s(d.originalSubRows,i+1,d))}}return a};return n.rows=s(e),n},gt(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function pne(){return t=>mt(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,s)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!s?n:VN(n),gt(t.options,"debugTable"))}function VN(t){const e=[],n=s=>{var r;e.push(s),(r=s.subRows)!=null&&r.length&&s.getIsExpanded()&&s.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function mne(t,e,n){return n.options.filterFromLeafRows?gne(t,e,n):_ne(t,e,n)}function gne(t,e,n){var s;const r=[],i={},o=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,a=function(u,c){c===void 0&&(c=0);const d=[];for(let g=0;g<u.length;g++){var h;let v=u[g];const y=YT(n,v.id,v.original,v.index,v.depth,void 0,v.parentId);if(y.columnFilters=v.columnFilters,(h=v.subRows)!=null&&h.length&&c<o){if(y.subRows=a(v.subRows,c+1),v=y,e(v)&&!y.subRows.length){d.push(v),i[v.id]=v,r.push(v);continue}if(e(v)||y.subRows.length){d.push(v),i[v.id]=v,r.push(v);continue}}else v=y,e(v)&&(d.push(v),i[v.id]=v,r.push(v))}return d};return{rows:a(t),flatRows:r,rowsById:i}}function _ne(t,e,n){var s;const r=[],i={},o=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,a=function(u,c){c===void 0&&(c=0);const d=[];for(let g=0;g<u.length;g++){let v=u[g];if(e(v)){var h;if((h=v.subRows)!=null&&h.length&&c<o){const w=YT(n,v.id,v.original,v.index,v.depth,void 0,v.parentId);w.subRows=a(v.subRows,c+1),v=w}d.push(v),r.push(v),i[v.id]=v}}return d};return{rows:a(t),flatRows:r,rowsById:i}}function vne(){return t=>mt(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,s)=>{if(!e.rows.length||!(n!=null&&n.length)&&!s){for(let g=0;g<e.flatRows.length;g++)e.flatRows[g].columnFilters={},e.flatRows[g].columnFiltersMeta={};return e}const r=[],i=[];(n??[]).forEach(g=>{var v;const y=t.getColumn(g.id);if(!y)return;const w=y.getFilterFn();w&&r.push({id:g.id,filterFn:w,resolvedValue:(v=w.resolveFilterValue==null?void 0:w.resolveFilterValue(g.value))!=null?v:g.value})});const o=(n??[]).map(g=>g.id),a=t.getGlobalFilterFn(),u=t.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());s&&a&&u.length&&(o.push("__global__"),u.forEach(g=>{var v;i.push({id:g.id,filterFn:a,resolvedValue:(v=a.resolveFilterValue==null?void 0:a.resolveFilterValue(s))!=null?v:s})}));let c,d;for(let g=0;g<e.flatRows.length;g++){const v=e.flatRows[g];if(v.columnFilters={},r.length)for(let y=0;y<r.length;y++){c=r[y];const w=c.id;v.columnFilters[w]=c.filterFn(v,w,c.resolvedValue,E=>{v.columnFiltersMeta[w]=E})}if(i.length){for(let y=0;y<i.length;y++){d=i[y];const w=d.id;if(d.filterFn(v,w,d.resolvedValue,E=>{v.columnFiltersMeta[w]=E})){v.columnFilters.__global__=!0;break}}v.columnFilters.__global__!==!0&&(v.columnFilters.__global__=!1)}}const h=g=>{for(let v=0;v<o.length;v++)if(g.columnFilters[o[v]]===!1)return!1;return!0};return mne(e.rows,h,t)},gt(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function yne(t){return e=>mt(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,s)=>{if(!s.rows.length)return s;const{pageSize:r,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:u}=s;const c=r*i,d=c+r;o=o.slice(c,d);let h;e.options.paginateExpandedRows?h={rows:o,flatRows:a,rowsById:u}:h=VN({rows:o,flatRows:a,rowsById:u}),h.flatRows=[];const g=v=>{h.flatRows.push(v),v.subRows.length&&v.subRows.forEach(g)};return h.rows.forEach(g),h},gt(e.options,"debugTable"))}function wne(){return t=>mt(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const s=t.getState().sorting,r=[],i=s.filter(u=>{var c;return(c=t.getColumn(u.id))==null?void 0:c.getCanSort()}),o={};i.forEach(u=>{const c=t.getColumn(u.id);c&&(o[u.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=u=>{const c=u.map(d=>({...d}));return c.sort((d,h)=>{for(let v=0;v<i.length;v+=1){var g;const y=i[v],w=o[y.id],E=w.sortUndefined,T=(g=y==null?void 0:y.desc)!=null?g:!1;let C=0;if(E){const x=d.getValue(y.id),I=h.getValue(y.id),V=x===void 0,F=I===void 0;if(V||F){if(E==="first")return V?-1:1;if(E==="last")return V?1:-1;C=V&&F?0:V?E:-E}}if(C===0&&(C=w.sortingFn(d,h,y.id)),C!==0)return T&&(C*=-1),w.invertSorting&&(C*=-1),C}return d.index-h.index}),c.forEach(d=>{var h;r.push(d),(h=d.subRows)!=null&&h.length&&(d.subRows=a(d.subRows))}),c};return{rows:a(n.rows),flatRows:r,rowsById:n.rowsById}},gt(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function am(){return!0}const bne=Symbol("merge-proxy"),Ene={get(t,e,n){return e===bne?n:t.get(e)},has(t,e){return t.has(e)},set:am,deleteProperty:am,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:am,deleteProperty:am}},ownKeys(t){return t.keys()}};function qy(t){return"value"in t?t.value:t}function hf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Proxy({get(s){for(let r=e.length-1;r>=0;r--){const i=qy(e[r])[s];if(i!==void 0)return i}},has(s){for(let r=e.length-1;r>=0;r--)if(s in qy(e[r]))return!0;return!1},keys(){const s=[];for(let r=0;r<e.length;r++)s.push(...Object.keys(qy(e[r])));return[...Array.from(new Set(s))]}},Ene)}const zA=K({props:["render","props"],setup:t=>()=>typeof t.render=="function"||typeof t.render=="object"?Ft(t.render,t.props):t.render});function jA(t){return hf(t,{data:m(t.data)})}function Tne(t){const e=Dt(t.data),n=hf({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(i,o){return e?{...i,...o}:hf(i,o)}},e?jA(t):t),s=fne(n);if(e){const i=Cs(t.data);ct(i,()=>{s.setState(o=>({...o,data:i.value}))},{immediate:!0})}const r=Z(s.initialState);return qn(()=>{s.setOptions(i=>{var o;const a=new Proxy({},{get:(u,c)=>r.value[c]});return hf(i,e?jA(t):t,{state:hf(a,(o=t.state)!=null?o:{}),onStateChange:u=>{u instanceof Function?r.value=u(r.value):r.value=u,t.onStateChange==null||t.onStateChange(u)}})})}),s}const Sne={class:"flex items-center justify-between py-4"},Cne={class:"rounded-md border"},xne={class:"flex items-center justify-end space-x-2 py-4"},Ine={class:"flex-1 text-sm text-muted-foreground"},Ane=K({__name:"data-table",props:{columns:{},data:{}},emits:["deleted"],setup(t,{emit:e}){const n=wr(),s=()=>{n.push(Kk)},r=t,i=Z([]),o=Z([]),a=Z({}),u=Z({}),c=Tne({get data(){return r.data},get columns(){return r.columns},getCoreRowModel:hne(),getPaginationRowModel:yne(),getSortedRowModel:wne(),getExpandedRowModel:pne(),onSortingChange:v=>Mp(v,i),onColumnFiltersChange:v=>Mp(v,o),getFilteredRowModel:vne(),onRowSelectionChange:v=>Mp(v,a),onExpandedChange:v=>Mp(v,u),state:{get sorting(){return i.value},get columnFilters(){return o.value},get rowSelection(){return a.value},get expanded(){return u.value}}}),{toast:d}=rd(),h=e,g=async()=>{const y=c.getSelectedRowModel().rows.map(w=>w.original.id);if(!y.length){d({title:"Nothing is choosed",description:"Choose a hotel to delete",variant:"destructive",action:Ft(Qa,{altText:"Good"},{default:()=>"Close"})});return}try{await Promise.all(y.map(w=>rv(ds(rn,"hotels",w)))),d({title:"Success",description:"Hotels are deleted",variant:"default"}),c.resetRowSelection(),h("deleted",y)}catch{d({title:"Error",description:"Smth went wrong",variant:"destructive",action:Ft(Qa,{altText:"Good"},{default:()=>"Close"})})}};return(v,y)=>{var w;return $(),ie("div",null,[z("div",Sne,[M(m(wn),{class:"max-w-sm",placeholder:"Filter emails...","model-value":(w=m(c).getColumn("email"))==null?void 0:w.getFilterValue(),"onUpdate:modelValue":y[0]||(y[0]=E=>{var T;return(T=m(c).getColumn("email"))==null?void 0:T.setFilterValue(E)})},null,8,["model-value"]),M(m(Zt),{onClick:g},{default:O(()=>y[3]||(y[3]=[ae("Delete selected hotels")])),_:1}),M(m(Zt),{onClick:s},{default:O(()=>y[4]||(y[4]=[ae("Add new hotel")])),_:1})]),z("div",Cne,[M(m(Cte),null,{default:O(()=>[M(m(Ate),null,{default:O(()=>[($(!0),ie(Ke,null,jt(m(c).getHeaderGroups(),E=>($(),Y(m(sm),{key:E.id},{default:O(()=>[($(!0),ie(Ke,null,jt(E.headers,T=>($(),Y(m(Ite),{key:T.id},{default:O(()=>[T.isPlaceholder?Ht("",!0):($(),Y(m(zA),{key:0,render:T.column.columnDef.header,props:T.getContext()},null,8,["render","props"]))]),_:2},1024))),128))]),_:2},1024))),128))]),_:1}),M(m(xte),null,{default:O(()=>{var E;return[(E=m(c).getRowModel().rows)!=null&&E.length?($(!0),ie(Ke,{key:0},jt(m(c).getRowModel().rows,T=>($(),ie(Ke,{key:T.id},[M(m(sm),{"data-state":T.getIsSelected()?"selected":void 0},{default:O(()=>[($(!0),ie(Ke,null,jt(T.getVisibleCells(),C=>($(),Y(m(Vy),{key:C.id},{default:O(()=>[M(m(zA),{render:C.column.columnDef.cell,props:C.getContext()},null,8,["render","props"])]),_:2},1024))),128))]),_:2},1032,["data-state"]),T.getIsExpanded()?($(),Y(m(sm),{key:0},{default:O(()=>[M(m(Vy),{colspan:T.getAllCells().length},{default:O(()=>[ae(Ie(JSON.stringify(T.original)),1)]),_:2},1032,["colspan"])]),_:2},1024)):Ht("",!0)],64))),128)):($(),Y(m(sm),{key:1},{default:O(()=>[M(m(Vy),{colspan:r.columns.length,class:"h-24 text-center"},{default:O(()=>y[5]||(y[5]=[ae(" No results. ")])),_:1},8,["colspan"])]),_:1}))]}),_:1})]),_:1})]),z("div",xne,[z("div",Ine,Ie(m(c).getFilteredSelectedRowModel().rows.length)+" of "+Ie(m(c).getFilteredRowModel().rows.length)+" row(s) selected. ",1),M(m(Zt),{variant:"outline",size:"sm",disabled:!m(c).getCanPreviousPage(),onClick:y[1]||(y[1]=E=>m(c).previousPage())},{default:O(()=>y[6]||(y[6]=[ae(" Previous ")])),_:1},8,["disabled"]),M(m(Zt),{variant:"outline",size:"sm",disabled:!m(c).getCanNextPage(),onClick:y[2]||(y[2]=E=>m(c).nextPage())},{default:O(()=>y[7]||(y[7]=[ae(" Next ")])),_:1},8,["disabled"])])])}}}),Rne=K({__name:"Hotel",setup(t){const e=Z([]),n=s=>{e.value=e.value.filter(r=>!s.includes(r.id))};return bt(async()=>{const s=await ei(tr(rn,"hotels"));e.value=s.docs.map(r=>{const i=r.data();return{id:r.id,name:i.name||"",area:i.area||"",email:i.email||"",rooms:Array.isArray(i.rooms)?i.rooms.length:0}})}),(s,r)=>($(),Y(Ane,{columns:m(Tte),data:e.value,onDeleted:n},null,8,["columns","data"]))}}),FN=K({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const r=as(t,e);return(i,o)=>($(),Y(m(z1),on(un(m(r))),{default:O(()=>[J(i.$slots,"default")]),_:3},16))}}),$N=K({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(uk),null,{default:O(()=>[M(m(Q1),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),M(m(Z1),fe(m(i),{class:m(Fe)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:O(()=>[J(o.$slots,"default"),M(m(j1),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:O(()=>[M(m(aE),{class:"w-4 h-4"}),a[0]||(a[0]=z("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),BN=K({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(kz),fe(m(s),{class:m(Fe)("text-sm text-muted-foreground",e.class)}),{default:O(()=>[J(r.$slots,"default")]),_:3},16,["class"]))}}),UN=K({__name:"DialogFooter",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{class:vt(m(Fe)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[J(n.$slots,"default")],2))}}),zN=K({__name:"DialogHeader",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{class:vt(m(Fe)("flex flex-col gap-y-1.5 text-center sm:text-left",e.class))},[J(n.$slots,"default")],2))}}),jN=K({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:r,...i}=e;return i}),s=br(n);return(r,i)=>($(),Y(m(Vz),fe(m(s),{class:m(Fe)("text-lg font-semibold leading-none tracking-tight",e.class)}),{default:O(()=>[J(r.$slots,"default")]),_:3},16,["class"]))}}),HN=K({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(n,s)=>($(),Y(m(Fz),on(un(e)),{default:O(()=>[J(n.$slots,"default")]),_:3},16))}}),Pne=K({__name:"ScrollBar",props:{orientation:{default:"vertical"},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(pj),fe(n.value,{class:m(Fe)("flex touch-none select-none transition-colors",s.orientation==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",s.orientation==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",e.class)}),{default:O(()=>[M(m(mj),{class:"relative flex-1 rounded-full bg-border"})]),_:1},16,["class"]))}}),qN=K({__name:"ScrollArea",props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(sj),fe(n.value,{class:m(Fe)("relative overflow-hidden",e.class)}),{default:O(()=>[M(m(gj),{class:"h-full w-full rounded-[inherit]"},{default:O(()=>[J(s.$slots,"default")]),_:3}),M(Pne),M(m(ij))]),_:3},16,["class"]))}});/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function ks(t){return typeof t=="function"}function WN(t){return t==null}const Ql=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function eS(t){return Number(t)>=0}function kne(t){const e=parseFloat(t);return isNaN(e)?t:e}function One(t){return typeof t=="object"&&t!==null}function Lne(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function HA(t){if(!One(t)||Lne(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function _h(t,e){return Object.keys(e).forEach(n=>{if(HA(e[n])&&HA(t[n])){t[n]||(t[n]={}),_h(t[n],e[n]);return}t[n]=e[n]}),t}function pf(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let s=1;s<e.length;s++){if(eS(e[s])){n+=`[${e[s]}]`;continue}n+=`.${e[s]}`}return n}const Dne={};function Mne(t){return Dne[t]}function qA(t,e,n){typeof n.value=="object"&&(n.value=bn(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function bn(t){if(typeof t!="object")return t;var e=0,n,s,r,i=Object.prototype.toString.call(t);if(i==="[object Object]"?r=Object.create(t.__proto__||null):i==="[object Array]"?r=Array(t.length):i==="[object Set]"?(r=new Set,t.forEach(function(o){r.add(bn(o))})):i==="[object Map]"?(r=new Map,t.forEach(function(o,a){r.set(bn(a),bn(o))})):i==="[object Date]"?r=new Date(+t):i==="[object RegExp]"?r=new RegExp(t.source,t.flags):i==="[object DataView]"?r=new t.constructor(bn(t.buffer)):i==="[object ArrayBuffer]"?r=t.slice(0):i.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)qA(r,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(r,n=s[e])&&r[n]===t[n]||qA(r,n,Object.getOwnPropertyDescriptor(t,n))}return r||t}const ld=Symbol("vee-validate-form"),Nne=Symbol("vee-validate-form-context"),Sv=Symbol("vee-validate-field-instance"),Pg=Symbol("Default empty value"),Vne=typeof window<"u";function qb(t){return ks(t)&&!!t.__locatorRef}function pi(t){return!!t&&ks(t.parse)&&t.__type==="VVTypedSchema"}function kg(t){return!!t&&ks(t.validate)}function Zh(t){return t==="checkbox"||t==="radio"}function Fne(t){return Ql(t)||Array.isArray(t)}function $ne(t){return Array.isArray(t)?t.length===0:Ql(t)&&Object.keys(t).length===0}function Yh(t){return/^\[.+\]$/i.test(t)}function Bne(t){return GN(t)&&t.multiple}function GN(t){return t.tagName==="SELECT"}function Une(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function zne(t,e){return!Une(t,e)&&e.type!=="file"&&!Zh(e.type)}function jne(t){return KN(t)&&t.target&&"submit"in t.target}function KN(t){return t?!!(typeof Event<"u"&&ks(Event)&&t instanceof Event||t&&t.srcElement):!1}function WA(t,e){return e in t&&t[e]!==Pg}function nr(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,s,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(!nr(t[s],e[s]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s of t.entries())if(!e.has(s[0]))return!1;for(s of t.entries())if(!nr(s[1],e.get(s[0])))return!1;return!0}if(KA(t)&&KA(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s of t.entries())if(!e.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(r=Object.keys(t),n=r.length-GA(t,r),n!==Object.keys(e).length-GA(e,Object.keys(e)))return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){var i=r[s];if(!nr(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function GA(t,e){let n=0;for(let r=e.length;r--!==0;){var s=e[r];t[s]===void 0&&n++}return n}function KA(t){return Vne?t instanceof File:!1}function Cv(t){return Yh(t)?t.replace(/\[|\]/gi,""):t}function fr(t,e,n){return t?Yh(e)?t[Cv(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((r,i)=>Fne(r)&&i in r?r[i]:n,t):n}function Io(t,e,n){if(Yh(e)){t[Cv(e)]=n;return}const s=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let i=0;i<s.length;i++){if(i===s.length-1){r[s[i]]=n;return}(!(s[i]in r)||WN(r[s[i]]))&&(r[s[i]]=eS(s[i+1])?[]:{}),r=r[s[i]]}}function Wy(t,e){if(Array.isArray(t)&&eS(e)){t.splice(Number(e),1);return}Ql(t)&&delete t[e]}function ZA(t,e){if(Yh(e)){delete t[Cv(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let i=0;i<n.length;i++){if(i===n.length-1){Wy(s,n[i]);break}if(!(n[i]in s)||WN(s[n[i]]))break;s=s[n[i]]}const r=n.map((i,o)=>fr(t,n.slice(0,o).join(".")));for(let i=r.length-1;i>=0;i--)if($ne(r[i])){if(i===0){Wy(t,n[0]);continue}Wy(r[i-1],n[i-1])}}function Ir(t){return Object.keys(t)}function xv(t,e=void 0){const n=ps();return(n==null?void 0:n.provides[t])||ln(t,e)}function YA(t,e,n){if(Array.isArray(t)){const s=[...t],r=s.findIndex(i=>nr(i,e));return r>=0?s.splice(r,1):s.push(e),s}return nr(t,e)?n:e}function QA(t,e=0){let n=null,s=[];return function(...r){return n&&clearTimeout(n),n=setTimeout(()=>{const i=t(...r);s.forEach(o=>o(i)),s=[]},e),new Promise(i=>s.push(i))}}function Hne(t,e){return Ql(e)&&e.number?kne(t):t}function Wb(t,e){let n;return async function(...r){const i=t(...r);n=i;const o=await i;return i!==n?o:(n=void 0,e(o,r))}}function Gb(t){return Array.isArray(t)?t:t?[t]:[]}function tS(t){const e=xv(ld),n=t?Q(()=>e==null?void 0:e.getPathState(ke(t))):void 0,s=t?void 0:ln(Sv);return!s&&(n!=null&&n.value),n||s}function lm(t,e){const n={};for(const s in t)e.includes(s)||(n[s]=t[s]);return n}function qne(t){let e=null,n=[];return function(...s){const r=Pt(()=>{if(e!==r)return;const i=t(...s);n.forEach(o=>o(i)),n=[],e=null});return e=r,new Promise(i=>n.push(i))}}function ZN(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var s,r;return(r=(s=e.slots).default)===null||r===void 0?void 0:r.call(s,n())}}:e.slots.default}function Gy(t){if(YN(t))return t._value}function YN(t){return"_value"in t}function Wne(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function Og(t){if(!KN(t))return t;const e=t.target;if(Zh(e.type)&&YN(e))return Gy(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(Bne(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(Gy);if(GN(e)){const n=Array.from(e.options).find(s=>s.selected);return n?Gy(n):e.value}return Wne(e)}function QN(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Ql(t)&&t._$$isNormalized?t:Ql(t)?Object.keys(t).reduce((n,s)=>{const r=Gne(t[s]);return t[s]!==!1&&(n[s]=XA(r)),n},e):typeof t!="string"?e:t.split("|").reduce((n,s)=>{const r=Kne(s);return r.name&&(n[r.name]=XA(r.params)),n},e):e}function Gne(t){return t===!0?[]:Array.isArray(t)||Ql(t)?t:[t]}function XA(t){const e=n=>typeof n=="string"&&n[0]==="@"?Zne(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,s)=>(n[s]=e(t[s]),n),{})}const Kne=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function Zne(t){const e=n=>{var s;return(s=fr(n,t))!==null&&s!==void 0?s:n[t]};return e.__locatorRef=t,e}function Yne(t){return Array.isArray(t)?t.filter(qb):Ir(t).filter(e=>qb(t[e])).map(e=>t[e])}const Qne={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Xne=Object.assign({},Qne);const Pl=()=>Xne;async function XN(t,e,n={}){const s=n==null?void 0:n.bails,r={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:s??!0,formData:(n==null?void 0:n.values)||{}},i=await Jne(r,t);return Object.assign(Object.assign({},i),{valid:!i.errors.length})}async function Jne(t,e){const n=t.rules;if(pi(n)||kg(n))return tse(e,Object.assign(Object.assign({},t),{rules:n}));if(ks(n)||Array.isArray(n)){const a={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},u=Array.isArray(n)?n:[n],c=u.length,d=[];for(let h=0;h<c;h++){const g=u[h],v=await g(e,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const w=typeof v=="string"?v:eV(a);d.push(w)}if(t.bails)return{errors:d}}}return{errors:d}}const s=Object.assign(Object.assign({},t),{rules:QN(n)}),r=[],i=Object.keys(s.rules),o=i.length;for(let a=0;a<o;a++){const u=i[a],c=await nse(s,e,{name:u,params:s.rules[u]});if(c.error&&(r.push(c.error),t.bails))return{errors:r}}return{errors:r}}function ese(t){return!!t&&t.name==="ValidationError"}function JN(t){return{__type:"VVTypedSchema",async parse(n,s){var r;try{return{output:await t.validate(n,{abortEarly:!1,context:(s==null?void 0:s.formData)||{}}),errors:[]}}catch(i){if(!ese(i))throw i;if(!(!((r=i.inner)===null||r===void 0)&&r.length)&&i.errors.length)return{errors:[{path:i.path,errors:i.errors}]};const o=i.inner.reduce((a,u)=>{const c=u.path||"";return a[c]||(a[c]={errors:[],path:c}),a[c].errors.push(...u.errors),a},{});return{errors:Object.values(o)}}}}}async function tse(t,e){const s=await(pi(e.rules)?e.rules:JN(e.rules)).parse(t,{formData:e.formData}),r=[];for(const i of s.errors)i.errors.length&&r.push(...i.errors);return{value:s.value,errors:r}}async function nse(t,e,n){const s=Mne(n.name);if(!s)throw new Error(`No such validator '${n.name}' exists.`);const r=sse(n.params,t.formData),i={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:r})},o=await s(e,r,i);return typeof o=="string"?{error:o}:{error:o?void 0:eV(i)}}function eV(t){const e=Pl().generateMessage;return e?e(t):"Field is invalid"}function sse(t,e){const n=s=>qb(s)?s(e):s;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((s,r)=>(s[r]=n(t[r]),s),{})}async function rse(t,e){const s=await(pi(t)?t:JN(t)).parse(bn(e),{formData:bn(e)}),r={},i={};for(const o of s.errors){const a=o.errors,u=(o.path||"").replace(/\["(\d+)"\]/g,(c,d)=>`[${d}]`);r[u]={valid:!a.length,errors:a},a.length&&(i[u]=a[0])}return{valid:!s.errors.length,results:r,errors:i,values:s.value,source:"schema"}}async function ise(t,e,n){const r=Ir(t).map(async c=>{var d,h,g;const v=(d=n==null?void 0:n.names)===null||d===void 0?void 0:d[c],y=await XN(fr(e,c),t[c],{name:(v==null?void 0:v.name)||c,label:v==null?void 0:v.label,values:e,bails:(g=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[c])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},y),{path:c})});let i=!0;const o=await Promise.all(r),a={},u={};for(const c of o)a[c.path]={valid:c.valid,errors:c.errors},c.valid||(i=!1,u[c.path]=c.errors[0]);return{valid:i,results:a,errors:u,source:"schema"}}let JA=0;function ose(t,e){const{value:n,initialValue:s,setInitialValue:r}=ase(t,e.modelValue,e.form);if(!e.form){let u=function(v){var y;"value"in v&&(n.value=v.value),"errors"in v&&d(v.errors),"touched"in v&&(g.touched=(y=v.touched)!==null&&y!==void 0?y:g.touched),"initialValue"in v&&r(v.initialValue)};const{errors:c,setErrors:d}=cse(),h=JA>=Number.MAX_SAFE_INTEGER?0:++JA,g=use(n,s,c,e.schema);return{id:h,path:t,value:n,initialValue:s,meta:g,flags:{pendingUnmount:{[h]:!1},pendingReset:!1},errors:c,setState:u}}const i=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate,schema:e.schema}),o=Q(()=>i.errors);function a(u){var c,d,h;"value"in u&&(n.value=u.value),"errors"in u&&((c=e.form)===null||c===void 0||c.setFieldError(m(t),u.errors)),"touched"in u&&((d=e.form)===null||d===void 0||d.setFieldTouched(m(t),(h=u.touched)!==null&&h!==void 0?h:!1)),"initialValue"in u&&r(u.initialValue)}return{id:Array.isArray(i.id)?i.id[i.id.length-1]:i.id,path:t,value:n,errors:o,meta:i,initialValue:s,flags:i.__flags,setState:a}}function ase(t,e,n){const s=Z(m(e));function r(){return n?fr(n.initialValues.value,m(t),m(s)):m(s)}function i(c){if(!n){s.value=c;return}n.setFieldInitialValue(m(t),c,!0)}const o=Q(r);if(!n)return{value:Z(r()),initialValue:o,setInitialValue:i};const a=lse(e,n,o,t);return n.stageInitialValue(m(t),a,!0),{value:Q({get(){return fr(n.values,m(t))},set(c){n.setFieldValue(m(t),c,!1)}}),initialValue:o,setInitialValue:i}}function lse(t,e,n,s){return Dt(t)?m(t):t!==void 0?t:fr(e.values,m(s),m(n))}function use(t,e,n,s){const r=Q(()=>{var o,a,u;return(u=(a=(o=ke(s))===null||o===void 0?void 0:o.describe)===null||a===void 0?void 0:a.call(o).required)!==null&&u!==void 0?u:!1}),i=vr({touched:!1,pending:!1,valid:!0,required:r,validated:!!m(n).length,initialValue:Q(()=>m(e)),dirty:Q(()=>!nr(m(t),m(e)))});return ct(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function cse(){const t=Z([]);return{errors:t,setErrors:e=>{t.value=Gb(e)}}}function dse(t,e,n){return Zh(n==null?void 0:n.type)?hse(t,e,n):tV(t,e,n)}function tV(t,e,n){const{initialValue:s,validateOnMount:r,bails:i,type:o,checkedValue:a,label:u,validateOnValueUpdate:c,uncheckedValue:d,controlled:h,keepValueOnUnmount:g,syncVModel:v,form:y}=fse(n),w=h?xv(ld):void 0,E=y||w,T=Q(()=>pf(ke(t))),C=Q(()=>{if(ke(E==null?void 0:E.schema))return;const ee=m(e);return kg(ee)||pi(ee)||ks(ee)||Array.isArray(ee)?ee:QN(ee)}),x=!ks(C.value)&&pi(ke(e)),{id:I,value:V,initialValue:F,meta:k,setState:P,errors:A,flags:N}=ose(T,{modelValue:s,form:E,bails:i,label:u,type:o,validate:C.value?ye:void 0,schema:x?e:void 0}),U=Q(()=>A.value[0]);v&&pse({value:V,prop:v,handleChange:_e,shouldValidate:()=>c&&!N.pendingReset});const W=(we,ee=!1)=>{k.touched=!0,ee&&Pe()};async function q(we){var ee,he;if(E!=null&&E.validateSchema){const{results:ve}=await E.validateSchema(we);return(ee=ve[ke(T)])!==null&&ee!==void 0?ee:{valid:!0,errors:[]}}return C.value?XN(V.value,C.value,{name:ke(T),label:ke(u),values:(he=E==null?void 0:E.values)!==null&&he!==void 0?he:{},bails:i}):{valid:!0,errors:[]}}const Pe=Wb(async()=>(k.pending=!0,k.validated=!0,q("validated-only")),we=>(N.pendingUnmount[Ye.id]||(P({errors:we.errors}),k.pending=!1,k.valid=we.valid),we)),Be=Wb(async()=>q("silent"),we=>(k.valid=we.valid,we));function ye(we){return(we==null?void 0:we.mode)==="silent"?Be():Pe()}function _e(we,ee=!0){const he=Og(we);ot(he,ee)}bt(()=>{if(r)return Pe();(!E||!E.validateSchema)&&Be()});function me(we){k.touched=we}function nt(we){var ee;const he=we&&"value"in we?we.value:F.value;P({value:bn(he),initialValue:bn(he),touched:(ee=we==null?void 0:we.touched)!==null&&ee!==void 0?ee:!1,errors:(we==null?void 0:we.errors)||[]}),k.pending=!1,k.validated=!1,Be()}const Ne=ps();function ot(we,ee=!0){V.value=Ne&&v?Hne(we,Ne.props.modelModifiers):we,(ee?Pe:Be)()}function lt(we){P({errors:Array.isArray(we)?we:[we]})}const pt=Q({get(){return V.value},set(we){ot(we,c)}}),Ye={id:I,name:T,label:u,value:pt,meta:k,errors:A,errorMessage:U,type:o,checkedValue:a,uncheckedValue:d,bails:i,keepValueOnUnmount:g,resetField:nt,handleReset:()=>nt(),validate:ye,handleChange:_e,handleBlur:W,setState:P,setTouched:me,setErrors:lt,setValue:ot};if(rs(Sv,Ye),Dt(e)&&typeof m(e)!="function"&&ct(e,(we,ee)=>{nr(we,ee)||(k.validated?Pe():Be())},{deep:!0}),!E)return Ye;const dt=Q(()=>{const we=C.value;return!we||ks(we)||kg(we)||pi(we)||Array.isArray(we)?{}:Object.keys(we).reduce((ee,he)=>{const ve=Yne(we[he]).map(Re=>Re.__locatorRef).reduce((Re,Ue)=>{const j=fr(E.values,Ue)||E.values[Ue];return j!==void 0&&(Re[Ue]=j),Re},{});return Object.assign(ee,ve),ee},{})});return ct(dt,(we,ee)=>{if(!Object.keys(we).length)return;!nr(we,ee)&&(k.validated?Pe():Be())}),ra(()=>{var we;const ee=(we=ke(Ye.keepValueOnUnmount))!==null&&we!==void 0?we:ke(E.keepValuesOnUnmount),he=ke(T);if(ee||!E||N.pendingUnmount[Ye.id]){E==null||E.removePathState(he,I);return}N.pendingUnmount[Ye.id]=!0;const ve=E.getPathState(he);if(Array.isArray(ve==null?void 0:ve.id)&&(ve!=null&&ve.multiple)?ve!=null&&ve.id.includes(Ye.id):(ve==null?void 0:ve.id)===Ye.id){if(ve!=null&&ve.multiple&&Array.isArray(ve.value)){const Ue=ve.value.findIndex(j=>nr(j,ke(Ye.checkedValue)));if(Ue>-1){const j=[...ve.value];j.splice(Ue,1),E.setFieldValue(he,j)}Array.isArray(ve.id)&&ve.id.splice(ve.id.indexOf(Ye.id),1)}else E.unsetPathValue(ke(T));E.removePathState(he,I)}}),Ye}function fse(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),s=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",r=n&&!("initialValue"in(t||{}))?Kb(ps(),s):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:r});const i="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled,a=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:r,controlled:o??!0,checkedValue:i,syncVModel:a})}function hse(t,e,n){const s=n!=null&&n.standalone?void 0:xv(ld),r=n==null?void 0:n.checkedValue,i=n==null?void 0:n.uncheckedValue;function o(a){const u=a.handleChange,c=Q(()=>{const h=ke(a.value),g=ke(r);return Array.isArray(h)?h.findIndex(v=>nr(v,g))>=0:nr(g,h)});function d(h,g=!0){var v,y;if(c.value===((v=h==null?void 0:h.target)===null||v===void 0?void 0:v.checked)){g&&a.validate();return}const w=ke(t),E=s==null?void 0:s.getPathState(w),T=Og(h);let C=(y=ke(r))!==null&&y!==void 0?y:T;s&&(E!=null&&E.multiple)&&E.type==="checkbox"?C=YA(fr(s.values,w)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=YA(ke(a.value),C,ke(i))),u(C,g)}return Object.assign(Object.assign({},a),{checked:c,checkedValue:r,uncheckedValue:i,handleChange:d})}return o(tV(t,e,n))}function pse({prop:t,value:e,handleChange:n,shouldValidate:s}){const r=ps();if(!r||!t)return;const i=typeof t=="string"?t:"modelValue",o=`update:${i}`;i in r.props&&(ct(e,a=>{nr(a,Kb(r,i))||r.emit(o,a)}),ct(()=>Kb(r,i),a=>{if(a===Pg&&e.value===void 0)return;const u=a===Pg?void 0:a;nr(u,e.value)||n(u,s())}))}function Kb(t,e){if(t)return t.props[e]}const mse=K({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Pl().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Pg},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=Oo(t,"rules"),s=Oo(t,"name"),r=Oo(t,"label"),i=Oo(t,"uncheckedValue"),o=Oo(t,"keepValue"),{errors:a,value:u,errorMessage:c,validate:d,handleChange:h,handleBlur:g,setTouched:v,resetField:y,handleReset:w,meta:E,checked:T,setErrors:C,setValue:x}=dse(s,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:_se(t,e),checkedValue:e.attrs.value,uncheckedValue:i,label:r,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:o,syncVModel:!0}),I=function(N,U=!0){h(N,U)},V=Q(()=>{const{validateOnInput:A,validateOnChange:N,validateOnBlur:U,validateOnModelUpdate:W}=gse(t);function q(_e){g(_e,U),ks(e.attrs.onBlur)&&e.attrs.onBlur(_e)}function Pe(_e){I(_e,A),ks(e.attrs.onInput)&&e.attrs.onInput(_e)}function Be(_e){I(_e,N),ks(e.attrs.onChange)&&e.attrs.onChange(_e)}const ye={name:t.name,onBlur:q,onInput:Pe,onChange:Be};return ye["onUpdate:modelValue"]=_e=>I(_e,W),ye}),F=Q(()=>{const A=Object.assign({},V.value);Zh(e.attrs.type)&&T&&(A.checked=T.value);const N=eR(t,e);return zne(N,e.attrs)&&(A.value=u.value),A}),k=Q(()=>Object.assign(Object.assign({},V.value),{modelValue:u.value}));function P(){return{field:F.value,componentField:k.value,value:u.value,meta:E,errors:a.value,errorMessage:c.value,validate:d,resetField:y,handleChange:I,handleInput:A=>I(A,!1),handleReset:w,handleBlur:V.value.onBlur,setTouched:v,setErrors:C,setValue:x}}return e.expose({value:u,meta:E,errors:a,errorMessage:c,setErrors:C,setTouched:v,setValue:x,reset:y,validate:d,handleChange:h}),()=>{const A=bi(eR(t,e)),N=ZN(A,e,P);return A?Ft(A,Object.assign(Object.assign({},e.attrs),F.value),N):N}}});function eR(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function gse(t){var e,n,s,r;const{validateOnInput:i,validateOnChange:o,validateOnBlur:a,validateOnModelUpdate:u}=Pl();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:i,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:o,validateOnBlur:(s=t.validateOnBlur)!==null&&s!==void 0?s:a,validateOnModelUpdate:(r=t.validateOnModelUpdate)!==null&&r!==void 0?r:u}}function _se(t,e){return Zh(e.attrs.type)?WA(t,"modelValue")?t.modelValue:void 0:WA(t,"modelValue")?t.modelValue:e.attrs.value}const ts=mse;let vse=0;const um=["bails","fieldsCount","id","multiple","type","validate"];function nV(t){const e=(t==null?void 0:t.initialValues)||{},n=Object.assign({},ke(e)),s=m(t==null?void 0:t.validationSchema);return s&&pi(s)&&ks(s.cast)?bn(s.cast(n)||{}):bn(n)}function nS(t){var e;const n=vse++,s=(t==null?void 0:t.name)||"Form";let r=0;const i=Z(!1),o=Z(!1),a=Z(0),u=[],c=vr(nV(t)),d=Z([]),h=Z({}),g=Z({}),v=qne(()=>{g.value=d.value.reduce((se,ne)=>(se[pf(ke(ne.path))]=ne,se),{})});function y(se,ne){const be=_e(se);if(!be){typeof se=="string"&&(h.value[pf(se)]=Gb(ne));return}if(typeof se=="string"){const Ve=pf(se);h.value[Ve]&&delete h.value[Ve]}be.errors=Gb(ne),be.valid=!be.errors.length}function w(se){Ir(se).forEach(ne=>{y(ne,se[ne])})}t!=null&&t.initialErrors&&w(t.initialErrors);const E=Q(()=>{const se=d.value.reduce((ne,be)=>(be.errors.length&&(ne[ke(be.path)]=be.errors),ne),{});return Object.assign(Object.assign({},h.value),se)}),T=Q(()=>Ir(E.value).reduce((se,ne)=>{const be=E.value[ne];return be!=null&&be.length&&(se[ne]=be[0]),se},{})),C=Q(()=>d.value.reduce((se,ne)=>(se[ke(ne.path)]={name:ke(ne.path)||"",label:ne.label||""},se),{})),x=Q(()=>d.value.reduce((se,ne)=>{var be;return se[ke(ne.path)]=(be=ne.bails)!==null&&be!==void 0?be:!0,se},{})),I=Object.assign({},(t==null?void 0:t.initialErrors)||{}),V=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:F,originalInitialValues:k,setInitialValues:P}=wse(d,c,t),A=yse(d,c,k,T),N=Q(()=>d.value.reduce((se,ne)=>{const be=fr(c,ke(ne.path));return Io(se,ke(ne.path),be),se},{})),U=t==null?void 0:t.validationSchema;function W(se,ne){var be,Ve;const He=Q(()=>fr(F.value,ke(se))),ut=g.value[ke(se)],Je=(ne==null?void 0:ne.type)==="checkbox"||(ne==null?void 0:ne.type)==="radio";if(ut&&Je){ut.multiple=!0;const Mn=r++;return Array.isArray(ut.id)?ut.id.push(Mn):ut.id=[ut.id,Mn],ut.fieldsCount++,ut.__flags.pendingUnmount[Mn]=!1,ut}const an=Q(()=>fr(c,ke(se))),_n=ke(se),Dn=nt.findIndex(Mn=>Mn===_n);Dn!==-1&&nt.splice(Dn,1);const Bt=Q(()=>{var Mn,Er,Tr,Oi;const si=ke(U);if(pi(si))return(Er=(Mn=si.describe)===null||Mn===void 0?void 0:Mn.call(si,ke(se)).required)!==null&&Er!==void 0?Er:!1;const Li=ke(ne==null?void 0:ne.schema);return pi(Li)&&(Oi=(Tr=Li.describe)===null||Tr===void 0?void 0:Tr.call(Li).required)!==null&&Oi!==void 0?Oi:!1}),xn=r++,Bn=vr({id:xn,path:se,touched:!1,pending:!1,valid:!0,validated:!!(!((be=I[_n])===null||be===void 0)&&be.length),required:Bt,initialValue:He,errors:Cs([]),bails:(Ve=ne==null?void 0:ne.bails)!==null&&Ve!==void 0?Ve:!1,label:ne==null?void 0:ne.label,type:(ne==null?void 0:ne.type)||"default",value:an,multiple:!1,__flags:{pendingUnmount:{[xn]:!1},pendingReset:!1},fieldsCount:1,validate:ne==null?void 0:ne.validate,dirty:Q(()=>!nr(m(an),m(He)))});return d.value.push(Bn),g.value[_n]=Bn,v(),T.value[_n]&&!I[_n]&&Pt(()=>{xe(_n,{mode:"silent"})}),Dt(se)&&ct(se,Mn=>{v();const Er=bn(an.value);g.value[Mn]=Bn,Pt(()=>{Io(c,Mn,Er)})}),Bn}const q=QA(Qe,5),Pe=QA(Qe,5),Be=Wb(async se=>await(se==="silent"?q():Pe()),(se,[ne])=>{const be=Ir(ee.errorBag.value),He=[...new Set([...Ir(se.results),...d.value.map(ut=>ut.path),...be])].sort().reduce((ut,Je)=>{var an;const _n=Je,Dn=_e(_n)||me(_n),Bt=((an=se.results[_n])===null||an===void 0?void 0:an.errors)||[],xn=ke(Dn==null?void 0:Dn.path)||_n,Bn=bse({errors:Bt,valid:!Bt.length},ut.results[xn]);return ut.results[xn]=Bn,Bn.valid||(ut.errors[xn]=Bn.errors[0]),Dn&&h.value[xn]&&delete h.value[xn],Dn?(Dn.valid=Bn.valid,ne==="silent"||ne==="validated-only"&&!Dn.validated||y(Dn,Bn.errors),ut):(y(xn,Bt),ut)},{valid:se.valid,results:{},errors:{},source:se.source});return se.values&&(He.values=se.values,He.source=se.source),Ir(He.results).forEach(ut=>{var Je;const an=_e(ut);an&&ne!=="silent"&&(ne==="validated-only"&&!an.validated||y(an,(Je=He.results[ut])===null||Je===void 0?void 0:Je.errors))}),He});function ye(se){d.value.forEach(se)}function _e(se){const ne=typeof se=="string"?pf(se):se;return typeof ne=="string"?g.value[ne]:ne}function me(se){return d.value.filter(be=>se.startsWith(ke(be.path))).reduce((be,Ve)=>be?Ve.path.length>be.path.length?Ve:be:Ve,void 0)}let nt=[],Ne;function ot(se){return nt.push(se),Ne||(Ne=Pt(()=>{[...nt].sort().reverse().forEach(be=>{ZA(c,be)}),nt=[],Ne=null})),Ne}function lt(se){return function(be,Ve){return function(ut){return ut instanceof Event&&(ut.preventDefault(),ut.stopPropagation()),ye(Je=>Je.touched=!0),i.value=!0,a.value++,Ae().then(Je=>{const an=bn(c);if(Je.valid&&typeof be=="function"){const _n=bn(N.value);let Dn=se?_n:an;return Je.values&&(Dn=Je.source==="schema"?Je.values:Object.assign({},Dn,Je.values)),be(Dn,{evt:ut,controlledValues:_n,setErrors:w,setFieldError:y,setTouched:ge,setFieldTouched:j,setValues:Re,setFieldValue:he,resetForm:Le,resetField:pe})}!Je.valid&&typeof Ve=="function"&&Ve({values:an,evt:ut,errors:Je.errors,results:Je.results})}).then(Je=>(i.value=!1,Je),Je=>{throw i.value=!1,Je})}}}const Ye=lt(!1);Ye.withControlled=lt(!0);function dt(se,ne){const be=d.value.findIndex(He=>He.path===se&&(Array.isArray(He.id)?He.id.includes(ne):He.id===ne)),Ve=d.value[be];if(!(be===-1||!Ve)){if(Pt(()=>{xe(se,{mode:"silent",warn:!1})}),Ve.multiple&&Ve.fieldsCount&&Ve.fieldsCount--,Array.isArray(Ve.id)){const He=Ve.id.indexOf(ne);He>=0&&Ve.id.splice(He,1),delete Ve.__flags.pendingUnmount[ne]}(!Ve.multiple||Ve.fieldsCount<=0)&&(d.value.splice(be,1),Se(se),v(),delete g.value[se])}}function we(se){Ir(g.value).forEach(ne=>{ne.startsWith(se)&&delete g.value[ne]}),d.value=d.value.filter(ne=>!ne.path.startsWith(se)),Pt(()=>{v()})}const ee={name:s,formId:n,values:c,controlledValues:N,errorBag:E,errors:T,schema:U,submitCount:a,meta:A,isSubmitting:i,isValidating:o,fieldArrays:u,keepValuesOnUnmount:V,validateSchema:m(U)?Be:void 0,validate:Ae,setFieldError:y,validateField:xe,setFieldValue:he,setValues:Re,setErrors:w,setFieldTouched:j,setTouched:ge,resetForm:Le,resetField:pe,handleSubmit:Ye,useFieldModel:yt,defineInputBinds:Nt,defineComponentBinds:Ln,defineField:st,stageInitialValue:rt,unsetInitialValue:Se,setFieldInitialValue:De,createPathState:W,getPathState:_e,unsetPathValue:ot,removePathState:dt,initialValues:F,getAllPathStates:()=>d.value,destroyPath:we,isFieldTouched:G,isFieldDirty:te,isFieldValid:ce};function he(se,ne,be=!0){const Ve=bn(ne),He=typeof se=="string"?se:se.path;_e(He)||W(He),Io(c,He,Ve),be&&xe(He)}function ve(se,ne=!0){Ir(c).forEach(be=>{delete c[be]}),Ir(se).forEach(be=>{he(be,se[be],!1)}),ne&&Ae()}function Re(se,ne=!0){_h(c,se),u.forEach(be=>be&&be.reset()),ne&&Ae()}function Ue(se,ne){const be=_e(ke(se))||W(se);return Q({get(){return be.value},set(Ve){var He;const ut=ke(se);he(ut,Ve,(He=ke(ne))!==null&&He!==void 0?He:!1)}})}function j(se,ne){const be=_e(se);be&&(be.touched=ne)}function G(se){const ne=_e(se);return ne?ne.touched:d.value.filter(be=>be.path.startsWith(se)).some(be=>be.touched)}function te(se){const ne=_e(se);return ne?ne.dirty:d.value.filter(be=>be.path.startsWith(se)).some(be=>be.dirty)}function ce(se){const ne=_e(se);return ne?ne.valid:d.value.filter(be=>be.path.startsWith(se)).every(be=>be.valid)}function ge(se){if(typeof se=="boolean"){ye(ne=>{ne.touched=se});return}Ir(se).forEach(ne=>{j(ne,!!se[ne])})}function pe(se,ne){var be;const Ve=ne&&"value"in ne?ne.value:fr(F.value,se),He=_e(se);He&&(He.__flags.pendingReset=!0),De(se,bn(Ve),!0),he(se,Ve,!1),j(se,(be=ne==null?void 0:ne.touched)!==null&&be!==void 0?be:!1),y(se,(ne==null?void 0:ne.errors)||[]),Pt(()=>{He&&(He.__flags.pendingReset=!1)})}function Le(se,ne){let be=bn(se!=null&&se.values?se.values:k.value);be=ne!=null&&ne.force?be:_h(k.value,be),be=pi(U)&&ks(U.cast)?U.cast(be):be,P(be,{force:ne==null?void 0:ne.force}),ye(Ve=>{var He;Ve.__flags.pendingReset=!0,Ve.validated=!1,Ve.touched=((He=se==null?void 0:se.touched)===null||He===void 0?void 0:He[ke(Ve.path)])||!1,he(ke(Ve.path),fr(be,ke(Ve.path)),!1),y(ke(Ve.path),void 0)}),ne!=null&&ne.force?ve(be,!1):Re(be,!1),w((se==null?void 0:se.errors)||{}),a.value=(se==null?void 0:se.submitCount)||0,Pt(()=>{Ae({mode:"silent"}),ye(Ve=>{Ve.__flags.pendingReset=!1})})}async function Ae(se){const ne=(se==null?void 0:se.mode)||"force";if(ne==="force"&&ye(Je=>Je.validated=!0),ee.validateSchema)return ee.validateSchema(ne);o.value=!0;const be=await Promise.all(d.value.map(Je=>Je.validate?Je.validate(se).then(an=>({key:ke(Je.path),valid:an.valid,errors:an.errors,value:an.value})):Promise.resolve({key:ke(Je.path),valid:!0,errors:[],value:void 0})));o.value=!1;const Ve={},He={},ut={};for(const Je of be)Ve[Je.key]={valid:Je.valid,errors:Je.errors},Je.value&&Io(ut,Je.key,Je.value),Je.errors.length&&(He[Je.key]=Je.errors[0]);return{valid:be.every(Je=>Je.valid),results:Ve,errors:He,values:ut,source:"fields"}}async function xe(se,ne){var be;const Ve=_e(se);if(Ve&&(ne==null?void 0:ne.mode)!=="silent"&&(Ve.validated=!0),U){const{results:He}=await Be((ne==null?void 0:ne.mode)||"validated-only");return He[se]||{errors:[],valid:!0}}return Ve!=null&&Ve.validate?Ve.validate(ne):(!Ve&&(be=ne==null?void 0:ne.warn),Promise.resolve({errors:[],valid:!0}))}function Se(se){ZA(F.value,se)}function rt(se,ne,be=!1){De(se,ne),Io(c,se,ne),be&&!(t!=null&&t.initialValues)&&Io(k.value,se,bn(ne))}function De(se,ne,be=!1){Io(F.value,se,bn(ne)),be&&Io(k.value,se,bn(ne))}async function Qe(){const se=m(U);if(!se)return{valid:!0,results:{},errors:{},source:"none"};o.value=!0;const ne=kg(se)||pi(se)?await rse(se,c):await ise(se,c,{names:C.value,bailsMap:x.value});return o.value=!1,ne}const ft=Ye((se,{evt:ne})=>{jne(ne)&&ne.target.submit()});bt(()=>{if(t!=null&&t.initialErrors&&w(t.initialErrors),t!=null&&t.initialTouched&&ge(t.initialTouched),t!=null&&t.validateOnMount){Ae();return}ee.validateSchema&&ee.validateSchema("silent")}),Dt(U)&&ct(U,()=>{var se;(se=ee.validateSchema)===null||se===void 0||se.call(ee,"validated-only")}),rs(ld,ee);function st(se,ne){const be=ks(ne)||ne==null?void 0:ne.label,Ve=_e(ke(se))||W(se,{label:be}),He=()=>ks(ne)?ne(lm(Ve,um)):ne||{};function ut(){var Bt;Ve.touched=!0,((Bt=He().validateOnBlur)!==null&&Bt!==void 0?Bt:Pl().validateOnBlur)&&xe(ke(Ve.path))}function Je(){var Bt;((Bt=He().validateOnInput)!==null&&Bt!==void 0?Bt:Pl().validateOnInput)&&Pt(()=>{xe(ke(Ve.path))})}function an(){var Bt;((Bt=He().validateOnChange)!==null&&Bt!==void 0?Bt:Pl().validateOnChange)&&Pt(()=>{xe(ke(Ve.path))})}const _n=Q(()=>{const Bt={onChange:an,onInput:Je,onBlur:ut};return ks(ne)?Object.assign(Object.assign({},Bt),ne(lm(Ve,um)).props||{}):ne!=null&&ne.props?Object.assign(Object.assign({},Bt),ne.props(lm(Ve,um))):Bt});return[Ue(se,()=>{var Bt,xn,Bn;return(Bn=(Bt=He().validateOnModelUpdate)!==null&&Bt!==void 0?Bt:(xn=Pl())===null||xn===void 0?void 0:xn.validateOnModelUpdate)!==null&&Bn!==void 0?Bn:!0}),_n]}function yt(se){return Array.isArray(se)?se.map(ne=>Ue(ne,!0)):Ue(se)}function Nt(se,ne){const[be,Ve]=st(se,ne);function He(){Ve.value.onBlur()}function ut(an){const _n=Og(an);he(ke(se),_n,!1),Ve.value.onInput()}function Je(an){const _n=Og(an);he(ke(se),_n,!1),Ve.value.onChange()}return Q(()=>Object.assign(Object.assign({},Ve.value),{onBlur:He,onInput:ut,onChange:Je,value:be.value}))}function Ln(se,ne){const[be,Ve]=st(se,ne),He=_e(ke(se));function ut(Je){be.value=Je}return Q(()=>{const Je=ks(ne)?ne(lm(He,um)):ne||{};return Object.assign({[Je.model||"modelValue"]:be.value,[`onUpdate:${Je.model||"modelValue"}`]:ut},Ve.value)})}const cn=Object.assign(Object.assign({},ee),{values:rl(c),handleReset:()=>Le(),submitForm:ft});return rs(Nne,cn),cn}function yse(t,e,n,s){const r={touched:"some",pending:"some",valid:"every"},i=Q(()=>!nr(e,m(n)));function o(){const u=t.value;return Ir(r).reduce((c,d)=>{const h=r[d];return c[d]=u[h](g=>g[d]),c},{})}const a=vr(o());return qn(()=>{const u=o();a.touched=u.touched,a.valid=u.valid,a.pending=u.pending}),Q(()=>Object.assign(Object.assign({initialValues:m(n)},a),{valid:a.valid&&!Ir(s.value).length,dirty:i.value}))}function wse(t,e,n){const s=nV(n),r=Z(s),i=Z(bn(s));function o(a,u){u!=null&&u.force?(r.value=bn(a),i.value=bn(a)):(r.value=_h(bn(r.value)||{},bn(a)),i.value=_h(bn(i.value)||{},bn(a))),u!=null&&u.updateFields&&t.value.forEach(c=>{if(c.touched)return;const h=fr(r.value,ke(c.path));Io(e,ke(c.path),bn(h))})}return{initialValues:r,originalInitialValues:i,setInitialValues:o}}function bse(t,e){return e?{valid:t.valid&&e.valid,errors:[...t.errors,...e.errors]}:t}const Ese=K({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=ln(ld,void 0),s=Q(()=>n==null?void 0:n.errors.value[t.name]);function r(){return{message:s.value}}return()=>{if(!s.value)return;const i=t.as?bi(t.as):t.as,o=ZN(i,e,r),a=Object.assign({role:"alert"},e.attrs);return!i&&(Array.isArray(o)||!o)&&(o!=null&&o.length)?o:(Array.isArray(o)||!o)&&!(o!=null&&o.length)?Ft(i||"span",a,s.value):Ft(i,a,o)}}}),Tse=Ese;function Sse(t){const e=tS(t);return Q(()=>{var n,s;return e&&(s="meta"in e?e.meta.dirty:(n=e==null?void 0:e.value)===null||n===void 0?void 0:n.dirty)!==null&&s!==void 0?s:!1})}function Cse(t){const e=tS(t);return Q(()=>{var n,s;return e&&(s="meta"in e?e.meta.touched:(n=e==null?void 0:e.value)===null||n===void 0?void 0:n.touched)!==null&&s!==void 0?s:!1})}function xse(t){const e=tS(t);return Q(()=>{var n,s;return e&&(s="meta"in e?e.meta.valid:(n=e==null?void 0:e.value)===null||n===void 0?void 0:n.valid)!==null&&s!==void 0?s:!1})}function Ise(t){const e=xv(ld),n=t?void 0:ln(Sv);return Q(()=>t?e==null?void 0:e.errors.value[ke(t)]:n==null?void 0:n.errorMessage.value)}const Ase={key:0},Rse={class:"space-y-1"},Pse={class:"grid grid-cols-2 gap-2 mt-4"},kse=["src"],Ose={class:"flex flex-wrap gap-2 mt-1"},Lse=["src"],Dse=["onClick"],Mse=K({__name:"RoomDetail",props:{hotelId:{},roomIndex:{}},emits:["room-updated"],setup(t,{emit:e}){const n=t,s=e,r=Z(!1),i=Z(null),o=Z([]),a=Z(null),u=Z({accommodationType:"",basePrice:0,maxGuests:1,startDate:"",endDate:""}),c=Q(()=>i.value?i.value.rooms[n.roomIndex]:null);async function d(){const x=ds(rn,"hotels",n.hotelId),I=await oa(x);I.exists()&&(i.value=I.data())}function h(){var x,I;o.value=[...c.value.images||[]],((I=(x=c.value)==null?void 0:x.available)==null?void 0:I.length)>0,u.value={accommodationType:c.value.accommodationType||"",basePrice:c.value.basePrice||0,maxGuests:c.value.maxGuests||1,startDate:c.value.startDate||"",endDate:c.value.endDate||""}}bt(async()=>{await d(),c.value&&h()}),ct(c,x=>{x&&h()});function g(x){const I=x.target;I.files&&I.files[0]&&(a.value=I.files[0])}async function v(){if(!a.value){en({title:"Error",description:"Choose a photo",variant:"destructive"});return}try{const x=a.value,I=`${Date.now()}_${x.name}`,V=Dc(),F=Lc(V,`hotels/${n.hotelId}/rooms/${n.roomIndex}/${I}`),k=await uv(F,x),P=await cv(k.ref);o.value.push(P),await T({images:[...o.value]}),en({title:"Good",description:"Photo is downloaded"}),a.value=null}catch{en({title:"Error",description:"Smth went wrong with photo, try again"})}}function y(x){const I=x.match(/\/o\/(.*?)\?/);return I&&I[1]?decodeURIComponent(I[1]):""}async function w(x){const I=o.value[x];try{const V=y(I);if(V){const F=Dc(),k=Lc(F,V);await wD(k)}o.value.splice(x,1),await T({images:[...o.value]}),en({title:"Success",description:"Photo is deleted"})}catch{en({title:"Error",description:"Photo is not deleted",variant:"destructive"})}}async function E(){try{await T({accommodationType:u.value.accommodationType,basePrice:u.value.basePrice,maxGuests:u.value.maxGuests,startDate:u.value.startDate,endDate:u.value.endDate}),en({title:"Success",description:"Room is changed"}),r.value=!1}catch{en({title:"Error",description:"Room is not updated"})}}async function T(x){if(!i.value)return;const I=[...i.value.rooms],V={...I[n.roomIndex],...x};I[n.roomIndex]=V,await fc(ds(rn,"hotels",n.hotelId),{rooms:I}),i.value.rooms=I,s("room-updated")}async function C(){if(i.value)try{const x=i.value.rooms.filter((I,V)=>V!==n.roomIndex);await fc(ds(rn,"hotels",n.hotelId),{rooms:x}),en({title:"Success",description:"Room is deleted"}),s("room-updated")}catch{en({title:"Error",description:"Room is not deleted"})}}return(x,I)=>c.value?($(),ie("div",Ase,[z("div",Rse,[z("p",null,[I[6]||(I[6]=z("strong",null,"Accommodation Type:",-1)),ae(" "+Ie(c.value.accommodationType),1)]),z("p",null,[I[7]||(I[7]=z("strong",null,"Price per night:",-1)),ae(" "+Ie(c.value.basePrice),1)]),z("p",null,[I[8]||(I[8]=z("strong",null,"Max guests:",-1)),ae(" "+Ie(c.value.maxGuests),1)]),z("p",null,[I[9]||(I[9]=z("strong",null,"Available:",-1)),c.value.startDate?($(),ie(Ke,{key:0},[ae(Ie(c.value.startDate)+""+Ie(c.value.endDate),1)],64)):Ht("",!0)])]),z("div",Pse,[($(!0),ie(Ke,null,jt(o.value,(V,F)=>($(),ie("img",{key:F,src:V,class:"w-full h-40 object-cover rounded"},null,8,kse))),128))]),M(m(FN),{open:r.value,"onUpdate:open":I[5]||(I[5]=V=>r.value=V)},{default:O(()=>[M(m(HN),{"as-child":""},{default:O(()=>[M(m(Zt),{variant:"outline",class:"mt-4"},{default:O(()=>I[10]||(I[10]=[ae(" Change data room ")])),_:1})]),_:1}),M(m($N),null,{default:O(()=>[M(m(zN),null,{default:O(()=>[M(m(jN),null,{default:O(()=>I[11]||(I[11]=[ae("Change data room")])),_:1}),M(m(BN),null,{default:O(()=>I[12]||(I[12]=[ae(" Change and Submit ")])),_:1})]),_:1}),M(m(qN),{class:"max-h-[50vh] pr-4"},{default:O(()=>[z("form",{onSubmit:xs(E,["prevent"]),class:"space-y-3 pb-6"},[M(m(ns),{for:"accommodationType"},{default:O(()=>I[13]||(I[13]=[ae("Accommodation Type")])),_:1}),M(m(wn),{id:"accommodationType",modelValue:u.value.accommodationType,"onUpdate:modelValue":I[0]||(I[0]=V=>u.value.accommodationType=V),placeholder:"Single / Deluxe"},null,8,["modelValue"]),M(m(ns),{for:"basePrice"},{default:O(()=>I[14]||(I[14]=[ae("Price per night")])),_:1}),M(m(wn),{id:"basePrice",type:"number",modelValue:u.value.basePrice,"onUpdate:modelValue":I[1]||(I[1]=V=>u.value.basePrice=V)},null,8,["modelValue"]),M(m(ns),null,{default:O(()=>I[15]||(I[15]=[ae("Max guests")])),_:1}),M(m(wn),{type:"number",modelValue:u.value.maxGuests,"onUpdate:modelValue":I[2]||(I[2]=V=>u.value.maxGuests=V)},null,8,["modelValue"]),M(m(ns),null,{default:O(()=>I[16]||(I[16]=[ae("From")])),_:1}),M(m(wn),{type:"date",modelValue:u.value.startDate,"onUpdate:modelValue":I[3]||(I[3]=V=>u.value.startDate=V)},null,8,["modelValue"]),M(m(ns),null,{default:O(()=>I[17]||(I[17]=[ae("To")])),_:1}),M(m(wn),{type:"date",modelValue:u.value.endDate,"onUpdate:modelValue":I[4]||(I[4]=V=>u.value.endDate=V)},null,8,["modelValue"]),z("div",null,[M(m(ns),null,{default:O(()=>I[18]||(I[18]=[ae("Photo")])),_:1}),z("div",Ose,[($(!0),ie(Ke,null,jt(o.value,(V,F)=>($(),ie("div",{key:F,class:"relative"},[z("img",{src:V,class:"w-20 h-20 object-cover rounded"},null,8,Lse),z("button",{type:"button",onClick:k=>w(F),class:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1"},"  ",8,Dse)]))),128))]),z("input",{type:"file",onChange:g,accept:"image/*",class:"mt-2"},null,32),M(m(Zt),{type:"button",onClick:v,class:"mt-2"},{default:O(()=>I[19]||(I[19]=[ae(" Add photo ")])),_:1})]),M(m(UN),{class:"pt-4"},{default:O(()=>[M(m(Zt),{type:"submit"},{default:O(()=>I[20]||(I[20]=[ae("Save")])),_:1})]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["open"]),M(m(Zt),{variant:"destructive",class:"mt-4",onClick:C},{default:O(()=>I[21]||(I[21]=[ae(" Delete room ")])),_:1})])):Ht("",!0)}}),Nse={class:"p-6 space-y-4"},Vse={key:0},Fse={class:"space-y-1"},$se={class:"grid grid-cols-2 gap-2"},Bse=["src"],Use={key:0,class:"flex items-center gap-2 mt-1"},zse=["id","onUpdate:modelValue"],jse={key:1,class:"grid grid-cols-2 gap-2 mt-1"},Hse=["value","onUpdate:modelValue"],qse={class:"flex flex-wrap gap-2 mt-1"},Wse=["src"],Gse=["onClick"],Kse={class:"mt-8"},Zse={key:0},Yse={key:1},Qse={key:1},Xse="amenities",Jse=K({__name:"HotelDetail",setup(t){const e=["Free Wi-Fi","Free breakfast","Free parking","24hr front desk","Swimming pool","Air conditioning","Fitness center","Room service","Tea/Coffee maker","Restaurant","Bar","Spa","Non-smoking rooms","Pet friendly","Paid breakfast","Paid parking","Business center","Child friendly","Laundry"],s=ao().params.id,r=Z(null),i=Z(!1),o=Z([]),a=Z({}),u=Dc(),c=Z(null);async function d(){const E=ds(rn,"hotels",s),T=await oa(E);T.exists()&&(r.value=T.data(),o.value=r.value.images||[],a.value={name:{label:"Name",value:r.value.name||""},type:{label:"Type",value:r.value.type||""},email:{label:"Email",value:r.value.email||""},phone:{label:"Phone number",value:r.value.phone||""},address:{label:"Address",value:r.value.address||""},description:{label:"Description",value:r.value.description||""},rating:{label:"Rating",value:r.value.rating||1},numberOfReviews:{label:"Reviews",value:r.value.numberOfReviews||0},freeCancellationUpto24h:{label:"Free Cancellation Up to 24h",value:r.value.freeCancellationUpto24h??!1}},a.value.amenities={label:"Amenities",value:r.value.amenities?[...r.value.amenities]:[]})}bt(async()=>{await d()});const h=E=>{const T=E.target;T.files&&T.files[0]&&(c.value=T.files[0])},g=async()=>{if(!c.value){en({title:"Error",description:"Choose a photo",variant:"destructive"});return}try{const E=c.value,T=`${Date.now()}_${E.name}`,C=Lc(u,`hotel-images/${T}`),x=await uv(C,E),I=await cv(x.ref);o.value.push(I),await fc(ds(rn,"hotels",s),{images:sD(I)}),en({title:"success",description:"Photo is submited"}),c.value=null}catch{en({title:"Error",description:"Photo is bot downloaded",variant:"destructive"})}};function v(E){const T=E.match(/\/o\/(.*?)\?/);return T&&T[1]?decodeURIComponent(T[1]):""}const y=async E=>{const T=o.value[E];try{const C=v(T);if(C){const x=Lc(u,C);await wD(x)}o.value.splice(E,1),await fc(ds(rn,"hotels",s),{images:TG(T)}),en({title:"success",description:"Photo is deleted"})}catch{en({title:"Error",description:"Photo is not deleted",variant:"destructive"})}},w=async()=>{const E={};for(const[T,C]of Object.entries(a.value))E[T]=["rating","numberOfReviews"].includes(T)?Number(C.value):C.value;E.images=o.value;try{await fc(ds(rn,"hotels",s),E),en({title:"Success",description:"Hotel is updated"}),r.value={...r.value,...E},i.value=!1}catch{en({title:"Error",description:"Update is not successfull",variant:"destructive"})}};return(E,T)=>{const C=Xr("RouterLink");return $(),ie("div",Nse,[T[21]||(T[21]=z("h1",{class:"text-2xl font-bold"},"Hotel Details",-1)),r.value?($(),ie("div",Vse,[z("div",Fse,[z("p",null,[T[1]||(T[1]=z("strong",null,"Name:",-1)),ae(" "+Ie(r.value.name),1)]),z("p",null,[T[2]||(T[2]=z("strong",null,"Type:",-1)),ae(" "+Ie(r.value.type),1)]),z("p",null,[T[3]||(T[3]=z("strong",null,"Email:",-1)),ae(" "+Ie(r.value.email),1)]),z("p",null,[T[4]||(T[4]=z("strong",null,"Phone:",-1)),ae(" "+Ie(r.value.phone),1)]),z("p",null,[T[5]||(T[5]=z("strong",null,"Address:",-1)),ae(" "+Ie(r.value.address),1)]),z("p",null,[T[6]||(T[6]=z("strong",null,"Description:",-1)),ae(" "+Ie(r.value.description),1)]),z("p",null,[T[7]||(T[7]=z("strong",null,"Rating:",-1)),ae(" "+Ie(r.value.rating),1)]),z("p",null,[T[8]||(T[8]=z("strong",null,"Number of Reviews:",-1)),ae(" "+Ie(r.value.numberOfReviews),1)]),z("p",null,[T[9]||(T[9]=z("strong",null,"Free Cancellation (24h):",-1)),ae(" "+Ie(r.value.freeCancellationUpto24h?"":""),1)])]),z("div",$se,[($(!0),ie(Ke,null,jt(r.value.images,(x,I)=>($(),ie("img",{key:I,src:x,class:"w-full h-40 object-cover rounded"},null,8,Bse))),128))]),M(C,{to:{name:m(Gk),params:{id:m(s)}}},{default:O(()=>[M(m(Zt),{class:"mt-4"},{default:O(()=>T[10]||(T[10]=[ae("Add room")])),_:1})]),_:1},8,["to"]),M(m(FN),{open:i.value,"onUpdate:open":T[0]||(T[0]=x=>i.value=x)},{default:O(()=>[M(m(HN),{"as-child":""},{default:O(()=>[M(m(Zt),{class:"mt-2 ml-10",variant:"outline"},{default:O(()=>T[11]||(T[11]=[ae("Change data")])),_:1})]),_:1}),M(m($N),{class:"sm:max-w-[600px] max-h-[90vh] overflow-hidden"},{default:O(()=>[M(m(zN),null,{default:O(()=>[M(m(jN),null,{default:O(()=>T[12]||(T[12]=[ae("Change hotel")])),_:1}),M(m(BN),null,{default:O(()=>T[13]||(T[13]=[ae("Update hotel's data")])),_:1})]),_:1}),M(m(qN),{class:"max-h-[65vh] pr-4"},{default:O(()=>[z("form",{onSubmit:xs(w,["prevent"]),class:"space-y-3 pb-6"},[($(!0),ie(Ke,null,jt(a.value,(x,I)=>($(),ie("div",{key:I},[M(m(ns),{for:I},{default:O(()=>[ae(Ie(x.label),1)]),_:2},1032,["for"]),I==="freeCancellationUpto24h"?($(),ie("div",Use,[Kr(z("input",{type:"checkbox",id:I,"onUpdate:modelValue":V=>a.value[I].value=V},null,8,zse),[[gC,a.value[I].value]]),T[14]||(T[14]=z("span",{class:"text-sm"},"Free Cancellation before 24h",-1))])):I===Xse?($(),ie("div",jse,[($(),ie(Ke,null,jt(e,V=>z("label",{key:V,class:"flex items-center gap-2 text-sm"},[Kr(z("input",{type:"checkbox",value:V,"onUpdate:modelValue":F=>a.value[I].value=F},null,8,Hse),[[gC,a.value[I].value]]),z("span",null,Ie(V),1)])),64))])):($(),Y(m(wn),{key:2,id:I,modelValue:a.value[I].value,"onUpdate:modelValue":V=>a.value[I].value=V,type:["rating","numberOfReviews"].includes(I)?"number":"text",step:I==="rating"?"0.1":void 0,placeholder:x.placeholder},null,8,["id","modelValue","onUpdate:modelValue","type","step","placeholder"]))]))),128)),z("div",null,[M(m(ns),null,{default:O(()=>T[15]||(T[15]=[ae("Photo")])),_:1}),z("div",qse,[($(!0),ie(Ke,null,jt(o.value,(x,I)=>($(),ie("div",{key:I,class:"relative"},[z("img",{src:x,class:"w-20 h-20 object-cover rounded"},null,8,Wse),z("button",{type:"button",onClick:V=>y(I),class:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1"},"  ",8,Gse)]))),128))]),z("input",{type:"file",onChange:h,accept:"image/*",class:"mt-2"},null,32),M(m(Zt),{type:"button",onClick:g,class:"mt-2"},{default:O(()=>T[16]||(T[16]=[ae(" Add photo ")])),_:1})]),M(m(UN),{class:"pt-4"},{default:O(()=>[M(m(Zt),{type:"submit"},{default:O(()=>T[17]||(T[17]=[ae("Save")])),_:1})]),_:1})],32)]),_:1})]),_:1})]),_:1},8,["open"]),z("div",Kse,[T[19]||(T[19]=z("h2",{class:"text-xl font-bold"},"Hotel room",-1)),r.value.rooms&&r.value.rooms.length?($(),ie("div",Zse,[($(!0),ie(Ke,null,jt(r.value.rooms,(x,I)=>($(),Y(Mse,{key:I,hotelId:m(s),roomIndex:I,onRoomUpdated:d},null,8,["hotelId","roomIndex"]))),128))])):($(),ie("div",Yse,T[18]||(T[18]=[z("p",null,"No rooms available",-1)])))])])):($(),ie("div",Qse,T[20]||(T[20]=[z("p",null,"Loading hotel details...",-1)])))])}}}),sV=Symbol();function sS(){const t=ln(Sv),e=ln(sV);if(!t)throw new Error("useFormField should be used within <FormField>");const{name:n}=t,s=e,r={valid:xse(n),isDirty:Sse(n),isTouched:Cse(n),error:Ise(n)};return{id:s,name:n,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...r}}const ls=K({__name:"FormControl",setup(t){const{error:e,formItemId:n,formDescriptionId:s,formMessageId:r}=sS();return(i,o)=>($(),Y(m(Km),{id:m(n),"aria-describedby":m(e)?`${m(s)} ${m(r)}`:`${m(s)}`,"aria-invalid":!!m(e)},{default:O(()=>[J(i.$slots,"default")]),_:3},8,["id","aria-describedby","aria-invalid"]))}}),us=K({__name:"FormItem",props:{class:{}},setup(t){const e=t,n=Ci();return rs(sV,n),(s,r)=>($(),ie("div",{class:vt(m(Fe)("space-y-2",e.class))},[J(s.$slots,"default")],2))}}),ys=K({__name:"FormLabel",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,{error:n,formItemId:s}=sS();return(r,i)=>($(),Y(m(ns),{class:vt(m(Fe)(m(n)&&"text-destructive",e.class)),for:m(s)},{default:O(()=>[J(r.$slots,"default")]),_:3},8,["class","for"]))}}),ur=K({__name:"FormMessage",setup(t){const{name:e,formMessageId:n}=sS();return(s,r)=>($(),Y(m(Tse),{id:m(n),as:"p",name:ke(m(e)),class:"text-[0.8rem] font-medium text-destructive"},null,8,["id","name"]))}});var sn;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const o of r)i[o]=o;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),o={};for(const a of i)o[a]=r[a];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&i.push(o);return i},t.find=(r,i)=>{for(const o of r)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(sn||(sn={}));var tR;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(tR||(tR={}));const We=sn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sa=t=>{switch(typeof t){case"undefined":return We.undefined;case"string":return We.string;case"number":return isNaN(t)?We.nan:We.number;case"boolean":return We.boolean;case"function":return We.function;case"bigint":return We.bigint;case"symbol":return We.symbol;case"object":return Array.isArray(t)?We.array:t===null?We.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?We.promise:typeof Map<"u"&&t instanceof Map?We.map:typeof Set<"u"&&t instanceof Set?We.set:typeof Date<"u"&&t instanceof Date?We.date:We.object;default:return We.unknown}},Oe=sn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let a=s,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return r(this),s}static assert(e){if(!(e instanceof Qr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}Qr.create=t=>new Qr(t);const vh=(t,e)=>{let n;switch(t.code){case Oe.invalid_type:t.received===We.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,sn.jsonStringifyReplacer)}`;break;case Oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${sn.joinValues(t.keys,", ")}`;break;case Oe.invalid_union:n="Invalid input";break;case Oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${sn.joinValues(t.options)}`;break;case Oe.invalid_enum_value:n=`Invalid enum value. Expected ${sn.joinValues(t.options)}, received '${t.received}'`;break;case Oe.invalid_arguments:n="Invalid function arguments";break;case Oe.invalid_return_type:n="Invalid function return type";break;case Oe.invalid_date:n="Invalid date";break;case Oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:sn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Oe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Oe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Oe.custom:n="Invalid input";break;case Oe.invalid_intersection_types:n="Intersection results could not be merged";break;case Oe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Oe.not_finite:n="Number must be finite";break;default:n=e.defaultError,sn.assertNever(t)}return{message:n}};let ere=vh;function Zb(){return ere}const Yb=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],o={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let a="";const u=s.filter(c=>!!c).slice().reverse();for(const c of u)a=c(o,{data:e,defaultError:a}).message;return{...r,path:i,message:a}};function je(t,e){const n=Zb(),s=Yb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===vh?void 0:vh].filter(r=>!!r)});t.common.issues.push(s)}class sr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return At;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,o=await r.value;s.push({key:i,value:o})}return sr.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:o}=r;if(i.status==="aborted"||o.status==="aborted")return At;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[i.value]=o.value)}return{status:e.value,value:s}}}const At=Object.freeze({status:"aborted"}),mf=t=>({status:"dirty",value:t}),yr=t=>({status:"valid",value:t}),nR=t=>t.status==="aborted",sR=t=>t.status==="dirty",Vc=t=>t.status==="valid",Lg=t=>typeof Promise<"u"&&t instanceof Promise;function Dg(t,e,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function rV(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var it;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(it||(it={}));var gf,_f;class io{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rR=(t,e)=>{if(Vc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qr(t.common.issues);return this._error=n,this._error}}};function Mt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,a)=>{var u,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(u=d??s)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:r}}class qt{get description(){return this._def.description}_getType(e){return Sa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new sr,ctx:{common:e.parent.common,data:e.data,parsedType:Sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Lg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const r={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)},i=this._parseSync({data:e,path:r.path,parent:r});return rR(r,i)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Vc(i)?{value:i.value}:{issues:r.common.issues}}catch(i){!((s=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Vc(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Sa(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(Lg(r)?r:Promise.resolve(r));return rR(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const o=e(r),a=()=>i.addIssue({code:Oe.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new na({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qo.create(this,this._def)}nullable(){return tu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ji.create(this)}promise(){return yh.create(this,this._def)}or(e){return Fg.create([this,e],this._def)}and(e){return $g.create(this,e,this._def)}transform(e){return new na({...Mt(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wh({...Mt(this._def),innerType:this,defaultValue:n,typeName:wt.ZodDefault})}brand(){return new lV({typeName:wt.ZodBranded,type:this,...Mt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hg({...Mt(this._def),innerType:this,catchValue:n,typeName:wt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Iv.create(this,e)}readonly(){return qg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tre=/^c[^\s-]{8,}$/i,nre=/^[0-9a-z]+$/,sre=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rre=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ire=/^[a-z0-9_-]{21}$/i,ore=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,are=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lre=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ure="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ky;const cre=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dre=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fre=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hre=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pre=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mre=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gre=new RegExp(`^${iV}$`);function oV(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function _re(t){return new RegExp(`^${oV(t)}$`)}function vre(t){let e=`${iV}T${oV(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function yre(t,e){return!!((e==="v4"||!e)&&cre.test(t)||(e==="v6"||!e)&&fre.test(t))}function wre(t,e){if(!ore.test(t))return!1;try{const[n]=t.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function bre(t,e){return!!((e==="v4"||!e)&&dre.test(t)||(e==="v6"||!e)&&hre.test(t))}class Wi extends qt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==We.string){const i=this._getOrReturnCtx(e);return je(i,{code:Oe.invalid_type,expected:We.string,received:i.parsedType}),At}const s=new sr;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(r=this._getOrReturnCtx(e,r),o?je(r,{code:Oe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&je(r,{code:Oe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")lre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"email",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")Ky||(Ky=new RegExp(ure,"u")),Ky.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"emoji",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")rre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"uuid",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")ire.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"nanoid",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")tre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"cuid",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")nre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"cuid2",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")sre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"ulid",code:Oe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),je(r,{validation:"url",code:Oe.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"regex",code:Oe.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?vre(i).test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?gre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?_re(i).test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?are.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"duration",code:Oe.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?yre(e.data,i.version)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"ip",code:Oe.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?wre(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"jwt",code:Oe.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?bre(e.data,i.version)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"cidr",code:Oe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?pre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"base64",code:Oe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?mre.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"base64url",code:Oe.invalid_string,message:i.message}),s.dirty()):sn.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:Oe.invalid_string,...it.errToObj(s)})}_addCheck(e){return new Wi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...it.errToObj(e)})}url(e){return this._addCheck({kind:"url",...it.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...it.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...it.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...it.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...it.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...it.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...it.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...it.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...it.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...it.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...it.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...it.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...it.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...it.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...it.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...it.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...it.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...it.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...it.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...it.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...it.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...it.errToObj(n)})}nonempty(e){return this.min(1,it.errToObj(e))}trim(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wi.create=t=>{var e;return new Wi({checks:[],typeName:wt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Mt(t)})};function Ere(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return i%o/Math.pow(10,r)}class Xl extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==We.number){const i=this._getOrReturnCtx(e);return je(i,{code:Oe.invalid_type,expected:We.number,received:i.parsedType}),At}let s;const r=new sr;for(const i of this._def.checks)i.kind==="int"?sn.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Ere(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.not_finite,message:i.message}),r.dirty()):sn.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,it.toString(n))}gt(e,n){return this.setLimit("min",e,!1,it.toString(n))}lte(e,n){return this.setLimit("max",e,!0,it.toString(n))}lt(e,n){return this.setLimit("max",e,!1,it.toString(n))}setLimit(e,n,s,r){return new Xl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:it.toString(r)}]})}_addCheck(e){return new Xl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:it.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:it.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:it.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:it.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:it.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&sn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Xl.create=t=>new Xl({checks:[],typeName:wt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Mt(t)});class Jl extends qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==We.bigint)return this._getInvalidInput(e);let s;const r=new sr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),je(s,{code:Oe.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):sn.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return je(n,{code:Oe.invalid_type,expected:We.bigint,received:n.parsedType}),At}gte(e,n){return this.setLimit("min",e,!0,it.toString(n))}gt(e,n){return this.setLimit("min",e,!1,it.toString(n))}lte(e,n){return this.setLimit("max",e,!0,it.toString(n))}lt(e,n){return this.setLimit("max",e,!1,it.toString(n))}setLimit(e,n,s,r){return new Jl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:it.toString(r)}]})}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:it.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:it.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:it.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:it.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:it.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Jl.create=t=>{var e;return new Jl({checks:[],typeName:wt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Mt(t)})};class Mg extends qt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==We.boolean){const s=this._getOrReturnCtx(e);return je(s,{code:Oe.invalid_type,expected:We.boolean,received:s.parsedType}),At}return yr(e.data)}}Mg.create=t=>new Mg({typeName:wt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Mt(t)});class Fc extends qt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==We.date){const i=this._getOrReturnCtx(e);return je(i,{code:Oe.invalid_type,expected:We.date,received:i.parsedType}),At}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return je(i,{code:Oe.invalid_date}),At}const s=new sr;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:Oe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):sn.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Fc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:it.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:it.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Fc.create=t=>new Fc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:wt.ZodDate,...Mt(t)});class Qb extends qt{_parse(e){if(this._getType(e)!==We.symbol){const s=this._getOrReturnCtx(e);return je(s,{code:Oe.invalid_type,expected:We.symbol,received:s.parsedType}),At}return yr(e.data)}}Qb.create=t=>new Qb({typeName:wt.ZodSymbol,...Mt(t)});class Ng extends qt{_parse(e){if(this._getType(e)!==We.undefined){const s=this._getOrReturnCtx(e);return je(s,{code:Oe.invalid_type,expected:We.undefined,received:s.parsedType}),At}return yr(e.data)}}Ng.create=t=>new Ng({typeName:wt.ZodUndefined,...Mt(t)});class Vg extends qt{_parse(e){if(this._getType(e)!==We.null){const s=this._getOrReturnCtx(e);return je(s,{code:Oe.invalid_type,expected:We.null,received:s.parsedType}),At}return yr(e.data)}}Vg.create=t=>new Vg({typeName:wt.ZodNull,...Mt(t)});class Xb extends qt{constructor(){super(...arguments),this._any=!0}_parse(e){return yr(e.data)}}Xb.create=t=>new Xb({typeName:wt.ZodAny,...Mt(t)});class vc extends qt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yr(e.data)}}vc.create=t=>new vc({typeName:wt.ZodUnknown,...Mt(t)});class el extends qt{_parse(e){const n=this._getOrReturnCtx(e);return je(n,{code:Oe.invalid_type,expected:We.never,received:n.parsedType}),At}}el.create=t=>new el({typeName:wt.ZodNever,...Mt(t)});class Jb extends qt{_parse(e){if(this._getType(e)!==We.undefined){const s=this._getOrReturnCtx(e);return je(s,{code:Oe.invalid_type,expected:We.void,received:s.parsedType}),At}return yr(e.data)}}Jb.create=t=>new Jb({typeName:wt.ZodVoid,...Mt(t)});class Ji extends qt{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==We.array)return je(n,{code:Oe.invalid_type,expected:We.array,received:n.parsedType}),At;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(o||a)&&(je(n,{code:o?Oe.too_big:Oe.too_small,minimum:a?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(je(n,{code:Oe.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(je(n,{code:Oe.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>r.type._parseAsync(new io(n,o,n.path,a)))).then(o=>sr.mergeArray(s,o));const i=[...n.data].map((o,a)=>r.type._parseSync(new io(n,o,n.path,a)));return sr.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new Ji({...this._def,minLength:{value:e,message:it.toString(n)}})}max(e,n){return new Ji({...this._def,maxLength:{value:e,message:it.toString(n)}})}length(e,n){return new Ji({...this._def,exactLength:{value:e,message:it.toString(n)}})}nonempty(e){return this.min(1,e)}}Ji.create=(t,e)=>new Ji({type:t,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...Mt(e)});function ec(t){if(t instanceof Fn){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=qo.create(ec(s))}return new Fn({...t._def,shape:()=>e})}else return t instanceof Ji?new Ji({...t._def,type:ec(t.element)}):t instanceof qo?qo.create(ec(t.unwrap())):t instanceof tu?tu.create(ec(t.unwrap())):t instanceof ta?ta.create(t.items.map(e=>ec(e))):t}class Fn extends qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=sn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==We.object){const c=this._getOrReturnCtx(e);return je(c,{code:Oe.invalid_type,expected:We.object,received:c.parsedType}),At}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof el&&this._def.unknownKeys==="strip"))for(const c in r.data)o.includes(c)||a.push(c);const u=[];for(const c of o){const d=i[c],h=r.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new io(r,h,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof el){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)u.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(c==="strict")a.length>0&&(je(r,{code:Oe.unrecognized_keys,keys:a}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const h=r.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new io(r,h,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const h=await d.key,g=await d.value;c.push({key:h,value:g,alwaysSet:d.alwaysSet})}return c}).then(c=>sr.mergeObjectSync(s,c)):sr.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(e){return it.errToObj,new Fn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var r,i,o,a;const u=(o=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(a=it.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new Fn({...this._def,unknownKeys:"strip"})}passthrough(){return new Fn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Fn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Fn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Fn({...this._def,catchall:e})}pick(e){const n={};return sn.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new Fn({...this._def,shape:()=>n})}omit(e){const n={};return sn.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new Fn({...this._def,shape:()=>n})}deepPartial(){return ec(this)}partial(e){const n={};return sn.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}),new Fn({...this._def,shape:()=>n})}required(e){const n={};return sn.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof qo;)i=i._def.innerType;n[s]=i}}),new Fn({...this._def,shape:()=>n})}keyof(){return aV(sn.objectKeys(this.shape))}}Fn.create=(t,e)=>new Fn({shape:()=>t,unknownKeys:"strip",catchall:el.create(),typeName:wt.ZodObject,...Mt(e)});Fn.strictCreate=(t,e)=>new Fn({shape:()=>t,unknownKeys:"strict",catchall:el.create(),typeName:wt.ZodObject,...Mt(e)});Fn.lazycreate=(t,e)=>new Fn({shape:t,unknownKeys:"strip",catchall:el.create(),typeName:wt.ZodObject,...Mt(e)});class Fg extends qt{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new Qr(a.ctx.common.issues));return je(n,{code:Oe.invalid_union,unionErrors:o}),At}if(n.common.async)return Promise.all(s.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const u of s){const c={...n,common:{...n.common,issues:[]},parent:null},d=u._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(u=>new Qr(u));return je(n,{code:Oe.invalid_union,unionErrors:a}),At}}get options(){return this._def.options}}Fg.create=(t,e)=>new Fg({options:t,typeName:wt.ZodUnion,...Mt(e)});const Ao=t=>t instanceof Ug?Ao(t.schema):t instanceof na?Ao(t.innerType()):t instanceof zg?[t.value]:t instanceof eu?t.options:t instanceof jg?sn.objectValues(t.enum):t instanceof wh?Ao(t._def.innerType):t instanceof Ng?[void 0]:t instanceof Vg?[null]:t instanceof qo?[void 0,...Ao(t.unwrap())]:t instanceof tu?[null,...Ao(t.unwrap())]:t instanceof lV||t instanceof qg?Ao(t.unwrap()):t instanceof Hg?Ao(t._def.innerType):[];class rS extends qt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==We.object)return je(n,{code:Oe.invalid_type,expected:We.object,received:n.parsedType}),At;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(je(n,{code:Oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),At)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const i of n){const o=Ao(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(r.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);r.set(a,i)}}return new rS({typeName:wt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...Mt(s)})}}function e0(t,e){const n=Sa(t),s=Sa(e);if(t===e)return{valid:!0,data:t};if(n===We.object&&s===We.object){const r=sn.objectKeys(e),i=sn.objectKeys(t).filter(a=>r.indexOf(a)!==-1),o={...t,...e};for(const a of i){const u=e0(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===We.array&&s===We.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],u=e0(o,a);if(!u.valid)return{valid:!1};r.push(u.data)}return{valid:!0,data:r}}else return n===We.date&&s===We.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class $g extends qt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,o)=>{if(nR(i)||nR(o))return At;const a=e0(i.value,o.value);return a.valid?((sR(i)||sR(o))&&n.dirty(),{status:n.value,value:a.data}):(je(s,{code:Oe.invalid_intersection_types}),At)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}$g.create=(t,e,n)=>new $g({left:t,right:e,typeName:wt.ZodIntersection,...Mt(n)});class ta extends qt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==We.array)return je(s,{code:Oe.invalid_type,expected:We.array,received:s.parsedType}),At;if(s.data.length<this._def.items.length)return je(s,{code:Oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&s.data.length>this._def.items.length&&(je(s,{code:Oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new io(s,o,s.path,a)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>sr.mergeArray(n,o)):sr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ta({...this._def,rest:e})}}ta.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ta({items:t,typeName:wt.ZodTuple,rest:null,...Mt(e)})};class Bg extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==We.object)return je(s,{code:Oe.invalid_type,expected:We.object,received:s.parsedType}),At;const r=[],i=this._def.keyType,o=this._def.valueType;for(const a in s.data)r.push({key:i._parse(new io(s,a,s.path,a)),value:o._parse(new io(s,s.data[a],s.path,a)),alwaysSet:a in s.data});return s.common.async?sr.mergeObjectAsync(n,r):sr.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof qt?new Bg({keyType:e,valueType:n,typeName:wt.ZodRecord,...Mt(s)}):new Bg({keyType:Wi.create(),valueType:e,typeName:wt.ZodRecord,...Mt(n)})}}class t0 extends qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==We.map)return je(s,{code:Oe.invalid_type,expected:We.map,received:s.parsedType}),At;const r=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([a,u],c)=>({key:r._parse(new io(s,a,s.path,[c,"key"])),value:i._parse(new io(s,u,s.path,[c,"value"]))}));if(s.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return At;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return At;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}t0.create=(t,e,n)=>new t0({valueType:e,keyType:t,typeName:wt.ZodMap,...Mt(n)});class $c extends qt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==We.set)return je(s,{code:Oe.invalid_type,expected:We.set,received:s.parsedType}),At;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(je(s,{code:Oe.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(je(s,{code:Oe.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const c=new Set;for(const d of u){if(d.status==="aborted")return At;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...s.data.values()].map((u,c)=>i._parse(new io(s,u,s.path,c)));return s.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new $c({...this._def,minSize:{value:e,message:it.toString(n)}})}max(e,n){return new $c({...this._def,maxSize:{value:e,message:it.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$c.create=(t,e)=>new $c({valueType:t,minSize:null,maxSize:null,typeName:wt.ZodSet,...Mt(e)});class zf extends qt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==We.function)return je(n,{code:Oe.invalid_type,expected:We.function,received:n.parsedType}),At;function s(a,u){return Yb({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zb(),vh].filter(c=>!!c),issueData:{code:Oe.invalid_arguments,argumentsError:u}})}function r(a,u){return Yb({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Zb(),vh].filter(c=>!!c),issueData:{code:Oe.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof yh){const a=this;return yr(async function(...u){const c=new Qr([]),d=await a._def.args.parseAsync(u,i).catch(v=>{throw c.addIssue(s(u,v)),c}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(v=>{throw c.addIssue(r(h,v)),c})})}else{const a=this;return yr(function(...u){const c=a._def.args.safeParse(u,i);if(!c.success)throw new Qr([s(u,c.error)]);const d=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new Qr([r(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zf({...this._def,args:ta.create(e).rest(vc.create())})}returns(e){return new zf({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new zf({args:e||ta.create([]).rest(vc.create()),returns:n||vc.create(),typeName:wt.ZodFunction,...Mt(s)})}}class Ug extends qt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ug.create=(t,e)=>new Ug({getter:t,typeName:wt.ZodLazy,...Mt(e)});class zg extends qt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return je(n,{received:n.data,code:Oe.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:e.data}}get value(){return this._def.value}}zg.create=(t,e)=>new zg({value:t,typeName:wt.ZodLiteral,...Mt(e)});function aV(t,e){return new eu({values:t,typeName:wt.ZodEnum,...Mt(e)})}class eu extends qt{constructor(){super(...arguments),gf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return je(n,{expected:sn.joinValues(s),received:n.parsedType,code:Oe.invalid_type}),At}if(Dg(this,gf)||rV(this,gf,new Set(this._def.values)),!Dg(this,gf).has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return je(n,{received:n.data,code:Oe.invalid_enum_value,options:s}),At}return yr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return eu.create(e,{...this._def,...n})}exclude(e,n=this._def){return eu.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}gf=new WeakMap;eu.create=aV;class jg extends qt{constructor(){super(...arguments),_f.set(this,void 0)}_parse(e){const n=sn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==We.string&&s.parsedType!==We.number){const r=sn.objectValues(n);return je(s,{expected:sn.joinValues(r),received:s.parsedType,code:Oe.invalid_type}),At}if(Dg(this,_f)||rV(this,_f,new Set(sn.getValidEnumValues(this._def.values))),!Dg(this,_f).has(e.data)){const r=sn.objectValues(n);return je(s,{received:s.data,code:Oe.invalid_enum_value,options:r}),At}return yr(e.data)}get enum(){return this._def.values}}_f=new WeakMap;jg.create=(t,e)=>new jg({values:t,typeName:wt.ZodNativeEnum,...Mt(e)});class yh extends qt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==We.promise&&n.common.async===!1)return je(n,{code:Oe.invalid_type,expected:We.promise,received:n.parsedType}),At;const s=n.parsedType===We.promise?n.data:Promise.resolve(n.data);return yr(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yh.create=(t,e)=>new yh({type:t,typeName:wt.ZodPromise,...Mt(e)});class na extends qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:o=>{je(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return At;const u=await this._def.schema._parseAsync({data:a,path:s.path,parent:s});return u.status==="aborted"?At:u.status==="dirty"||n.value==="dirty"?mf(u.value):u});{if(n.value==="aborted")return At;const a=this._def.schema._parseSync({data:o,path:s.path,parent:s});return a.status==="aborted"?At:a.status==="dirty"||n.value==="dirty"?mf(a.value):a}}if(r.type==="refinement"){const o=a=>{const u=r.refinement(a,i);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?At:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>a.status==="aborted"?At:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Vc(o))return o;const a=r.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Vc(o)?Promise.resolve(r.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);sn.assertNever(r)}}na.create=(t,e,n)=>new na({schema:t,typeName:wt.ZodEffects,effect:e,...Mt(n)});na.createWithPreprocess=(t,e,n)=>new na({schema:e,effect:{type:"preprocess",transform:t},typeName:wt.ZodEffects,...Mt(n)});class qo extends qt{_parse(e){return this._getType(e)===We.undefined?yr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qo.create=(t,e)=>new qo({innerType:t,typeName:wt.ZodOptional,...Mt(e)});class tu extends qt{_parse(e){return this._getType(e)===We.null?yr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tu.create=(t,e)=>new tu({innerType:t,typeName:wt.ZodNullable,...Mt(e)});class wh extends qt{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===We.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wh.create=(t,e)=>new wh({innerType:t,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Mt(e)});class Hg extends qt{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Lg(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qr(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Qr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Hg.create=(t,e)=>new Hg({innerType:t,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Mt(e)});class n0 extends qt{_parse(e){if(this._getType(e)!==We.nan){const s=this._getOrReturnCtx(e);return je(s,{code:Oe.invalid_type,expected:We.nan,received:s.parsedType}),At}return{status:"valid",value:e.data}}}n0.create=t=>new n0({typeName:wt.ZodNaN,...Mt(t)});class lV extends qt{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Iv extends qt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?At:i.status==="dirty"?(n.dirty(),mf(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?At:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new Iv({in:e,out:n,typeName:wt.ZodPipeline})}}class qg extends qt{_parse(e){const n=this._def.innerType._parse(e),s=r=>(Vc(r)&&(r.value=Object.freeze(r.value)),r);return Lg(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}qg.create=(t,e)=>new qg({innerType:t,typeName:wt.ZodReadonly,...Mt(e)});Fn.lazycreate;var wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(wt||(wt={}));const Xs=Wi.create,Tre=Xl.create;n0.create;Jl.create;const Sre=Mg.create;Fc.create;Qb.create;Ng.create;Vg.create;Xb.create;vc.create;el.create;Jb.create;const s0=Ji.create,iS=Fn.create;Fn.strictCreate;Fg.create;rS.create;$g.create;ta.create;Bg.create;t0.create;$c.create;zf.create;Ug.create;zg.create;eu.create;jg.create;yh.create;na.create;qo.create;tu.create;na.createWithPreprocess;Iv.create;const Wg={string:t=>Wi.create({...t,coerce:!0}),number:t=>Xl.create({...t,coerce:!0}),boolean:t=>Mg.create({...t,coerce:!0}),bigint:t=>Jl.create({...t,coerce:!0}),date:t=>Fc.create({...t,coerce:!0})};/**
  * vee-validate v4.15.0
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const iR=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function uV(t){return Number(t)>=0}function Cre(t){return typeof t=="object"&&t!==null}function xre(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function oR(t){if(!Cre(t)||xre(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function cV(t,e){return Object.keys(e).forEach(n=>{if(oR(e[n])&&oR(t[n])){t[n]||(t[n]={}),cV(t[n],e[n]);return}t[n]=e[n]}),t}function Ire(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let s=1;s<e.length;s++){if(uV(e[s])){n+=`[${e[s]}]`;continue}n+=`.${e[s]}`}return n}function oS(t,e){return{__type:"VVTypedSchema",async parse(s){const r=await t.safeParseAsync(s,e);if(r.success)return{value:r.data,errors:[]};const i={};return dV(r.error.issues,i),{errors:Object.values(i)}},cast(s){try{return t.parse(s)}catch{const i=fV(t);return iR(i)&&iR(s)?cV(i,s):s}},describe(s){try{if(!s)return{required:!t.isOptional(),exists:!0};const r=Are(s,t);return r?{required:!r.isOptional(),exists:!0}:{required:!1,exists:!1}}catch{return{required:!1,exists:!1}}}}}function dV(t,e){t.forEach(n=>{const s=Ire(n.path.join("."));n.code==="invalid_union"&&(dV(n.unionErrors.flatMap(r=>r.issues),e),!s)||(e[s]||(e[s]={errors:[],path:s}),e[s].errors.push(n.message))})}function fV(t){if(t instanceof Fn)return Object.fromEntries(Object.entries(t.shape).map(([e,n])=>n instanceof wh?[e,n._def.defaultValue()]:n instanceof Fn?[e,fV(n)]:[e,void 0]))}function Are(t,e){if(!aR(e))return null;if(Yh(t))return e.shape[Cv(t)];const n=(t||"").split(/\.|\[(\d+)\]/).filter(Boolean);let s=e;for(let r=0;r<=n.length;r++){const i=n[r];if(!i||!s)return s;if(aR(s)){s=s.shape[i]||null;continue}uV(i)&&Rre(s)&&(s=s._def.type)}return null}function hV(t){return t._def.typeName}function Rre(t){return hV(t)===wt.ZodArray}function aR(t){return hV(t)===wt.ZodObject}const Pre={class:"grid grid-cols-2 gap-4 mt-2"},kre=["src"],Ore=K({__name:"FormRoom",setup(t){const e=oS(iS({accommodationType:Xs().min(1),basePrice:Wg.number().min(1),maxGuests:Wg.number().min(1),startDate:Xs().min(1),endDate:Xs().min(1),images:s0(Xs()).optional()})),n=ao(),s=wr(),r=n.params.id,i=Z(null);bt(async()=>{const I=ds(rn,"hotels",r),V=await oa(I);V.exists()&&(i.value=V.data())});const{handleSubmit:o,defineField:a,values:u,setFieldValue:c,resetForm:d}=nS({validationSchema:e,initialValues:{maxGuests:1,startDate:"",endDate:"",images:[]}}),[h]=a("accommodationType"),[g]=a("basePrice"),[v]=a("maxGuests"),y=Dc(),[w]=a("startDate"),[E]=a("endDate"),[T]=a("images"),C=async I=>{var N;const V=I.target.files;if(!V||V.length===0)return;let F=0;(N=i.value)!=null&&N.rooms&&(F=i.value.rooms.length);const k=V[0],P=`hotels/${r}/rooms/${F}/${Date.now()}-${k.name}`,A=Lc(y,P);try{await uv(A,k);const U=await cv(A),W=u.images||[];c("images",[...W,U]),en({title:"Photo is added!",description:"Link is saved to form"})}catch{en({title:"Error",description:"Photo is not downloaded",variant:"destructive"})}},x=o(async I=>{if(!I.startDate||!I.endDate){en({title:"Error",description:"Choose a date",variant:"destructive"});return}const V={accommodationType:I.accommodationType,basePrice:I.basePrice,maxGuests:I.maxGuests,startDate:I.startDate,endDate:I.endDate,images:I.images};try{await fc(ds(rn,"hotels",r),{rooms:sD(V)}),en({title:"success",description:"Room is added"}),d(),s.push({name:dE,params:{id:r}})}catch{en({title:"Error",description:"Data is not saved",variant:"destructive"})}});return(I,V)=>($(),ie("form",{onSubmit:V[0]||(V[0]=xs((...F)=>m(x)&&m(x)(...F),["prevent"])),class:"space-y-6 p-4"},[M(m(ts),{name:"accommodationType"},{default:O(({componentField:F})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>V[1]||(V[1]=[ae("Type accomodation")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"Single / Deluxe"},F),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"basePrice"},{default:O(({componentField:F})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>V[2]||(V[2]=[ae("Price per night")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({type:"number",placeholder:"300"},F),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"maxGuests"},{default:O(({componentField:F})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>V[3]||(V[3]=[ae("Max guests")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({type:"number",placeholder:"2"},F),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"startDate"},{default:O(({componentField:F})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>V[4]||(V[4]=[ae("From")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({type:"date"},F),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"endDate"},{default:O(({componentField:F})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>V[5]||(V[5]=[ae("To")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({type:"date"},F),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),z("div",null,[V[6]||(V[6]=z("label",{class:"block text-sm font-medium mb-1"},"Photo of room",-1)),z("input",{type:"file",accept:"image/*",onChange:C},null,32),z("div",Pre,[($(!0),ie(Ke,null,jt(m(u).images,(F,k)=>($(),ie("img",{key:k,src:F,class:"w-full h-32 object-cover rounded-md border"},null,8,kre))),128))])]),M(m(Zt),{type:"submit"},{default:O(()=>V[7]||(V[7]=[ae("Add a room")])),_:1})],32))}}),pV=K({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=lE(n,"modelValue",e,{passive:!0,defaultValue:n.defaultValue});return(i,o)=>Kr(($(),ie("textarea",{"onUpdate:modelValue":o[0]||(o[0]=a=>Dt(r)?r.value=a:null),class:vt(m(Fe)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[Bo,m(r)]])}}),Lre={class:"grid grid-cols-2 gap-4"},Dre={class:"flex items-center gap-2"},Mre={class:"grid grid-cols-2 gap-2"},Nre=["onChange"],Vre={class:"grid grid-cols-2 gap-4 mt-2"},Fre=["src"],$re=K({__name:"FormHotel",setup(t){const e=wr(),n=oS(iS({name:Xs().min(2),type:Xs().min(2),description:Xs().optional(),email:Xs().email(),phone:Xs().min(6),address:Xs().optional(),amenities:s0(Xs()).optional(),lat:Xs().optional(),lng:Xs().optional(),images:s0(Xs()).optional(),freeCancellationUpto24h:Sre().optional(),rating:Wg.number().min(0).max(5).optional(),numberOfReviews:Wg.number().min(0).optional()}));function s(k){return Object.fromEntries(Object.entries(k).filter(([,P])=>P!==void 0))}const{handleSubmit:r,defineField:i,values:o,setFieldValue:a,resetForm:u}=nS({validationSchema:n,initialValues:{images:[],freeCancellationUpto24h:!1,amenities:[]}}),c=["Free Wi-Fi","Free breakfast","Free parking","24hr front desk","Swimming pool","Air conditioning","Fitness center","Room service","Tea/Coffee maker","Restaurant","Bar","Spa","Non-smoking rooms","Pet friendly","Paid breakfast","Paid parking","Business center","Child friendly","Laundry"],[d]=i("name"),[h]=i("type"),[g]=i("description"),[v]=i("email"),[y]=i("phone"),[w]=i("address"),[E]=i("lat"),[T]=i("lng"),[C]=i("rating"),[x]=i("numberOfReviews"),I=Dc(),V=async k=>{const P=k.target.files;if(!P||P.length===0)return;const A=P[0],N=`hotel-images/${Date.now()}-${A.name}`,U=Lc(I,N);try{await uv(U,A);const W=await cv(U),q=o.images||[];a("images",[...q,W],!0),en({title:"Photo is added!",description:"Link is saved"})}catch{en({title:"Error",description:"Smth went wrong with photo",variant:"destructive"})}},F=r(async k=>{try{const P=s(k),A=await iv(tr(rn,"hotels"),{...P,createdAt:new Date,rooms:[]});en({title:"Good!",description:`Hotel saves with ID: ${A.id}`,variant:"default"}),u(),e.push(cE)}catch{en({title:"Error",description:"Smth went wrong. Try again",variant:"destructive",action:Ft(Qa,{altText:"Good"},{default:()=>"Close"})})}});return(k,P)=>($(),ie("form",{onSubmit:P[0]||(P[0]=xs((...A)=>m(F)&&m(F)(...A),["prevent"])),class:"space-y-6"},[M(m(ts),{name:"name"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[1]||(P[1]=[ae("Hotels name")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"Nap. Golden Hotel"},A),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"type"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[2]||(P[2]=[ae("Type")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"Hotel / Apartment"},A),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"description"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[3]||(P[3]=[ae("Description")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(pV),fe({placeholder:"  ..."},A),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"email"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[4]||(P[4]=[ae("Email")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"demo@hotel.com"},A),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"phone"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[5]||(P[5]=[ae("Phone number")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"+48 123 456 789"},A),null,16)]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),z("div",Lre,[M(m(ts),{name:"address"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[6]||(P[6]=[ae("Address")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"Lirowa 42, Warszawa, 02-641"},A),null,16)]),_:2},1024)]),_:2},1024)]),_:1}),M(m(ts),{name:"lat"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[7]||(P[7]=[ae("Lat")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"52.2297"},A),null,16)]),_:2},1024)]),_:2},1024)]),_:1}),M(m(ts),{name:"lng"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[8]||(P[8]=[ae("Lng")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({placeholder:"21.0122"},A),null,16)]),_:2},1024)]),_:2},1024)]),_:1})]),M(m(ts),{name:"freeCancellationUpto24h",type:"checkbox"},{default:O(({field:A})=>[M(m(us),null,{default:O(()=>[M(m(ls),null,{default:O(()=>[z("div",Dre,[M(m(gh),fe(A,{checked:A.checked,"onUpdate:checked":N=>A.checked=N}),null,16,["checked","onUpdate:checked"]),P[9]||(P[9]=z("span",{class:"text-sm"},"Free Cancellation Up to 24h",-1))])]),_:2},1024),M(m(ur))]),_:2},1024)]),_:1}),M(m(ts),{name:"rating"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[10]||(P[10]=[ae("Rating")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({type:"number",placeholder:"4.5",step:"0.1"},A),null,16)]),_:2},1024)]),_:2},1024)]),_:1}),M(m(ts),{name:"numberOfReviews"},{default:O(({componentField:A})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[11]||(P[11]=[ae("Reviews")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(wn),fe({type:"number",placeholder:"0"},A),null,16)]),_:2},1024)]),_:2},1024)]),_:1}),M(m(ts),{name:"amenities"},{default:O(()=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>P[12]||(P[12]=[ae("Amenities")])),_:1}),M(m(ls),null,{default:O(()=>[z("div",Mre,[($(),ie(Ke,null,jt(c,A=>z("label",{key:A,class:"flex items-center gap-2 text-sm"},[M(m(ts),{name:"amenities",type:"checkbox",value:A},{default:O(({field:N,handleChange:U})=>[z("input",fe({type:"checkbox",ref_for:!0},N,{onChange:U}),null,16,Nre)]),_:2},1032,["value"]),z("span",null,Ie(A),1)])),64))])]),_:1}),M(m(ur),{name:"amenities"})]),_:1})]),_:1}),z("div",null,[P[13]||(P[13]=z("label",{class:"block text-sm font-medium mb-1"},"Hotels photo",-1)),z("input",{type:"file",accept:"image/*",onChange:V},null,32),z("div",Vre,[($(!0),ie(Ke,null,jt(m(o).images,(A,N)=>($(),ie("img",{key:N,src:A,class:"w-full h-32 object-cover rounded-md border"},null,8,Fre))),128))])]),M(m(Zt),{type:"submit"},{default:O(()=>P[14]||(P[14]=[ae("Save a hotel")])),_:1})],32))}}),Bre={class:"p-6"},Ure=K({__name:"AddHotel",setup(t){return(e,n)=>($(),ie("div",Bre,[n[0]||(n[0]=z("h1",{class:"text-xl font-bold mb-4"},"Add Hotel",-1)),M($re)]))}}),zre=K({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,s=e,r=Q(()=>{const{class:o,...a}=n;return a}),i=as(r,s);return(o,a)=>($(),Y(m(i6),fe({class:m(Fe)("relative flex w-full touch-none select-none items-center data-[orientation=vertical]:flex-col data-[orientation=vertical]:w-1.5 data-[orientation=vertical]:h-full",n.class)},m(i)),{default:O(()=>[M(m(u6),{class:"relative h-1.5 w-full data-[orientation=vertical]:w-1.5 grow overflow-hidden rounded-full bg-primary/20"},{default:O(()=>[M(m(o6),{class:"absolute h-full data-[orientation=vertical]:w-full bg-primary"})]),_:1}),($(!0),ie(Ke,null,jt(o.modelValue,(u,c)=>($(),Y(m(l6),{key:c,class:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}))),128))]),_:1},16,["class"]))}}),jre={class:"w-full md:w-64 space-y-6"},Hre={class:"flex justify-between text-sm text-gray-600 mb-1"},qre={class:"flex gap-2 flex-wrap"},Wre={class:"space-y-1 text-sm"},Gre=K({__name:"HotelFilters",setup(t){const e=pu(),{filters:n,allAmenities:s}=aO(e),r=Q({get:()=>n.value.freeCancellation,set:i=>{n.value.freeCancellation=i}});return(i,o)=>($(),ie("aside",jre,[z("div",null,[o[3]||(o[3]=z("p",{class:"font-semibold mb-2"},"Price",-1)),z("div",Hre,[o[2]||(o[2]=z("span",null,"$0",-1)),z("span",null,"$"+Ie(m(n).priceRange[0]),1)]),M(m(zre),{modelValue:m(n).priceRange,"onUpdate:modelValue":o[0]||(o[0]=a=>m(n).priceRange=a),max:5e3,step:200,class:"w-full"},null,8,["modelValue"])]),z("div",null,[o[4]||(o[4]=z("p",{class:"font-semibold mb-2"},"Rating",-1)),z("div",qre,[($(),ie(Ke,null,jt([0,1,2,3,4],a=>M(Zt,{key:a,class:"border px-3 py-1 rounded",variant:a===m(n).ratingMin?"default":"outline",onClick:u=>m(e).setRatingMin(a)},{default:O(()=>[ae(Ie(a)+"+ ",1)]),_:2},1032,["variant","onClick"])),64))])]),z("div",null,[o[6]||(o[6]=z("p",{class:"font-semibold mb-2"},"Amenities",-1)),z("div",Wre,[($(!0),ie(Ke,null,jt(m(s),a=>($(),Y(ns,{key:a,class:"flex items-center gap-2"},{default:O(()=>[M(gh,{modelValue:m(n).amenities.includes(a),"onUpdate:modelValue":u=>m(e).toggleAmenity(a)},null,8,["modelValue","onUpdate:modelValue"]),ae(" "+Ie(a),1)]),_:2},1024))),128)),M(ns,{class:"flex items-center gap-2 mt-2"},{default:O(()=>[M(gh,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value=a)},null,8,["modelValue"]),o[5]||(o[5]=ae(" Free Cancellation "))]),_:1})])])]))}}),Kre={class:"heart-container",title:"Like"},Zre=["checked"],Yre={class:"svg-container"},Qre={key:0,viewBox:"0 0 24 24",class:"svg-outline",xmlns:"http://www.w3.org/2000/svg"},Xre={key:1,viewBox:"0 0 24 24",class:"svg-filled",xmlns:"http://www.w3.org/2000/svg"},Jre={key:2,class:"svg-celebrate",width:"100",height:"100",xmlns:"http://www.w3.org/2000/svg"},eie=K({__name:"HeartButton",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e;function s(r){const i=r.target;n("update:modelValue",i.checked)}return(r,i)=>($(),ie("div",Kre,[z("input",{type:"checkbox",class:"checkbox",checked:r.modelValue,onChange:s},null,40,Zre),z("div",Yre,[r.modelValue?($(),ie("svg",Xre,i[1]||(i[1]=[z("path",{d:"M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Z"},null,-1)]))):($(),ie("svg",Qre,i[0]||(i[0]=[z("path",{d:"M17.5,1.917a6.4,6.4,0,0,0-5.5,3.3,6.4,6.4,0,0,0-5.5-3.3A6.8,6.8,0,0,0,0,8.967c0,4.547,4.786,9.513,8.8,12.88a4.974,4.974,0,0,0,6.4,0C19.214,18.48,24,13.514,24,8.967A6.8,6.8,0,0,0,17.5,1.917Zm-3.585,18.4a2.973,2.973,0,0,1-3.83,0C4.947,16.006,2,11.87,2,8.967a4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,11,8.967a1,1,0,0,0,2,0,4.8,4.8,0,0,1,4.5-5.05A4.8,4.8,0,0,1,22,8.967C22,11.87,19.053,16.006,13.915,20.313Z"},null,-1)]))),r.modelValue?($(),ie("svg",Jre,i[2]||(i[2]=[Um('<polygon points="10,10 20,20" data-v-d2f76798></polygon><polygon points="10,50 20,50" data-v-d2f76798></polygon><polygon points="20,80 30,70" data-v-d2f76798></polygon><polygon points="90,10 80,20" data-v-d2f76798></polygon><polygon points="90,50 80,50" data-v-d2f76798></polygon><polygon points="80,80 70,70" data-v-d2f76798></polygon>',6)]))):Ht("",!0)])]))}}),tie=uE(eie,[["__scopeId","data-v-d2f76798"]]),nie={class:"border rounded-xl overflow-hidden shadow-sm flex flex-col md:flex-row"},sie={class:"relative w-full md:w-1/3 h-64 md:h-auto bg-gray-200 flex items-center justify-center"},rie=["src"],iie={class:"p-4 flex-1 flex flex-col justify-between"},oie={class:"text-lg font-semibold"},aie={class:"text-sm text-gray-500"},lie={class:"text-sm mt-1"},uie={class:"text-sm mt-1 font-medium text-gray-600"},cie={class:"font-semibold"},die={class:"mt-4 flex justify-between items-center"},fie={class:"text-right"},hie={class:"text-blue-600 font-semibold text-lg"},mV=K({__name:"HotelCard",props:{hotel:{type:Object,required:!0},location:{type:String,required:!1,default:"all"}},setup(t){const e=t,n=Z(!0),s=Q(()=>{const u=e.hotel.rooms||[];return u.length>0?Math.max(...u.map(c=>c.maxGuests)):0}),r=wT(),i=ho(),o=Q(()=>r.favorites.includes(e.hotel.id));function a(u){i.user&&i.user.uid?r.toggleFavorite(i.user.uid,e.hotel.id):Th.push({name:Bl})}return(u,c)=>{var h,g;const d=Xr("Spinner");return $(),ie("div",nie,[z("div",sie,[n.value?($(),Y(d,{key:0,class:"h-8 w-8 text-gray-500"})):Ht("",!0),Kr(z("img",{src:((h=t.hotel.images)==null?void 0:h[0])||"/fallback.jpg",class:"w-full h-full object-cover",onLoad:c[0]||(c[0]=v=>n.value=!1),onError:c[1]||(c[1]=v=>n.value=!1),alt:"Hotel image"},null,40,rie),[[D$,!n.value]])]),z("div",iie,[z("div",null,[z("h3",oie,Ie(t.hotel.name),1),z("p",aie,"Address: "+Ie(t.hotel.address),1),z("p",lie,"  "+Ie(t.hotel.rating)+" Star Hotel  "+Ie(((g=t.hotel.images)==null?void 0:g.length)||0)+"+ Images ",1),z("p",uie,[z("span",cie,Ie(t.hotel.numberOfReviews),1),c[3]||(c[3]=ae(" reviews ")),z("span",null," max "+Ie(s.value)+" guests / room ",1)])]),z("div",die,[z("button",{onClick:c[2]||(c[2]=v=>m(i).user?m(r).toggleFavorite(m(i).user.uid,t.hotel.id):u.$router.push({name:m(Bl)})),class:"p-2 text-gray-500 hover:text-black"},[M(tie,{modelValue:o.value,"onUpdate:modelValue":a},null,8,["modelValue"])]),z("div",fie,[c[5]||(c[5]=z("p",{class:"text-sm text-gray-500"},"starting from",-1)),z("p",hie," z "+Ie(t.hotel.fromPrice)+"/night ",1),M(m(p_),{to:{name:m(Qk),params:{id:t.hotel.id}},class:"mt-2 inline-block px-4 py-1 border rounded bg-blue-600 text-white hover:bg-blue-700 transition"},{default:O(()=>c[4]||(c[4]=[ae(" View Place ")])),_:1},8,["to"])])])])])}}}),pie={class:"space-y-6 mb-5"},mie={__name:"HotelList",props:{hotels:{type:Array,required:!0}},setup(t){return(e,n)=>($(),ie("div",pie,[($(!0),ie(Ke,null,jt(t.hotels,s=>($(),Y(mV,{key:s.id,hotel:s},null,8,["hotel"]))),128))]))}},gie={class:"w-full max-w-7xl mx-auto px-4"},_ie={class:"relative z-10 flex justify-center"},vie={class:"bg-white rounded-lg shadow-lg px-6 py-6 w-full max-w-5xl mb-10"},yie={class:"flex flex-col md:flex-row gap-6 mb-10"},wie={class:"flex-1"},bie={class:"text-sm text-gray-500 mb-5"},Eie={key:0,class:"flex justify-center py-16"},Tie={__name:"SearchResult",setup(t){const e=pu(),n=ao();Z("");const{filteredHotels:s}=aO(e);return Z(0),ct(()=>n.params.location,r=>{r?e.setLocationSearch(decodeURIComponent(String(r)).toLowerCase()):e.setLocationSearch("")},{immediate:!0}),bt(()=>{e.loadHotels()}),(r,i)=>{const o=Xr("Spinner");return $(),ie("div",gie,[z("div",_ie,[z("div",vie,[M(oM)])]),z("div",yie,[M(Gre),z("div",wie,[z("p",bie," Showing "+Ie(m(s).length)+" results ",1),m(e).loading?($(),ie("div",Eie,[M(o,{class:"h-12 w-12"})])):($(),Y(mie,{key:1,hotels:m(s)},null,8,["hotels"]))])])])}}},lR=(t,e)=>{for(const n of Object.keys(e))t.on(n,e[n])},gV=t=>{for(const e of Object.keys(t)){const n=t[e];n&&Ca(n.cancel)&&n.cancel()}},Sie=t=>!t||typeof t.charAt!="function"?t:t.charAt(0).toUpperCase()+t.slice(1),Ca=t=>typeof t=="function",vu=(t,e,n)=>{for(const s in n){const r="set"+Sie(s);t[r]?ct(()=>n[s],(i,o)=>{t[r](i,o)}):e[r]&&ct(()=>n[s],i=>{e[r](i)})}},yu=(t,e,n={})=>{const s={...n};for(const r in t){const i=e[r],o=t[r];i&&(i&&i.custom===!0||o!==void 0&&(s[r]=o))}return s},ud=t=>{const e={},n={};for(const s in t)if(s.startsWith("on")&&!s.startsWith("onUpdate")&&s!=="onReady"){const r=s.slice(2).toLocaleLowerCase();e[r]=t[s]}else n[s]=t[s];return{listeners:e,attrs:n}},Cie=async t=>{const e=await Promise.all([Yr(()=>import("./marker-icon-2x-D4k_ikNW.js"),[]),Yr(()=>import("./marker-icon-C2eJqgqv.js"),[]),Yr(()=>import("./marker-shadow-DU6CIJ0p.js"),[])]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})},cm=t=>{const e=Z((...s)=>console.warn(`Method ${t} has been invoked without being replaced`)),n=(...s)=>e.value(...s);return n.wrapped=e,rs(t,n),n},dm=(t,e)=>t.wrapped.value=e,Wo=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,yi=t=>{const e=ln(t);if(e===void 0)throw new Error(`Attempt to inject ${t.description} before it was provided.`);return e},wu=Symbol("useGlobalLeaflet"),Qh=Symbol("addLayer"),_V=Symbol("removeLayer"),vV=Symbol("registerControl"),xie=Symbol("registerLayerControl"),yV=Symbol("canSetParentHtml"),wV=Symbol("setParentHtml"),bV=Symbol("setIcon"),EV=Symbol("bindPopup"),Iie=Symbol("bindTooltip"),TV=Symbol("unbindPopup"),Aie=Symbol("unbindTooltip"),Xh={options:{type:Object,default:()=>({}),custom:!0}},Jh=t=>({options:t.options,methods:{}}),cd={...Xh,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},SV=(t,e,n)=>{const s=yi(Qh),r=yi(_V),{options:i,methods:o}=Jh(t),a=yu(t,cd,i),u=()=>s({leafletObject:e.value}),c=()=>r({leafletObject:e.value}),d={...o,setAttribution(h){c(),e.value.options.attribution=h,t.visible&&u()},setName(){c(),t.visible&&u()},setLayerType(){c(),t.visible&&u()},setVisible(h){e.value&&(h?u():c())},bindPopup(h){if(!e.value||!Ca(e.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}e.value.bindPopup(h)},bindTooltip(h){if(!e.value||!Ca(e.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}e.value.bindTooltip(h)},unbindTooltip(){e.value&&(Ca(e.value.closeTooltip)&&e.value.closeTooltip(),Ca(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(Ca(e.value.closePopup)&&e.value.closePopup(),Ca(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(h){n.emit("update:visible",h)}};return rs(EV,d.bindPopup),rs(Iie,d.bindTooltip),rs(TV,d.unbindPopup),rs(Aie,d.unbindTooltip),Is(()=>{d.unbindPopup(),d.unbindTooltip(),c()}),{options:a,methods:d}},Rie=(t,e)=>{if(t&&e.default)return Ft("div",{style:{display:"none"}},e.default())},Pie={...cd,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},CV={...Pie,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},kie={...CV,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...kie});const dd={...Xh,position:{type:String}},Oie=(t,e)=>{const{options:n,methods:s}=Jh(t),r=yu(t,dd,n),i={...s,setPosition(o){e.value&&e.value.setPosition(o)}};return Is(()=>{e.value&&e.value.remove()}),{options:r,methods:i}},Lie=t=>t.default?Ft("div",{ref:"root"},t.default()):null;({...dd});({...dd});({...dd});({...dd});({...dd});const xV={...cd};({...xV});({...xV});const aS={...cd,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},IV=(t,e,n)=>{const{options:s,methods:r}=SV(t,e,n),i=yu(t,aS,s),o={...r,setTileComponent(){var a;(a=e.value)==null||a.redraw()}};return Is(()=>{e.value.off()}),{options:i,methods:o}},Die=(t,e,n,s)=>t.extend({initialize(r){this.tileComponents={},this.on("tileunload",this._unloadTile),n.setOptions(this,r)},createTile(r){const i=this._tileCoordsToKey(r);this.tileComponents[i]=e.create("div");const o=Ft({setup:s,props:["coords"]},{coords:r});return eB(o,this.tileComponents[i]),this.tileComponents[i]},_unloadTile(r){const i=this._tileCoordsToKey(r.coords);this.tileComponents[i]&&(this.tileComponents[i].innerHTML="",this.tileComponents[i]=void 0)}});({...aS});const uR={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};({...uR,...Xh});({...cd});function AV(t,e,n){var s,r,i;e===void 0&&(e=50),n===void 0&&(n={});var o=(s=n.isImmediate)!=null&&s,a=(r=n.callback)!=null&&r,u=n.maxWait,c=Date.now(),d=[];function h(){if(u!==void 0){var v=Date.now()-c;if(v+e>=u)return u-v}return e}var g=function(){var v=[].slice.call(arguments),y=this;return new Promise(function(w,E){var T=o&&i===void 0;if(i!==void 0&&clearTimeout(i),i=setTimeout(function(){if(i=void 0,c=Date.now(),!o){var x=t.apply(y,v);a&&a(x),d.forEach(function(I){return(0,I.resolve)(x)}),d=[]}},h()),T){var C=t.apply(y,v);return a&&a(C),w(C)}d.push({resolve:w,reject:E})})};return g.cancel=function(v){i!==void 0&&clearTimeout(i),d.forEach(function(y){return(0,y.reject)(v)}),d=[]},g}const cR={...Xh,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},Mie=K({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:cR,setup(t,e){const n=Z(),s=vr({ready:!1,layersToAdd:[],layersInControl:[]}),{options:r}=Jh(t),i=yu(t,cR,r),{listeners:o,attrs:a}=ud(e.attrs),u=cm(Qh),c=cm(_V),d=cm(vV),h=cm(xie);rs(wu,t.useGlobalLeaflet);const g=Q(()=>{const T={};return t.noBlockingAnimations&&(T.animate=!1),T}),v=Q(()=>{const T=g.value;return t.padding&&(T.padding=t.padding),t.paddingTopLeft&&(T.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(T.paddingBottomRight=t.paddingBottomRight),T}),y={moveend:AV(T=>{s.leafletRef&&(e.emit("update:zoom",s.leafletRef.getZoom()),e.emit("update:center",s.leafletRef.getCenter()),e.emit("update:bounds",s.leafletRef.getBounds()))}),overlayadd(T){const C=s.layersInControl.find(x=>x.name===T.name);C&&C.updateVisibleProp(!0)},overlayremove(T){const C=s.layersInControl.find(x=>x.name===T.name);C&&C.updateVisibleProp(!1)}};bt(async()=>{t.useGlobalLeaflet&&(Wo.L=Wo.L||await Yr(()=>Promise.resolve().then(()=>Jie),void 0));const{map:T,CRS:C,Icon:x,latLngBounds:I,latLng:V,stamp:F}=t.useGlobalLeaflet?Wo.L:await Yr(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{i.beforeMapMount&&await i.beforeMapMount()}catch(A){console.error(`The following error occurred running the provided beforeMapMount hook ${A.message}`)}await Cie(x);const k=typeof i.crs=="string"?C[i.crs]:i.crs;i.crs=k||C.EPSG3857;const P={addLayer(A){A.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd.push(A):s.layersInControl.find(N=>F(N.leafletObject)===F(A.leafletObject))||(s.layerControl.addLayer(A),s.layersInControl.push(A))),A.visible!==!1&&s.leafletRef.addLayer(A.leafletObject)},removeLayer(A){A.layerType!==void 0&&(s.layerControl===void 0?s.layersToAdd=s.layersToAdd.filter(N=>N.name!==A.name):(s.layerControl.removeLayer(A.leafletObject),s.layersInControl=s.layersInControl.filter(N=>F(N.leafletObject)!==F(A.leafletObject)))),s.leafletRef.removeLayer(A.leafletObject)},registerLayerControl(A){s.layerControl=A,s.layersToAdd.forEach(N=>{s.layerControl.addLayer(N)}),s.layersToAdd=[],d(A)},registerControl(A){s.leafletRef.addControl(A.leafletObject)},setZoom(A){const N=s.leafletRef.getZoom();A!==N&&s.leafletRef.setZoom(A,g.value)},setCrs(A){const N=s.leafletRef.getBounds();s.leafletRef.options.crs=A,s.leafletRef.fitBounds(N,{animate:!1,padding:[0,0]})},fitBounds(A){s.leafletRef.fitBounds(A,v.value)},setBounds(A){if(!A)return;const N=I(A);N.isValid()&&!(s.lastSetBounds||s.leafletRef.getBounds()).equals(N,0)&&(s.lastSetBounds=N,s.leafletRef.fitBounds(N))},setCenter(A){if(A==null)return;const N=V(A),U=s.lastSetCenter||s.leafletRef.getCenter();(U.lat!==N.lat||U.lng!==N.lng)&&(s.lastSetCenter=N,s.leafletRef.panTo(N,g.value))}};dm(u,P.addLayer),dm(c,P.removeLayer),dm(d,P.registerControl),dm(h,P.registerLayerControl),s.leafletRef=oo(T(n.value,i)),vu(P,s.leafletRef,t),lR(s.leafletRef,y),lR(s.leafletRef,o),s.ready=!0,Pt(()=>e.emit("ready",s.leafletRef))}),ra(()=>{gV(y),s.leafletRef&&(s.leafletRef.off(),s.leafletRef.remove())});const w=Q(()=>s.leafletRef),E=Q(()=>s.ready);return{root:n,ready:E,leafletObject:w,attrs:a}},render({attrs:t}){return t.style||(t.style={}),t.style.width||(t.style.width="100%"),t.style.height||(t.style.height="100%"),Ft("div",{...t,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),Nie=["Symbol(Comment)","Symbol(Text)"],Vie=["LTooltip","LPopup"],RV={...cd,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},Fie=(t,e,n)=>{const{options:s,methods:r}=SV(t,e,n),i=yu(t,RV,s),o={...r,setDraggable(a){e.value.dragging&&(a?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(a){n.emit("update:latLng",a.latlng),n.emit("update:lat-lng",a.latlng)},setLatLng(a){if(a!=null&&e.value){const u=e.value.getLatLng();(!u||!u.equals(a))&&e.value.setLatLng(a)}}};return{options:i,methods:o}},$ie=(t,e)=>{const n=e.slots.default&&e.slots.default();return n&&n.length&&n.some(Bie)};function Bie(t){return!(Nie.includes(t.type.toString())||Vie.includes(t.type.name))}const Uie=K({name:"LMarker",props:RV,setup(t,e){const n=Z(),s=Z(!1),r=ln(wu),i=yi(Qh);rs(yV,()=>{var c;return!!((c=n.value)!=null&&c.getElement())}),rs(wV,c=>{var d,h;const g=Ca((d=n.value)==null?void 0:d.getElement)&&((h=n.value)==null?void 0:h.getElement());g&&(g.innerHTML=c)}),rs(bV,c=>{var d;return((d=n.value)==null?void 0:d.setIcon)&&n.value.setIcon(c)});const{options:o,methods:a}=Fie(t,n,e),u={moveHandler:AV(a.latLngSync)};return bt(async()=>{const{marker:c,divIcon:d}=r?Wo.L:await Yr(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);$ie(o,e)&&(o.icon=d({className:""})),n.value=oo(c(t.latLng,o));const{listeners:h}=ud(e.attrs);n.value.on(h),n.value.on("move",u.moveHandler),vu(a,n.value,t),i({...t,...a,leafletObject:n.value}),s.value=!0,Pt(()=>e.emit("ready",n.value))}),ra(()=>gV(u)),{ready:s,leafletObject:n}},render(){return Rie(this.ready,this.$slots)}}),zie={...CV,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},dR={...zie},PV={...Xh,content:{type:String,default:null}},jie=(t,e)=>{const{options:n,methods:s}=Jh(t),r={...s,setContent(i){e.value&&i!==null&&i!==void 0&&e.value.setContent(i)}};return{options:n,methods:r}},Hie=t=>t.default?Ft("div",{ref:"root"},t.default()):null,qie={...PV,latLng:{type:[Object,Array],default:()=>[]}},Wie=(t,e)=>{const{options:n,methods:s}=jie(t,e);return{options:n,methods:s}},Gie=K({name:"LPopup",props:qie,setup(t,e){const n=Z(),s=Z(null),r=ln(wu),i=yi(EV),o=yi(TV),{options:a,methods:u}=Wie(t,n);return bt(async()=>{const{popup:c}=r?Wo.L:await Yr(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);n.value=oo(c(a)),t.latLng!==void 0&&n.value.setLatLng(t.latLng),vu(u,n.value,t);const{listeners:d}=ud(e.attrs);n.value.on(d),n.value.setContent(t.content||s.value||""),i(n.value),Pt(()=>e.emit("ready",n.value))}),ra(()=>{o()}),{root:s,leafletObject:n}},render(){return Hie(this.$slots)}});({...dR,latLngs:{...dR.latLngs}});const lS={...aS,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>typeof t=="string"?!0:Array.isArray(t)?t.every(e=>typeof e=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},Kie=(t,e,n)=>{const{options:s,methods:r}=IV(t,e,n),i=yu(t,lS,s),o={...r};return{options:i,methods:o}},Zie=K({props:lS,setup(t,e){const n=Z(),s=ln(wu),r=yi(Qh),{options:i,methods:o}=Kie(t,n,e);return bt(async()=>{const{tileLayer:a}=s?Wo.L:await Yr(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);n.value=oo(a(t.url,i));const{listeners:u}=ud(e.attrs);n.value.on(u),vu(o,n.value,t),r({...t,...o,leafletObject:n.value}),Pt(()=>e.emit("ready",n.value))}),{leafletObject:n}},render(){return null}});({...PV});({...lS});function Yie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Qie=vf.exports,fR;function Xie(){return fR||(fR=1,function(t,e){(function(n,s){s(e)})(Qie,function(n){var s="1.9.4";function r(l){var f,_,b,R;for(_=1,b=arguments.length;_<b;_++){R=arguments[_];for(f in R)l[f]=R[f]}return l}var i=Object.create||function(){function l(){}return function(f){return l.prototype=f,new l}}();function o(l,f){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var b=_.call(arguments,2);return function(){return l.apply(f,b.length?b.concat(_.call(arguments)):arguments)}}var a=0;function u(l){return"_leaflet_id"in l||(l._leaflet_id=++a),l._leaflet_id}function c(l,f,_){var b,R,B,X;return X=function(){b=!1,R&&(B.apply(_,R),R=!1)},B=function(){b?R=arguments:(l.apply(_,arguments),setTimeout(X,f),b=!0)},B}function d(l,f,_){var b=f[1],R=f[0],B=b-R;return l===b&&_?l:((l-R)%B+B)%B+R}function h(){return!1}function g(l,f){if(f===!1)return l;var _=Math.pow(10,f===void 0?6:f);return Math.round(l*_)/_}function v(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function y(l){return v(l).split(/\s+/)}function w(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?i(l.options):{});for(var _ in f)l.options[_]=f[_];return l.options}function E(l,f,_){var b=[];for(var R in l)b.push(encodeURIComponent(_?R.toUpperCase():R)+"="+encodeURIComponent(l[R]));return(!f||f.indexOf("?")===-1?"?":"&")+b.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function C(l,f){return l.replace(T,function(_,b){var R=f[b];if(R===void 0)throw new Error("No value provided for variable "+_);return typeof R=="function"&&(R=R(f)),R})}var x=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function I(l,f){for(var _=0;_<l.length;_++)if(l[_]===f)return _;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var k=0;function P(l){var f=+new Date,_=Math.max(0,16-(f-k));return k=f+_,window.setTimeout(l,_)}var A=window.requestAnimationFrame||F("RequestAnimationFrame")||P,N=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function U(l,f,_){if(_&&A===P)l.call(f);else return A.call(window,o(l,f))}function W(l){l&&N.call(window,l)}var q={__proto__:null,extend:r,create:i,bind:o,get lastId(){return a},stamp:u,throttle:c,wrapNum:d,falseFn:h,formatNum:g,trim:v,splitWords:y,setOptions:w,getParamString:E,template:C,isArray:x,indexOf:I,emptyImageUrl:V,requestFn:A,cancelFn:N,requestAnimFrame:U,cancelAnimFrame:W};function Pe(){}Pe.extend=function(l){var f=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=f.__super__=this.prototype,b=i(_);b.constructor=f,f.prototype=b;for(var R in this)Object.prototype.hasOwnProperty.call(this,R)&&R!=="prototype"&&R!=="__super__"&&(f[R]=this[R]);return l.statics&&r(f,l.statics),l.includes&&(Be(l.includes),r.apply(null,[b].concat(l.includes))),r(b,l),delete b.statics,delete b.includes,b.options&&(b.options=_.options?i(_.options):{},r(b.options,l.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,X=b._initHooks.length;B<X;B++)b._initHooks[B].call(this)}},f},Pe.include=function(l){var f=this.prototype.options;return r(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},Pe.mergeOptions=function(l){return r(this.prototype.options,l),this},Pe.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function Be(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=x(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(l,f,_){if(typeof l=="object")for(var b in l)this._on(b,l[b],f);else{l=y(l);for(var R=0,B=l.length;R<B;R++)this._on(l[R],f,_)}return this},off:function(l,f,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var b in l)this._off(b,l[b],f);else{l=y(l);for(var R=arguments.length===1,B=0,X=l.length;B<X;B++)R?this._off(l[B]):this._off(l[B],f,_)}return this},_on:function(l,f,_,b){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,_)===!1){_===this&&(_=void 0);var R={fn:f,ctx:_};b&&(R.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(R)}},_off:function(l,f,_){var b,R,B;if(this._events&&(b=this._events[l],!!b)){if(arguments.length===1){if(this._firingCount)for(R=0,B=b.length;R<B;R++)b[R].fn=h;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var X=this._listens(l,f,_);if(X!==!1){var oe=b[X];this._firingCount&&(oe.fn=h,this._events[l]=b=b.slice()),b.splice(X,1)}}},fire:function(l,f,_){if(!this.listens(l,_))return this;var b=r({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var R=this._events[l];if(R){this._firingCount=this._firingCount+1||1;for(var B=0,X=R.length;B<X;B++){var oe=R[B],le=oe.fn;oe.once&&this.off(l,le,oe.ctx),le.call(oe.ctx||this,b)}this._firingCount--}}return _&&this._propagateEvent(b),this},listens:function(l,f,_,b){typeof l!="string"&&console.warn('"string" type argument expected');var R=f;typeof f!="function"&&(b=!!f,R=void 0,_=void 0);var B=this._events&&this._events[l];if(B&&B.length&&this._listens(l,R,_)!==!1)return!0;if(b){for(var X in this._eventParents)if(this._eventParents[X].listens(l,f,_,b))return!0}return!1},_listens:function(l,f,_){if(!this._events)return!1;var b=this._events[l]||[];if(!f)return!!b.length;_===this&&(_=void 0);for(var R=0,B=b.length;R<B;R++)if(b[R].fn===f&&b[R].ctx===_)return R;return!1},once:function(l,f,_){if(typeof l=="object")for(var b in l)this._on(b,l[b],f,!0);else{l=y(l);for(var R=0,B=l.length;R<B;R++)this._on(l[R],f,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[u(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[u(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,r({layer:l.target,propagatedFrom:l.target},l),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var _e=Pe.extend(ye);function me(l,f,_){this.x=_?Math.round(l):l,this.y=_?Math.round(f):f}var nt=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};me.prototype={clone:function(){return new me(this.x,this.y)},add:function(l){return this.clone()._add(Ne(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(Ne(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new me(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new me(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(l){l=Ne(l);var f=l.x-this.x,_=l.y-this.y;return Math.sqrt(f*f+_*_)},equals:function(l){return l=Ne(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=Ne(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Ne(l,f,_){return l instanceof me?l:x(l)?new me(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new me(l.x,l.y):new me(l,f,_)}function ot(l,f){if(l)for(var _=f?[l,f]:l,b=0,R=_.length;b<R;b++)this.extend(_[b])}ot.prototype={extend:function(l){var f,_;if(!l)return this;if(l instanceof me||typeof l[0]=="number"||"x"in l)f=_=Ne(l);else if(l=lt(l),f=l.min,_=l.max,!f||!_)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=_.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return Ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return Ne(this.min.x,this.max.y)},getTopRight:function(){return Ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,_;return typeof l[0]=="number"||l instanceof me?l=Ne(l):l=lt(l),l instanceof ot?(f=l.min,_=l.max):f=_=l,f.x>=this.min.x&&_.x<=this.max.x&&f.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=lt(l);var f=this.min,_=this.max,b=l.min,R=l.max,B=R.x>=f.x&&b.x<=_.x,X=R.y>=f.y&&b.y<=_.y;return B&&X},overlaps:function(l){l=lt(l);var f=this.min,_=this.max,b=l.min,R=l.max,B=R.x>f.x&&b.x<_.x,X=R.y>f.y&&b.y<_.y;return B&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,_=this.max,b=Math.abs(f.x-_.x)*l,R=Math.abs(f.y-_.y)*l;return lt(Ne(f.x-b,f.y-R),Ne(_.x+b,_.y+R))},equals:function(l){return l?(l=lt(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function lt(l,f){return!l||l instanceof ot?l:new ot(l,f)}function pt(l,f){if(l)for(var _=f?[l,f]:l,b=0,R=_.length;b<R;b++)this.extend(_[b])}pt.prototype={extend:function(l){var f=this._southWest,_=this._northEast,b,R;if(l instanceof dt)b=l,R=l;else if(l instanceof pt){if(b=l._southWest,R=l._northEast,!b||!R)return this}else return l?this.extend(we(l)||Ye(l)):this;return!f&&!_?(this._southWest=new dt(b.lat,b.lng),this._northEast=new dt(R.lat,R.lng)):(f.lat=Math.min(b.lat,f.lat),f.lng=Math.min(b.lng,f.lng),_.lat=Math.max(R.lat,_.lat),_.lng=Math.max(R.lng,_.lng)),this},pad:function(l){var f=this._southWest,_=this._northEast,b=Math.abs(f.lat-_.lat)*l,R=Math.abs(f.lng-_.lng)*l;return new pt(new dt(f.lat-b,f.lng-R),new dt(_.lat+b,_.lng+R))},getCenter:function(){return new dt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new dt(this.getNorth(),this.getWest())},getSouthEast:function(){return new dt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof dt||"lat"in l?l=we(l):l=Ye(l);var f=this._southWest,_=this._northEast,b,R;return l instanceof pt?(b=l.getSouthWest(),R=l.getNorthEast()):b=R=l,b.lat>=f.lat&&R.lat<=_.lat&&b.lng>=f.lng&&R.lng<=_.lng},intersects:function(l){l=Ye(l);var f=this._southWest,_=this._northEast,b=l.getSouthWest(),R=l.getNorthEast(),B=R.lat>=f.lat&&b.lat<=_.lat,X=R.lng>=f.lng&&b.lng<=_.lng;return B&&X},overlaps:function(l){l=Ye(l);var f=this._southWest,_=this._northEast,b=l.getSouthWest(),R=l.getNorthEast(),B=R.lat>f.lat&&b.lat<_.lat,X=R.lng>f.lng&&b.lng<_.lng;return B&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=Ye(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ye(l,f){return l instanceof pt?l:new pt(l,f)}function dt(l,f,_){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,_!==void 0&&(this.alt=+_)}dt.prototype={equals:function(l,f){if(!l)return!1;l=we(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+g(this.lat,l)+", "+g(this.lng,l)+")"},distanceTo:function(l){return he.distance(this,we(l))},wrap:function(){return he.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,_=f/Math.cos(Math.PI/180*this.lat);return Ye([this.lat-f,this.lng-_],[this.lat+f,this.lng+_])},clone:function(){return new dt(this.lat,this.lng,this.alt)}};function we(l,f,_){return l instanceof dt?l:x(l)&&typeof l[0]!="object"?l.length===3?new dt(l[0],l[1],l[2]):l.length===2?new dt(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new dt(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new dt(l,f,_)}var ee={latLngToPoint:function(l,f){var _=this.projection.project(l),b=this.scale(f);return this.transformation._transform(_,b)},pointToLatLng:function(l,f){var _=this.scale(f),b=this.transformation.untransform(l,_);return this.projection.unproject(b)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,_=this.scale(l),b=this.transformation.transform(f.min,_),R=this.transformation.transform(f.max,_);return new ot(b,R)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?d(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?d(l.lat,this.wrapLat,!0):l.lat,b=l.alt;return new dt(_,f,b)},wrapLatLngBounds:function(l){var f=l.getCenter(),_=this.wrapLatLng(f),b=f.lat-_.lat,R=f.lng-_.lng;if(b===0&&R===0)return l;var B=l.getSouthWest(),X=l.getNorthEast(),oe=new dt(B.lat-b,B.lng-R),le=new dt(X.lat-b,X.lng-R);return new pt(oe,le)}},he=r({},ee,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var _=Math.PI/180,b=l.lat*_,R=f.lat*_,B=Math.sin((f.lat-l.lat)*_/2),X=Math.sin((f.lng-l.lng)*_/2),oe=B*B+Math.cos(b)*Math.cos(R)*X*X,le=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*le}}),ve=6378137,Re={R:ve,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,_=this.MAX_LATITUDE,b=Math.max(Math.min(_,l.lat),-_),R=Math.sin(b*f);return new me(this.R*l.lng*f,this.R*Math.log((1+R)/(1-R))/2)},unproject:function(l){var f=180/Math.PI;return new dt((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:function(){var l=ve*Math.PI;return new ot([-l,-l],[l,l])}()};function Ue(l,f,_,b){if(x(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=_,this._d=b}Ue.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new me((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function j(l,f,_,b){return new Ue(l,f,_,b)}var G=r({},he,{code:"EPSG:3857",projection:Re,transformation:function(){var l=.5/(Math.PI*Re.R);return j(l,.5,-l,.5)}()}),te=r({},G,{code:"EPSG:900913"});function ce(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function ge(l,f){var _="",b,R,B,X,oe,le;for(b=0,B=l.length;b<B;b++){for(oe=l[b],R=0,X=oe.length;R<X;R++)le=oe[R],_+=(R?"L":"M")+le.x+" "+le.y;_+=f?at.svg?"z":"x":""}return _||"M0 0"}var pe=document.documentElement.style,Le="ActiveXObject"in window,Ae=Le&&!document.addEventListener,xe="msLaunchUri"in navigator&&!("documentMode"in document),Se=Vr("webkit"),rt=Vr("android"),De=Vr("android 2")||Vr("android 3"),Qe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ft=rt&&Vr("Google")&&Qe<537&&!("AudioNode"in window),st=!!window.opera,yt=!xe&&Vr("chrome"),Nt=Vr("gecko")&&!Se&&!st&&!Le,Ln=!yt&&Vr("safari"),cn=Vr("phantom"),se="OTransition"in pe,ne=navigator.platform.indexOf("Win")===0,be=Le&&"transition"in pe,Ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!De,He="MozPerspective"in pe,ut=!window.L_DISABLE_3D&&(be||Ve||He)&&!se&&!cn,Je=typeof orientation<"u"||Vr("mobile"),an=Je&&Se,_n=Je&&Ve,Dn=!window.PointerEvent&&window.MSPointerEvent,Bt=!!(window.PointerEvent||Dn),xn="ontouchstart"in window||!!window.TouchEvent,Bn=!window.L_NO_TOUCH&&(xn||Bt),Mn=Je&&st,Er=Je&&Nt,Tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oi=function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",h,f),window.removeEventListener("testPassiveEventSupport",h,f)}catch{}return l}(),si=function(){return!!document.createElement("canvas").getContext}(),Li=!!(document.createElementNS&&ce("svg").createSVGRect),As=!!Li&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),sp=!Li&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),cl=navigator.platform.indexOf("Mac")===0,dl=navigator.platform.indexOf("Linux")===0;function Vr(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var at={ie:Le,ielt9:Ae,edge:xe,webkit:Se,android:rt,android23:De,androidStock:ft,opera:st,chrome:yt,gecko:Nt,safari:Ln,phantom:cn,opera12:se,win:ne,ie3d:be,webkit3d:Ve,gecko3d:He,any3d:ut,mobile:Je,mobileWebkit:an,mobileWebkit3d:_n,msPointer:Dn,pointer:Bt,touch:Bn,touchNative:xn,mobileOpera:Mn,mobileGecko:Er,retina:Tr,passiveEvents:Oi,canvas:si,svg:Li,vml:sp,inlineSvg:As,mac:cl,linux:dl},po=at.msPointer?"MSPointerDown":"pointerdown",rp=at.msPointer?"MSPointerMove":"pointermove",ip=at.msPointer?"MSPointerUp":"pointerup",fl=at.msPointer?"MSPointerCancel":"pointercancel",bu={touchstart:po,touchmove:rp,touchend:ip,touchcancel:fl},Eu={touchstart:Su,touchmove:Tu,touchend:Tu,touchcancel:Tu},ri={},ii=!1;function op(l,f,_){return f==="touchstart"&&lp(),Eu[f]?(_=Eu[f].bind(this,_),l.addEventListener(bu[f],_,!1),_):(console.warn("wrong event specified:",f),h)}function ap(l,f,_){if(!bu[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(bu[f],_,!1)}function pd(l){ri[l.pointerId]=l}function md(l){ri[l.pointerId]&&(ri[l.pointerId]=l)}function gd(l){delete ri[l.pointerId]}function lp(){ii||(document.addEventListener(po,pd,!0),document.addEventListener(rp,md,!0),document.addEventListener(ip,gd,!0),document.addEventListener(fl,gd,!0),ii=!0)}function Tu(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var _ in ri)f.touches.push(ri[_]);f.changedTouches=[f],l(f)}}function Su(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Un(f),Tu(l,f)}function up(l){var f={},_,b;for(b in l)_=l[b],f[b]=_&&_.bind?_.bind(l):_;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var _d=200;function hl(l,f){l.addEventListener("dblclick",f);var _=0,b;function R(B){if(B.detail!==1){b=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var X=Rd(B);if(!(X.some(function(le){return le instanceof HTMLLabelElement&&le.attributes.for})&&!X.some(function(le){return le instanceof HTMLInputElement||le instanceof HTMLSelectElement}))){var oe=Date.now();oe-_<=_d?(b++,b===2&&f(up(B))):b=1,_=oe}}}return l.addEventListener("click",R),{dblclick:f,simDblclick:R}}function mo(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var pl=_o(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ml=_o(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vd=ml==="webkitTransition"||ml==="OTransition"?ml+"End":"transitionend";function yd(l){return typeof l=="string"?document.getElementById(l):l}function aa(l,f){var _=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!_||_==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(l,null);_=b?b[f]:null}return _==="auto"?null:_}function Wt(l,f,_){var b=document.createElement(l);return b.className=f||"",_&&_.appendChild(b),b}function Tn(l){var f=l.parentNode;f&&f.removeChild(l)}function gl(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function go(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function la(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function wd(l,f){if(l.classList!==void 0)return l.classList.contains(f);var _=Fr(l);return _.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(_)}function Ot(l,f){if(l.classList!==void 0)for(var _=y(f),b=0,R=_.length;b<R;b++)l.classList.add(_[b]);else if(!wd(l,f)){var B=Fr(l);bd(l,(B?B+" ":"")+f)}}function Nn(l,f){l.classList!==void 0?l.classList.remove(f):bd(l,v((" "+Fr(l)+" ").replace(" "+f+" "," ")))}function bd(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function Fr(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Wn(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&Cu(l,f)}function Cu(l,f){var _=!1,b="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(b)}catch{if(f===1)return}f=Math.round(f*100),_?(_.Enabled=f!==100,_.Opacity=f):l.style.filter+=" progid:"+b+"(opacity="+f+")"}function _o(l){for(var f=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in f)return l[_];return!1}function Di(l,f,_){var b=f||new me(0,0);l.style[pl]=(at.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(_?" scale("+_+")":"")}function xt(l,f){l._leaflet_pos=f,at.any3d?Di(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function $r(l){return l._leaflet_pos||new me(0,0)}var oi,ai,Ed;if("onselectstart"in document)oi=function(){Et(window,"selectstart",Un)},ai=function(){vn(window,"selectstart",Un)};else{var ua=_o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oi=function(){if(ua){var l=document.documentElement.style;Ed=l[ua],l[ua]="none"}},ai=function(){ua&&(document.documentElement.style[ua]=Ed,Ed=void 0)}}function Td(){Et(window,"dragstart",Un)}function Sd(){vn(window,"dragstart",Un)}var xu,Cd;function vo(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Sr(),xu=l,Cd=l.style.outlineStyle,l.style.outlineStyle="none",Et(window,"keydown",Sr))}function Sr(){xu&&(xu.style.outlineStyle=Cd,xu=void 0,Cd=void 0,vn(window,"keydown",Sr))}function xd(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Iu(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var cp={__proto__:null,TRANSFORM:pl,TRANSITION:ml,TRANSITION_END:vd,get:yd,getStyle:aa,create:Wt,remove:Tn,empty:gl,toFront:go,toBack:la,hasClass:wd,addClass:Ot,removeClass:Nn,setClass:bd,getClass:Fr,setOpacity:Wn,testProp:_o,setTransform:Di,setPosition:xt,getPosition:$r,get disableTextSelection(){return oi},get enableTextSelection(){return ai},disableImageDrag:Td,enableImageDrag:Sd,preventOutline:vo,restoreOutline:Sr,getSizedParentNode:xd,getScale:Iu};function Et(l,f,_,b){if(f&&typeof f=="object")for(var R in f)Id(l,R,f[R],_);else{f=y(f);for(var B=0,X=f.length;B<X;B++)Id(l,f[B],_,b)}return this}var Br="_leaflet_events";function vn(l,f,_,b){if(arguments.length===1)dp(l),delete l[Br];else if(f&&typeof f=="object")for(var R in f)Ad(l,R,f[R],_);else if(f=y(f),arguments.length===2)dp(l,function(oe){return I(f,oe)!==-1});else for(var B=0,X=f.length;B<X;B++)Ad(l,f[B],_,b);return this}function dp(l,f){for(var _ in l[Br]){var b=_.split(/\d/)[0];(!f||f(b))&&Ad(l,b,null,null,_)}}var Ur={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Id(l,f,_,b){var R=f+u(_)+(b?"_"+u(b):"");if(l[Br]&&l[Br][R])return this;var B=function(oe){return _.call(b||l,oe||window.event)},X=B;!at.touchNative&&at.pointer&&f.indexOf("touch")===0?B=op(l,f,B):at.touch&&f==="dblclick"?B=hl(l,B):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Ur[f]||f,B,at.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(B=function(oe){oe=oe||window.event,Pd(l,oe)&&X(oe)},l.addEventListener(Ur[f],B,!1)):l.addEventListener(f,X,!1):l.attachEvent("on"+f,B),l[Br]=l[Br]||{},l[Br][R]=B}function Ad(l,f,_,b,R){R=R||f+u(_)+(b?"_"+u(b):"");var B=l[Br]&&l[Br][R];if(!B)return this;!at.touchNative&&at.pointer&&f.indexOf("touch")===0?ap(l,f,B):at.touch&&f==="dblclick"?mo(l,B):"removeEventListener"in l?l.removeEventListener(Ur[f]||f,B,!1):l.detachEvent("on"+f,B),l[Br][R]=null}function zr(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function ca(l){return Id(l,"wheel",zr),this}function da(l){return Et(l,"mousedown touchstart dblclick contextmenu",zr),l._leaflet_disable_click=!0,this}function Un(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function Cr(l){return Un(l),zr(l),this}function Rd(l){if(l.composedPath)return l.composedPath();for(var f=[],_=l.target;_;)f.push(_),_=_.parentNode;return f}function Au(l,f){if(!f)return new me(l.clientX,l.clientY);var _=Iu(f),b=_.boundingClientRect;return new me((l.clientX-b.left)/_.x-f.clientLeft,(l.clientY-b.top)/_.y-f.clientTop)}var Vn=at.linux&&at.chrome?window.devicePixelRatio:at.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fp(l){return at.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Vn:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Pd(l,f){var _=f.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var hp={__proto__:null,on:Et,off:vn,stopPropagation:zr,disableScrollPropagation:ca,disableClickPropagation:da,preventDefault:Un,stop:Cr,getPropagationPath:Rd,getMousePosition:Au,getWheelDelta:fp,isExternalTarget:Pd,addListener:Et,removeListener:vn},kd=_e.extend({run:function(l,f,_,b){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=$r(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,_=this._duration*1e3;f<_?this._runFrame(this._easeOut(f/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var _=this._startPos.add(this._offset.multiplyBy(l));f&&_._round(),xt(this._el,_),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Ut=_e.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=w(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(we(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ml&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Et(this._proxy,vd,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,_){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(we(l),f,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=r({animate:_.animate},_.zoom),_.pan=r({animate:_.animate,duration:_.duration},_.pan));var b=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,_.zoom):this._tryAnimatedPan(l,_.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,_){var b=this.getZoomScale(f),R=this.getSize().divideBy(2),B=l instanceof me?l:this.latLngToContainerPoint(l),X=B.subtract(R).multiplyBy(1-1/b),oe=this.containerPointToLatLng(R.add(X));return this.setView(oe,f,{zoom:_})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():Ye(l);var _=Ne(f.paddingTopLeft||f.padding||[0,0]),b=Ne(f.paddingBottomRight||f.padding||[0,0]),R=this.getBoundsZoom(l,!1,_.add(b));if(R=typeof f.maxZoom=="number"?Math.min(f.maxZoom,R):R,R===1/0)return{center:l.getCenter(),zoom:R};var B=b.subtract(_).divideBy(2),X=this.project(l.getSouthWest(),R),oe=this.project(l.getNorthEast(),R),le=this.unproject(X.add(oe).divideBy(2).add(B),R);return{center:le,zoom:R}},fitBounds:function(l,f){if(l=Ye(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,f);return this.setView(_.center,_.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=Ne(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new kd,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Ot(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,_){if(_=_||{},_.animate===!1||!at.any3d)return this.setView(l,f,_);this._stop();var b=this.project(this.getCenter()),R=this.project(l),B=this.getSize(),X=this._zoom;l=we(l),f=f===void 0?X:f;var oe=Math.max(B.x,B.y),le=oe*this.getZoomScale(X,f),Ce=R.distanceTo(b)||1,qe=1.42,Tt=qe*qe;function $t(Jn){var Rp=Jn?-1:1,V2=Jn?le:oe,F2=le*le-oe*oe+Rp*Tt*Tt*Ce*Ce,$2=2*V2*Tt*Ce,jv=F2/$2,NS=Math.sqrt(jv*jv+1)-jv,B2=NS<1e-9?-18:Math.log(NS);return B2}function Ks(Jn){return(Math.exp(Jn)-Math.exp(-Jn))/2}function gs(Jn){return(Math.exp(Jn)+Math.exp(-Jn))/2}function Hr(Jn){return Ks(Jn)/gs(Jn)}var ar=$t(0);function Uu(Jn){return oe*(gs(ar)/gs(ar+qe*Jn))}function L2(Jn){return oe*(gs(ar)*Hr(ar+qe*Jn)-Ks(ar))/Tt}function D2(Jn){return 1-Math.pow(1-Jn,1.5)}var M2=Date.now(),DS=($t(1)-ar)/qe,N2=_.duration?1e3*_.duration:1e3*DS*.8;function MS(){var Jn=(Date.now()-M2)/N2,Rp=D2(Jn)*DS;Jn<=1?(this._flyToFrame=U(MS,this),this._move(this.unproject(b.add(R.subtract(b).multiplyBy(L2(Rp)/Ce)),X),this.getScaleZoom(oe/Uu(Rp),X),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),MS.call(this),this},flyToBounds:function(l,f){var _=this._getBoundsCenterZoom(l,f);return this.flyTo(_.center,_.zoom,f)},setMaxBounds:function(l){return l=Ye(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var _=this.getCenter(),b=this._limitCenter(_,this._zoom,Ye(l));return _.equals(b)||this.panTo(b,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var _=Ne(f.paddingTopLeft||f.padding||[0,0]),b=Ne(f.paddingBottomRight||f.padding||[0,0]),R=this.project(this.getCenter()),B=this.project(l),X=this.getPixelBounds(),oe=lt([X.min.add(_),X.max.subtract(b)]),le=oe.getSize();if(!oe.contains(B)){this._enforcingBounds=!0;var Ce=B.subtract(oe.getCenter()),qe=oe.extend(B).getSize().subtract(le);R.x+=Ce.x<0?-qe.x:qe.x,R.y+=Ce.y<0?-qe.y:qe.y,this.panTo(this.unproject(R),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=r({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),b=f.divideBy(2).round(),R=_.divideBy(2).round(),B=b.subtract(R);return!B.x&&!B.y?this:(l.animate&&l.pan?this.panBy(B):(l.pan&&this._rawPanBy(B),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=r({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=o(this._handleGeolocationResponse,this),_=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,_,l):navigator.geolocation.getCurrentPosition(f,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,_=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,_=l.coords.longitude,b=new dt(f,_),R=b.toBounds(l.coords.accuracy*2),B=this._locateOptions;if(B.setView){var X=this.getBoundsZoom(R);this.setView(b,B.maxZoom?Math.min(X,B.maxZoom):X)}var oe={latlng:b,bounds:R,timestamp:l.timestamp};for(var le in l.coords)typeof l.coords[le]=="number"&&(oe[le]=l.coords[le]);this.fire("locationfound",oe)}},addHandler:function(l,f){if(!f)return this;var _=this[l]=new f(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)Tn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),b=Wt("div",_,f||this._mapPane);return l&&(this._panes[l]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new pt(f,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,_){l=Ye(l),_=Ne(_||[0,0]);var b=this.getZoom()||0,R=this.getMinZoom(),B=this.getMaxZoom(),X=l.getNorthWest(),oe=l.getSouthEast(),le=this.getSize().subtract(_),Ce=lt(this.project(oe,b),this.project(X,b)).getSize(),qe=at.any3d?this.options.zoomSnap:1,Tt=le.x/Ce.x,$t=le.y/Ce.y,Ks=f?Math.max(Tt,$t):Math.min(Tt,$t);return b=this.getScaleZoom(Ks,b),qe&&(b=Math.round(b/(qe/100))*(qe/100),b=f?Math.ceil(b/qe)*qe:Math.floor(b/qe)*qe),Math.max(R,Math.min(B,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var _=this._getTopLeftPoint(l,f);return new ot(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var _=this.options.crs;return f=f===void 0?this._zoom:f,_.scale(l)/_.scale(f)},getScaleZoom:function(l,f){var _=this.options.crs;f=f===void 0?this._zoom:f;var b=_.zoom(l*_.scale(f));return isNaN(b)?1/0:b},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(we(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Ne(l),f)},layerPointToLatLng:function(l){var f=Ne(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(we(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(we(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(Ye(l))},distance:function(l,f){return this.options.crs.distance(we(l),we(f))},containerPointToLayerPoint:function(l){return Ne(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return Ne(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(Ne(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(we(l)))},mouseEventToContainerPoint:function(l){return Au(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=yd(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Et(f,"scroll",this._onScroll,this),this._containerId=u(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&at.any3d,Ot(l,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=aa(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),xt(this._mapPane,new me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(l.markerPane,"leaflet-zoom-hide"),Ot(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,_){xt(this._mapPane,new me(0,0));var b=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var R=this._zoom!==f;this._moveStart(R,_)._move(l,f)._moveEnd(R),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,_,b){f===void 0&&(f=this._zoom);var R=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),b?_&&_.pinch&&this.fire("zoom",_):((R||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){xt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[u(this._container)]=this;var f=l?vn:Et;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var _=[],b,R=f==="mouseout"||f==="mouseover",B=l.target||l.srcElement,X=!1;B;){if(b=this._targets[u(B)],b&&(f==="click"||f==="preclick")&&this._draggableMoved(b)){X=!0;break}if(b&&b.listens(f,!0)&&(R&&!Pd(B,l)||(_.push(b),R))||B===this._container)break;B=B.parentNode}return!_.length&&!X&&!R&&this.listens(f,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var _=l.type;_==="mousedown"&&vo(f),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,_){if(l.type==="click"){var b=r({},l);b.type="preclick",this._fireDOMEvent(b,b.type,_)}var R=this._findEventTargets(l,f);if(_){for(var B=[],X=0;X<_.length;X++)_[X].listens(f,!0)&&B.push(_[X]);R=B.concat(R)}if(R.length){f==="contextmenu"&&Un(l);var oe=R[0],le={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Ce=oe.getLatLng&&(!oe._radius||oe._radius<=10);le.containerPoint=Ce?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(l),le.layerPoint=this.containerPointToLayerPoint(le.containerPoint),le.latlng=Ce?oe.getLatLng():this.layerPointToLatLng(le.layerPoint)}for(X=0;X<R.length;X++)if(R[X].fire(f,le,!0),le.originalEvent._stopped||R[X].options.bubblingMouseEvents===!1&&I(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return $r(this._mapPane)||new me(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var _=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var _=this.getSize()._divideBy(2);return this.project(l,f)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,_){var b=this._getNewPixelOrigin(_,f);return this.project(l,f)._subtract(b)},_latLngBoundsToNewLayerBounds:function(l,f,_){var b=this._getNewPixelOrigin(_,f);return lt([this.project(l.getSouthWest(),f)._subtract(b),this.project(l.getNorthWest(),f)._subtract(b),this.project(l.getSouthEast(),f)._subtract(b),this.project(l.getNorthEast(),f)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,_){if(!_)return l;var b=this.project(l,f),R=this.getSize().divideBy(2),B=new ot(b.subtract(R),b.add(R)),X=this._getBoundsOffset(B,_,f);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?l:this.unproject(b.add(X),f)},_limitOffset:function(l,f){if(!f)return l;var _=this.getPixelBounds(),b=new ot(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(b,f))},_getBoundsOffset:function(l,f,_){var b=lt(this.project(f.getNorthEast(),_),this.project(f.getSouthWest(),_)),R=b.min.subtract(l.min),B=b.max.subtract(l.max),X=this._rebound(R.x,-B.x),oe=this._rebound(R.y,-B.y);return new me(X,oe)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),_=this.getMaxZoom(),b=at.any3d?this.options.zoomSnap:1;return b&&(l=Math.round(l/b)*b),Math.max(f,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Nn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var _=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,f),!0)},_createAnimProxy:function(){var l=this._proxy=Wt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var _=pl,b=this._proxy.style[_];Di(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),b===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();Di(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(f),R=this._getCenterOffset(l)._divideBy(1-1/b);return _.animate!==!0&&!this.getSize().contains(R)?!1:(U(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,_,b){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Nn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ru(l,f){return new Ut(l,f)}var or=Pe.extend({options:{position:"topright"},initialize:function(l){w(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),_=this.getPosition(),b=l._controlCorners[_];return Ot(f,"leaflet-control"),_.indexOf("bottom")!==-1?b.insertBefore(f,b.firstChild):b.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),Gs=function(l){return new or(l)};Ut.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",_=this._controlContainer=Wt("div",f+"control-container",this._container);function b(R,B){var X=f+R+" "+f+B;l[R+B]=Wt("div",X,_)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)Tn(this._controlCorners[l]);Tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Od=or.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,_,b){return _<b?-1:b<_?1:0}},initialize:function(l,f,_){w(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in l)this._addLayer(l[b],b);for(b in f)this._addLayer(f[b],b,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return or.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(u(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Nn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Nn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=Wt("div",l),_=this.options.collapsed;f.setAttribute("aria-haspopup",!0),da(f),ca(f);var b=this._section=Wt("section",l+"-list");_&&(this._map.on("click",this.collapse,this),Et(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var R=this._layersLink=Wt("a",l+"-toggle",f);R.href="#",R.title="Layers",R.setAttribute("role","button"),Et(R,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){Un(B),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=Wt("div",l+"-base",b),this._separator=Wt("div",l+"-separator",b),this._overlaysList=Wt("div",l+"-overlays",b),f.appendChild(b)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&u(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:_}),this.options.sortLayers&&this._layers.sort(o(function(b,R){return this.options.sortFunction(b.layer,R.layer,b.name,R.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;gl(this._baseLayersList),gl(this._overlaysList),this._layerControlInputs=[];var l,f,_,b,R=0;for(_=0;_<this._layers.length;_++)b=this._layers[_],this._addItem(b),f=f||b.overlay,l=l||!b.overlay,R+=b.overlay?0:1;return this.options.hideSingleBase&&(l=l&&R>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(u(l.target)),_=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,f)},_createRadioElement:function(l,f){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=_,b.firstChild},_addItem:function(l){var f=document.createElement("label"),_=this._map.hasLayer(l.layer),b;l.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=_):b=this._createRadioElement("leaflet-base-layers_"+u(this),_),this._layerControlInputs.push(b),b.layerId=u(l.layer),Et(b,"click",this._onInputClick,this);var R=document.createElement("span");R.innerHTML=" "+l.name;var B=document.createElement("span");f.appendChild(B),B.appendChild(b),B.appendChild(R);var X=l.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,_,b=[],R=[];this._handlingClick=!0;for(var B=l.length-1;B>=0;B--)f=l[B],_=this._getLayer(f.layerId).layer,f.checked?b.push(_):f.checked||R.push(_);for(B=0;B<R.length;B++)this._map.hasLayer(R[B])&&this._map.removeLayer(R[B]);for(B=0;B<b.length;B++)this._map.hasLayer(b[B])||this._map.addLayer(b[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,_,b=this._map.getZoom(),R=l.length-1;R>=0;R--)f=l[R],_=this._getLayer(f.layerId).layer,f.disabled=_.options.minZoom!==void 0&&b<_.options.minZoom||_.options.maxZoom!==void 0&&b>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Et(l,"click",Un),this.expand();var f=this;setTimeout(function(){vn(l,"click",Un),f._preventClick=!1})}}),Vv=function(l,f,_){return new Od(l,f,_)},yo=or.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",_=Wt("div",f+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,f+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,f+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,_,b,R){var B=Wt("a",_,b);return B.innerHTML=l,B.href="#",B.title=f,B.setAttribute("role","button"),B.setAttribute("aria-label",f),da(B),Et(B,"click",Cr),Et(B,"click",R,this),Et(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";Nn(this._zoomInButton,f),Nn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ot(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ot(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yo,this.addControl(this.zoomControl))});var pp=function(l){return new yo(l)},Pu=or.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",_=Wt("div",f),b=this.options;return this._addScales(b,f+"-line",_),l.on(b.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,_){l.metric&&(this._mScale=Wt("div",f,_)),l.imperial&&(this._iScale=Wt("div",f,_))},_update:function(){var l=this._map,f=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),_=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,_,f/l)},_updateImperial:function(l){var f=l*3.2808399,_,b,R;f>5280?(_=f/5280,b=this._getRoundNum(_),this._updateScale(this._iScale,b+" mi",b/_)):(R=this._getRoundNum(f),this._updateScale(this._iScale,R+" ft",R/f))},_updateScale:function(l,f,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),_=l/f;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,f*_}}),ku=function(l){return new Pu(l)},mp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fa=or.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?mp+" ":"")+"Leaflet</a>"},initialize:function(l){w(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Wt("div","leaflet-control-attribution"),da(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook(function(){this.options.attributionControl&&new fa().addTo(this)});var Fv=function(l){return new fa(l)};or.Layers=Od,or.Zoom=yo,or.Scale=Pu,or.Attribution=fa,Gs.layers=Vv,Gs.zoom=pp,Gs.scale=ku,Gs.attribution=Fv;var xr=Pe.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xr.addTo=function(l,f){return l.addHandler(f,this),this};var _l={Events:ye},Ld=at.touch?"touchstart mousedown":"mousedown",li=_e.extend({options:{clickTolerance:3},initialize:function(l,f,_,b){w(this,b),this._element=l,this._dragStartTarget=f||l,this._preventOutline=_},enable:function(){this._enabled||(Et(this._dragStartTarget,Ld,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),vn(this._dragStartTarget,Ld,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!wd(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){li._dragging===this&&this.finishDrag();return}if(!(li._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(li._dragging=this,this._preventOutline&&vo(this._element),Td(),oi(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,_=xd(this._element);this._startPoint=new me(f.clientX,f.clientY),this._startPos=$r(this._element),this._parentScale=Iu(_);var b=l.type==="mousedown";Et(document,b?"mousemove":"touchmove",this._onMove,this),Et(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,_=new me(f.clientX,f.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Un(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ot(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),xt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Nn(document.body,"leaflet-dragging"),this._lastTarget&&(Nn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),vn(document,"mousemove touchmove",this._onMove,this),vn(document,"mouseup touchend touchcancel",this._onUp,this),Sd(),ai();var f=this._moved&&this._moving;this._moving=!1,li._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function Ou(l,f,_){var b,R=[1,4,2,8],B,X,oe,le,Ce,qe,Tt,$t;for(B=0,qe=l.length;B<qe;B++)l[B]._code=Mi(l[B],f);for(oe=0;oe<4;oe++){for(Tt=R[oe],b=[],B=0,qe=l.length,X=qe-1;B<qe;X=B++)le=l[B],Ce=l[X],le._code&Tt?Ce._code&Tt||($t=ms(Ce,le,Tt,f,_),$t._code=Mi($t,f),b.push($t)):(Ce._code&Tt&&($t=ms(Ce,le,Tt,f,_),$t._code=Mi($t,f),b.push($t)),b.push(le));l=b}return l}function Lu(l,f){var _,b,R,B,X,oe,le,Ce,qe;if(!l||l.length===0)throw new Error("latlngs not passed");p(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Tt=we([0,0]),$t=Ye(l),Ks=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Ks<1700&&(Tt=Du(l));var gs=l.length,Hr=[];for(_=0;_<gs;_++){var ar=we(l[_]);Hr.push(f.project(we([ar.lat-Tt.lat,ar.lng-Tt.lng])))}for(oe=le=Ce=0,_=0,b=gs-1;_<gs;b=_++)R=Hr[_],B=Hr[b],X=R.y*B.x-B.y*R.x,le+=(R.x+B.x)*X,Ce+=(R.y+B.y)*X,oe+=X*3;oe===0?qe=Hr[0]:qe=[le/oe,Ce/oe];var Uu=f.unproject(Ne(qe));return we([Uu.lat+Tt.lat,Uu.lng+Tt.lng])}function Du(l){for(var f=0,_=0,b=0,R=0;R<l.length;R++){var B=we(l[R]);f+=B.lat,_+=B.lng,b++}return we([f/b,_/b])}var Mu={__proto__:null,clipPolygon:Ou,polygonCenter:Lu,centroid:Du};function Dd(l,f){if(!f||!l.length)return l.slice();var _=f*f;return l=_p(l,_),l=gp(l,_),l}function Md(l,f,_){return Math.sqrt(jr(l,f,_,!0))}function wo(l,f,_){return jr(l,f,_)}function gp(l,f){var _=l.length,b=typeof Uint8Array<"u"?Uint8Array:Array,R=new b(_);R[0]=R[_-1]=1,Nu(l,R,f,0,_-1);var B,X=[];for(B=0;B<_;B++)R[B]&&X.push(l[B]);return X}function Nu(l,f,_,b,R){var B=0,X,oe,le;for(oe=b+1;oe<=R-1;oe++)le=jr(l[oe],l[b],l[R],!0),le>B&&(X=oe,B=le);B>_&&(f[X]=1,Nu(l,f,_,b,X),Nu(l,f,_,X,R))}function _p(l,f){for(var _=[l[0]],b=1,R=0,B=l.length;b<B;b++)vp(l[b],l[R])>f&&(_.push(l[b]),R=b);return R<B-1&&_.push(l[B-1]),_}var Nd;function vl(l,f,_,b,R){var B=b?Nd:Mi(l,_),X=Mi(f,_),oe,le,Ce;for(Nd=X;;){if(!(B|X))return[l,f];if(B&X)return!1;oe=B||X,le=ms(l,f,oe,_,R),Ce=Mi(le,_),oe===B?(l=le,B=Ce):(f=le,X=Ce)}}function ms(l,f,_,b,R){var B=f.x-l.x,X=f.y-l.y,oe=b.min,le=b.max,Ce,qe;return _&8?(Ce=l.x+B*(le.y-l.y)/X,qe=le.y):_&4?(Ce=l.x+B*(oe.y-l.y)/X,qe=oe.y):_&2?(Ce=le.x,qe=l.y+X*(le.x-l.x)/B):_&1&&(Ce=oe.x,qe=l.y+X*(oe.x-l.x)/B),new me(Ce,qe,R)}function Mi(l,f){var _=0;return l.x<f.min.x?_|=1:l.x>f.max.x&&(_|=2),l.y<f.min.y?_|=4:l.y>f.max.y&&(_|=8),_}function vp(l,f){var _=f.x-l.x,b=f.y-l.y;return _*_+b*b}function jr(l,f,_,b){var R=f.x,B=f.y,X=_.x-R,oe=_.y-B,le=X*X+oe*oe,Ce;return le>0&&(Ce=((l.x-R)*X+(l.y-B)*oe)/le,Ce>1?(R=_.x,B=_.y):Ce>0&&(R+=X*Ce,B+=oe*Ce)),X=l.x-R,oe=l.y-B,b?X*X+oe*oe:new me(R,B)}function p(l){return!x(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function S(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),p(l)}function D(l,f){var _,b,R,B,X,oe,le,Ce;if(!l||l.length===0)throw new Error("latlngs not passed");p(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var qe=we([0,0]),Tt=Ye(l),$t=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());$t<1700&&(qe=Du(l));var Ks=l.length,gs=[];for(_=0;_<Ks;_++){var Hr=we(l[_]);gs.push(f.project(we([Hr.lat-qe.lat,Hr.lng-qe.lng])))}for(_=0,b=0;_<Ks-1;_++)b+=gs[_].distanceTo(gs[_+1])/2;if(b===0)Ce=gs[0];else for(_=0,B=0;_<Ks-1;_++)if(X=gs[_],oe=gs[_+1],R=X.distanceTo(oe),B+=R,B>b){le=(B-b)/R,Ce=[oe.x-le*(oe.x-X.x),oe.y-le*(oe.y-X.y)];break}var ar=f.unproject(Ne(Ce));return we([ar.lat+qe.lat,ar.lng+qe.lng])}var H={__proto__:null,simplify:Dd,pointToSegmentDistance:Md,closestPointOnSegment:wo,clipSegment:vl,_getEdgeIntersection:ms,_getBitCode:Mi,_sqClosestPointOnSegment:jr,isFlat:p,_flat:S,polylineCenter:D},re={project:function(l){return new me(l.lng,l.lat)},unproject:function(l){return new dt(l.y,l.x)},bounds:new ot([-180,-90],[180,90])},ue={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,_=this.R,b=l.lat*f,R=this.R_MINOR/_,B=Math.sqrt(1-R*R),X=B*Math.sin(b),oe=Math.tan(Math.PI/4-b/2)/Math.pow((1-X)/(1+X),B/2);return b=-_*Math.log(Math.max(oe,1e-10)),new me(l.lng*f*_,b)},unproject:function(l){for(var f=180/Math.PI,_=this.R,b=this.R_MINOR/_,R=Math.sqrt(1-b*b),B=Math.exp(-l.y/_),X=Math.PI/2-2*Math.atan(B),oe=0,le=.1,Ce;oe<15&&Math.abs(le)>1e-7;oe++)Ce=R*Math.sin(X),Ce=Math.pow((1-Ce)/(1+Ce),R/2),le=Math.PI/2-2*Math.atan(B*Ce)-X,X+=le;return new dt(X*f,l.x*f/_)}},Me={__proto__:null,LonLat:re,Mercator:ue,SphericalMercator:Re},mn=r({},he,{code:"EPSG:3395",projection:ue,transformation:function(){var l=.5/(Math.PI*ue.R);return j(l,.5,-l,.5)}()}),Xn=r({},he,{code:"EPSG:4326",projection:re,transformation:j(1/180,1,-1/180,.5)}),Qt=r({},ee,{projection:re,transformation:j(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var _=f.lng-l.lng,b=f.lat-l.lat;return Math.sqrt(_*_+b*b)},infinite:!0});ee.Earth=he,ee.EPSG3395=mn,ee.EPSG3857=G,ee.EPSG900913=te,ee.EPSG4326=Xn,ee.Simple=Qt;var yn=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[u(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[u(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var _=this.getEvents();f.on(_,this),this.once("remove",function(){f.off(_,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=u(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=u(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return u(l)in this._layers},eachLayer:function(l,f){for(var _ in this._layers)l.call(f,this._layers[_]);return this},_addLayers:function(l){l=l?x(l)?l:[l]:[];for(var f=0,_=l.length;f<_;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[u(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=u(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,_=this._getZoomSpan();for(var b in this._zoomBoundLayers){var R=this._zoomBoundLayers[b].options;l=R.minZoom===void 0?l:Math.min(l,R.minZoom),f=R.maxZoom===void 0?f:Math.max(f,R.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zn=yn.extend({initialize:function(l,f){w(this,f),this._layers={};var _,b;if(l)for(_=0,b=l.length;_<b;_++)this.addLayer(l[_])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),_,b;for(_ in this._layers)b=this._layers[_],b[l]&&b[l].apply(b,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var _ in this._layers)l.call(f,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return u(l)}}),ha=function(l,f){return new zn(l,f)},Yn=zn.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),zn.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),zn.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new pt;for(var f in this._layers){var _=this._layers[f];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),Vu=function(l,f){return new Yn(l,f)},Ni=Pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){w(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(_,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(b,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(l,f){var _=this.options,b=_[f+"Size"];typeof b=="number"&&(b=[b,b]);var R=Ne(b),B=Ne(f==="shadow"&&_.shadowAnchor||_.iconAnchor||R&&R.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(_.className||""),B&&(l.style.marginLeft=-B.x+"px",l.style.marginTop=-B.y+"px"),R&&(l.style.width=R.x+"px",l.style.height=R.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return at.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function p2(l){return new Ni(l)}var Vd=Ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof Vd.imagePath!="string"&&(Vd.imagePath=this._detectIconPath()),(this.options.imagePath||Vd.imagePath)+Ni.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(_,b,R){var B=b.exec(_);return B&&B[R]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Wt("div","leaflet-default-icon-path",document.body),f=aa(l,"background-image")||aa(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),mS=xr.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new li(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Nn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,_=f._map,b=this._marker.options.autoPanSpeed,R=this._marker.options.autoPanPadding,B=$r(f._icon),X=_.getPixelBounds(),oe=_.getPixelOrigin(),le=lt(X.min._subtract(oe).add(R),X.max._subtract(oe).subtract(R));if(!le.contains(B)){var Ce=Ne((Math.max(le.max.x,B.x)-le.max.x)/(X.max.x-le.max.x)-(Math.min(le.min.x,B.x)-le.min.x)/(X.min.x-le.min.x),(Math.max(le.max.y,B.y)-le.max.y)/(X.max.y-le.max.y)-(Math.min(le.min.y,B.y)-le.min.y)/(X.min.y-le.min.y)).multiplyBy(b);_.panBy(Ce,{animate:!1}),this._draggable._newPos._add(Ce),this._draggable._startPos._add(Ce),xt(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=U(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,_=f._shadow,b=$r(f._icon),R=f._map.layerPointToLatLng(b);_&&xt(_,b),f._latlng=R,l.latlng=R,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),yp=yn.extend({options:{icon:new Vd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){w(this,f),this._latlng=we(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=we(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),b=!1;_!==this._icon&&(this._icon&&this._removeIcon(),b=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),Ot(_,f),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Et(_,"focus",this._panOnFocus,this);var R=l.icon.createShadow(this._shadow),B=!1;R!==this._shadow&&(this._removeShadow(),B=!0),R&&(Ot(R,f),R.alt=""),this._shadow=R,l.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),R&&B&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vn(this._icon,"focus",this._panOnFocus,this),Tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&xt(this._icon,l),this._shadow&&xt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mS)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mS(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Wn(this._icon,l),this._shadow&&Wn(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,_=f.iconSize?Ne(f.iconSize):Ne(0,0),b=f.iconAnchor?Ne(f.iconAnchor):Ne(0,0);l.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:_.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function m2(l,f){return new yp(l,f)}var pa=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return w(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wp=pa.extend({options:{fill:!0,radius:10},initialize:function(l,f){w(this,f),this._latlng=we(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=we(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return pa.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,_=this._clickTolerance(),b=[l+_,f+_];this._pxBounds=new ot(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function g2(l,f){return new wp(l,f)}var $v=wp.extend({initialize:function(l,f,_){if(typeof f=="number"&&(f=r({},_,{radius:f})),w(this,f),this._latlng=we(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:pa.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,_=this._map,b=_.options.crs;if(b.distance===he.distance){var R=Math.PI/180,B=this._mRadius/he.R/R,X=_.project([f+B,l]),oe=_.project([f-B,l]),le=X.add(oe).divideBy(2),Ce=_.unproject(le).lat,qe=Math.acos((Math.cos(B*R)-Math.sin(f*R)*Math.sin(Ce*R))/(Math.cos(f*R)*Math.cos(Ce*R)))/R;(isNaN(qe)||qe===0)&&(qe=B/Math.cos(Math.PI/180*f)),this._point=le.subtract(_.getPixelOrigin()),this._radius=isNaN(qe)?0:le.x-_.project([Ce,l-qe]).x,this._radiusY=le.y-X.y}else{var Tt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Tt).x}this._updateBounds()}});function _2(l,f,_){return new $v(l,f,_)}var bo=pa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){w(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,_=null,b=jr,R,B,X=0,oe=this._parts.length;X<oe;X++)for(var le=this._parts[X],Ce=1,qe=le.length;Ce<qe;Ce++){R=le[Ce-1],B=le[Ce];var Tt=b(l,R,B,!0);Tt<f&&(f=Tt,_=b(l,R,B))}return _&&(_.distance=Math.sqrt(f)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return D(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=we(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new pt,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return p(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],_=p(l),b=0,R=l.length;b<R;b++)_?(f[b]=we(l[b]),this._bounds.extend(f[b])):f[b]=this._convertLatLngs(l[b]);return f},_project:function(){var l=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new me(l,l);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,_){var b=l[0]instanceof dt,R=l.length,B,X;if(b){for(X=[],B=0;B<R;B++)X[B]=this._map.latLngToLayerPoint(l[B]),_.extend(X[B]);f.push(X)}else for(B=0;B<R;B++)this._projectLatlngs(l[B],f,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,_,b,R,B,X,oe,le;for(_=0,R=0,B=this._rings.length;_<B;_++)for(le=this._rings[_],b=0,X=le.length;b<X-1;b++)oe=vl(le[b],le[b+1],l,b,!0),oe&&(f[R]=f[R]||[],f[R].push(oe[0]),(oe[1]!==le[b+1]||b===X-2)&&(f[R].push(oe[1]),R++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,_=0,b=l.length;_<b;_++)l[_]=Dd(l[_],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var _,b,R,B,X,oe,le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,B=this._parts.length;_<B;_++)for(oe=this._parts[_],b=0,X=oe.length,R=X-1;b<X;R=b++)if(!(!f&&b===0)&&Md(l,oe[R],oe[b])<=le)return!0;return!1}});function v2(l,f){return new bo(l,f)}bo._flat=S;var Fu=bo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=bo.prototype._convertLatLngs.call(this,l),_=f.length;return _>=2&&f[0]instanceof dt&&f[0].equals(f[_-1])&&f.pop(),f},_setLatLngs:function(l){bo.prototype._setLatLngs.call(this,l),p(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return p(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,_=new me(f,f);if(l=new ot(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,R=this._rings.length,B;b<R;b++)B=Ou(this._rings[b],l,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,_,b,R,B,X,oe,le,Ce;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(B=0,le=this._parts.length;B<le;B++)for(_=this._parts[B],X=0,Ce=_.length,oe=Ce-1;X<Ce;oe=X++)b=_[X],R=_[oe],b.y>l.y!=R.y>l.y&&l.x<(R.x-b.x)*(l.y-b.y)/(R.y-b.y)+b.x&&(f=!f);return f||bo.prototype._containsPoint.call(this,l,!0)}});function y2(l,f){return new Fu(l,f)}var Eo=Yn.extend({initialize:function(l,f){w(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=x(l)?l:l.features,_,b,R;if(f){for(_=0,b=f.length;_<b;_++)R=f[_],(R.geometries||R.geometry||R.features||R.coordinates)&&this.addData(R);return this}var B=this.options;if(B.filter&&!B.filter(l))return this;var X=bp(l,B);return X?(X.feature=Sp(l),X.defaultOptions=X.options,this.resetStyle(X),B.onEachFeature&&B.onEachFeature(l,X),this.addLayer(X)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=r({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function bp(l,f){var _=l.type==="Feature"?l.geometry:l,b=_?_.coordinates:null,R=[],B=f&&f.pointToLayer,X=f&&f.coordsToLatLng||Bv,oe,le,Ce,qe;if(!b&&!_)return null;switch(_.type){case"Point":return oe=X(b),gS(B,l,oe,f);case"MultiPoint":for(Ce=0,qe=b.length;Ce<qe;Ce++)oe=X(b[Ce]),R.push(gS(B,l,oe,f));return new Yn(R);case"LineString":case"MultiLineString":return le=Ep(b,_.type==="LineString"?0:1,X),new bo(le,f);case"Polygon":case"MultiPolygon":return le=Ep(b,_.type==="Polygon"?1:2,X),new Fu(le,f);case"GeometryCollection":for(Ce=0,qe=_.geometries.length;Ce<qe;Ce++){var Tt=bp({geometry:_.geometries[Ce],type:"Feature",properties:l.properties},f);Tt&&R.push(Tt)}return new Yn(R);case"FeatureCollection":for(Ce=0,qe=_.features.length;Ce<qe;Ce++){var $t=bp(_.features[Ce],f);$t&&R.push($t)}return new Yn(R);default:throw new Error("Invalid GeoJSON object.")}}function gS(l,f,_,b){return l?l(f,_):new yp(_,b&&b.markersInheritOptions&&b)}function Bv(l){return new dt(l[1],l[0],l[2])}function Ep(l,f,_){for(var b=[],R=0,B=l.length,X;R<B;R++)X=f?Ep(l[R],f-1,_):(_||Bv)(l[R]),b.push(X);return b}function Uv(l,f){return l=we(l),l.alt!==void 0?[g(l.lng,f),g(l.lat,f),g(l.alt,f)]:[g(l.lng,f),g(l.lat,f)]}function Tp(l,f,_,b){for(var R=[],B=0,X=l.length;B<X;B++)R.push(f?Tp(l[B],p(l[B])?0:f-1,_,b):Uv(l[B],b));return!f&&_&&R.length>0&&R.push(R[0].slice()),R}function $u(l,f){return l.feature?r({},l.feature,{geometry:f}):Sp(f)}function Sp(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var zv={toGeoJSON:function(l){return $u(this,{type:"Point",coordinates:Uv(this.getLatLng(),l)})}};yp.include(zv),$v.include(zv),wp.include(zv),bo.include({toGeoJSON:function(l){var f=!p(this._latlngs),_=Tp(this._latlngs,f?1:0,!1,l);return $u(this,{type:(f?"Multi":"")+"LineString",coordinates:_})}}),Fu.include({toGeoJSON:function(l){var f=!p(this._latlngs),_=f&&!p(this._latlngs[0]),b=Tp(this._latlngs,_?2:f?1:0,!0,l);return f||(b=[b]),$u(this,{type:(_?"Multi":"")+"Polygon",coordinates:b})}}),zn.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(_){f.push(_.toGeoJSON(l).geometry.coordinates)}),$u(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var _=f==="GeometryCollection",b=[];return this.eachLayer(function(R){if(R.toGeoJSON){var B=R.toGeoJSON(l);if(_)b.push(B.geometry);else{var X=Sp(B);X.type==="FeatureCollection"?b.push.apply(b,X.features):b.push(X)}}}),_?$u(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function _S(l,f){return new Eo(l,f)}var w2=_S,Cp=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,_){this._url=l,this._bounds=Ye(f),w(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&go(this._image),this},bringToBack:function(){return this._map&&la(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=Ye(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:Wt("img");if(Ot(f,"leaflet-image-layer"),this._zoomAnimated&&Ot(f,"leaflet-zoom-animated"),this.options.className&&Ot(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onload=o(this.fire,this,"load"),f.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Di(this._image,_,f)},_reset:function(){var l=this._image,f=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=f.getSize();xt(l,f.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){Wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),b2=function(l,f,_){return new Cp(l,f,_)},vS=Cp.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:Wt("video");if(Ot(f,"leaflet-image-layer"),this._zoomAnimated&&Ot(f,"leaflet-zoom-animated"),this.options.className&&Ot(f,this.options.className),f.onselectstart=h,f.onmousemove=h,f.onloadeddata=o(this.fire,this,"load"),l){for(var _=f.getElementsByTagName("source"),b=[],R=0;R<_.length;R++)b.push(_[R].src);this._url=_.length>0?b:[f.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var X=Wt("source");X.src=this._url[B],f.appendChild(X)}}});function E2(l,f,_){return new vS(l,f,_)}var yS=Cp.extend({_initImage:function(){var l=this._image=this._url;Ot(l,"leaflet-image-layer"),this._zoomAnimated&&Ot(l,"leaflet-zoom-animated"),this.options.className&&Ot(l,this.options.className),l.onselectstart=h,l.onmousemove=h}});function T2(l,f,_){return new yS(l,f,_)}var Vi=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof dt||x(l))?(this._latlng=we(l),w(this,f)):(w(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Wn(this._container,1),this.bringToFront(),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Wn(this._container,0),this._removeTimeout=setTimeout(o(Tn,void 0,this._container),200)):Tn(this._container),this.options.interactive&&(Nn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=we(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&go(this._container),this},bringToBack:function(){return this._map&&la(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof Yn){f=null;var _=this._source._layers;for(var b in _)if(_[b]._map){f=_[b];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=Ne(this.options.offset),_=this._getAnchor();this._zoomAnimated?xt(this._container,l.add(_)):f=f.add(l).add(_);var b=this._containerBottom=-f.y,R=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=b+"px",this._container.style.left=R+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(l,f,_,b){var R=f;return R instanceof l||(R=new l(b).setContent(f)),_&&R.setLatLng(_),R}}),yn.include({_initOverlay:function(l,f,_,b){var R=_;return R instanceof l?(w(R,b),R._source=this):(R=f&&!b?f:new l(b,this),R.setContent(_)),R}});var xp=Vi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Vi.prototype.openOn.call(this,l)},onAdd:function(l){Vi.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pa||this._source.on("preclick",zr))},onRemove:function(l){Vi.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pa||this._source.off("preclick",zr))},getEvents:function(){var l=Vi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=Wt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=Wt("div",l+"-content-wrapper",f);if(this._contentNode=Wt("div",l+"-content",_),da(f),ca(this._contentNode),Et(f,"contextmenu",zr),this._tipContainer=Wt("div",l+"-tip-container",f),this._tip=Wt("div",l+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Wt("a",l+"-close-button",f);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Et(b,"click",function(R){Un(R),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),f.width=_+1+"px",f.whiteSpace="",f.height="";var b=l.offsetHeight,R=this.options.maxHeight,B="leaflet-popup-scrolled";R&&b>R?(f.height=R+"px",Ot(l,B)):Nn(l,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();xt(this._container,f.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(aa(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+f,b=this._containerWidth,R=new me(this._containerLeft,-_-this._containerBottom);R._add($r(this._container));var B=l.layerPointToContainerPoint(R),X=Ne(this.options.autoPanPadding),oe=Ne(this.options.autoPanPaddingTopLeft||X),le=Ne(this.options.autoPanPaddingBottomRight||X),Ce=l.getSize(),qe=0,Tt=0;B.x+b+le.x>Ce.x&&(qe=B.x+b-Ce.x+le.x),B.x-qe-oe.x<0&&(qe=B.x-oe.x),B.y+_+le.y>Ce.y&&(Tt=B.y+_-Ce.y+le.y),B.y-Tt-oe.y<0&&(Tt=B.y-oe.y),(qe||Tt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([qe,Tt]))}},_getAnchor:function(){return Ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),S2=function(l,f){return new xp(l,f)};Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(l,f,_){return this._initOverlay(xp,l,f,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),yn.include({bindPopup:function(l,f){return this._popup=this._initOverlay(xp,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Yn||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){Cr(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof pa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Ip=Vi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Vi.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Vi.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Vi.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Wt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,_,b=this._map,R=this._container,B=b.latLngToContainerPoint(b.getCenter()),X=b.layerPointToContainerPoint(l),oe=this.options.direction,le=R.offsetWidth,Ce=R.offsetHeight,qe=Ne(this.options.offset),Tt=this._getAnchor();oe==="top"?(f=le/2,_=Ce):oe==="bottom"?(f=le/2,_=0):oe==="center"?(f=le/2,_=Ce/2):oe==="right"?(f=0,_=Ce/2):oe==="left"?(f=le,_=Ce/2):X.x<B.x?(oe="right",f=0,_=Ce/2):(oe="left",f=le+(qe.x+Tt.x)*2,_=Ce/2),l=l.subtract(Ne(f,_,!0)).add(qe).add(Tt),Nn(R,"leaflet-tooltip-right"),Nn(R,"leaflet-tooltip-left"),Nn(R,"leaflet-tooltip-top"),Nn(R,"leaflet-tooltip-bottom"),Ot(R,"leaflet-tooltip-"+oe),xt(R,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Wn(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return Ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),C2=function(l,f){return new Ip(l,f)};Ut.include({openTooltip:function(l,f,_){return this._initOverlay(Ip,l,f,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),yn.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ip,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[f](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Yn||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(Et(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Et(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,_,b;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),b=this._map.containerPointToLayerPoint(_),f=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(f)}});var wS=Ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(gl(f),f.appendChild(_.html)):f.innerHTML=_.html!==!1?_.html:"",_.bgPos){var b=Ne(_.bgPos);f.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function x2(l){return new wS(l)}Ni.Default=Vd;var Fd=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){w(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),Tn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(go(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(la(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof me?l:new me(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,_=-l(-1/0,1/0),b=0,R=f.length,B;b<R;b++)B=f[b].style.zIndex,f[b]!==this._container&&B&&(_=l(_,+B));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){Wn(this._container,this.options.opacity);var l=+new Date,f=!1,_=!1;for(var b in this._tiles){var R=this._tiles[b];if(!(!R.current||!R.loaded)){var B=Math.min(1,(l-R.loaded)/200);Wn(R.el,B),B<1?f=!0:(R.active?_=!0:this._onOpaqueTile(R),R.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),f&&(W(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Wt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=f-Math.abs(l-_),this._onUpdateLevel(_)):(Tn(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var b=this._levels[l],R=this._map;return b||(b=this._levels[l]={},b.el=Wt("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=f,b.origin=R.project(R.unproject(R.getPixelOrigin()),l).round(),b.zoom=l,this._setZoomTransform(b,R.getCenter(),R.getZoom()),h(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var l,f,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var b=f.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)Tn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,_,b){var R=Math.floor(l/2),B=Math.floor(f/2),X=_-1,oe=new me(+R,+B);oe.z=+X;var le=this._tileCoordsToKey(oe),Ce=this._tiles[le];return Ce&&Ce.active?(Ce.retain=!0,!0):(Ce&&Ce.loaded&&(Ce.retain=!0),X>b?this._retainParent(R,B,X,b):!1)},_retainChildren:function(l,f,_,b){for(var R=2*l;R<2*l+2;R++)for(var B=2*f;B<2*f+2;B++){var X=new me(R,B);X.z=_+1;var oe=this._tileCoordsToKey(X),le=this._tiles[oe];if(le&&le.active){le.retain=!0;continue}else le&&le.loaded&&(le.retain=!0);_+1<b&&this._retainChildren(R,B,_+1,b)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,_,b){var R=Math.round(f);this.options.maxZoom!==void 0&&R>this.options.maxZoom||this.options.minZoom!==void 0&&R<this.options.minZoom?R=void 0:R=this._clampZoom(R);var B=this.options.updateWhenZooming&&R!==this._tileZoom;(!b||B)&&(this._tileZoom=R,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),R!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,f)},_setZoomTransform:function(l,f,_){var b=this._map.getZoomScale(_,l.zoom),R=l.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(f,_)).round();at.any3d?Di(l.el,R,b):xt(l.el,R)},_resetGrid:function(){var l=this._map,f=l.options.crs,_=this._tileSize=this.getTileSize(),b=this._tileZoom,R=this._map.getPixelWorldBounds(this._tileZoom);R&&(this._globalTileRange=this._pxBoundsToTileRange(R)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],b).x/_.x),Math.ceil(l.project([0,f.wrapLng[1]],b).x/_.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],b).y/_.x),Math.ceil(l.project([f.wrapLat[1],0],b).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,_=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),b=f.getZoomScale(_,this._tileZoom),R=f.project(l,this._tileZoom).floor(),B=f.getSize().divideBy(b*2);return new ot(R.subtract(B),R.add(B))},_update:function(l){var f=this._map;if(f){var _=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(l),R=this._pxBoundsToTileRange(b),B=R.getCenter(),X=[],oe=this.options.keepBuffer,le=new ot(R.getBottomLeft().subtract([oe,-oe]),R.getTopRight().add([oe,-oe]));if(!(isFinite(R.min.x)&&isFinite(R.min.y)&&isFinite(R.max.x)&&isFinite(R.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ce in this._tiles){var qe=this._tiles[Ce].coords;(qe.z!==this._tileZoom||!le.contains(new me(qe.x,qe.y)))&&(this._tiles[Ce].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Tt=R.min.y;Tt<=R.max.y;Tt++)for(var $t=R.min.x;$t<=R.max.x;$t++){var Ks=new me($t,Tt);if(Ks.z=this._tileZoom,!!this._isValidTile(Ks)){var gs=this._tiles[this._tileCoordsToKey(Ks)];gs?gs.current=!0:X.push(Ks)}}if(X.sort(function(ar,Uu){return ar.distanceTo(B)-Uu.distanceTo(B)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hr=document.createDocumentFragment();for($t=0;$t<X.length;$t++)this._addTile(X[$t],Hr);this._level.el.appendChild(Hr)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var _=this._globalTileRange;if(!f.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!f.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(l);return Ye(this.options.bounds).overlaps(b)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,_=this.getTileSize(),b=l.scaleBy(_),R=b.add(_),B=f.unproject(b,l.z),X=f.unproject(R,l.z);return[B,X]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),_=new pt(f[0],f[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),_=new me(+f[0],+f[1]);return _.z=+f[2],_},_removeTile:function(l){var f=this._tiles[l];f&&(Tn(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ot(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=h,l.onmousemove=h,at.ielt9&&this.options.opacity<1&&Wn(l,this.options.opacity)},_addTile:function(l,f){var _=this._getTilePos(l),b=this._tileCoordsToKey(l),R=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(R),this.createTile.length<2&&U(o(this._tileReady,this,l,null,R)),xt(R,_),this._tiles[b]={el:R,coords:l,current:!0},f.appendChild(R),this.fire("tileloadstart",{tile:R,coords:l})},_tileReady:function(l,f,_){f&&this.fire("tileerror",{error:f,tile:_,coords:l});var b=this._tileCoordsToKey(l);_=this._tiles[b],_&&(_.loaded=+new Date,this._map._fadeAnimated?(Wn(_.el,0),W(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),f||(Ot(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new me(this._wrapX?d(l.x,this._wrapX):l.x,this._wrapY?d(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new ot(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function I2(l){return new Fd(l)}var Bu=Fd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=w(this,f),f.detectRetina&&at.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var _=document.createElement("img");return Et(_,"load",o(this._tileOnLoad,this,f,_)),Et(_,"error",o(this._tileOnError,this,f,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var f={r:at.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=_),f["-y"]=_}return C(this._url,r(f,this.options))},_tileOnLoad:function(l,f){at.ielt9?setTimeout(o(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,_){var b=this.options.errorTileUrl;b&&f.getAttribute("src")!==b&&(f.src=b),l(_,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,_=this.options.zoomReverse,b=this.options.zoomOffset;return _&&(l=f-l),l+b},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=h,f.onerror=h,!f.complete)){f.src=V;var _=this._tiles[l].coords;Tn(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:_})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",V),Fd.prototype._removeTile.call(this,l)},_tileReady:function(l,f,_){if(!(!this._map||_&&_.getAttribute("src")===V))return Fd.prototype._tileReady.call(this,l,f,_)}});function bS(l,f){return new Bu(l,f)}var ES=Bu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var _=r({},this.defaultWmsParams);for(var b in f)b in this.options||(_[b]=f[b]);f=w(this,f);var R=f.detectRetina&&at.retina?2:1,B=this.getTileSize();_.width=B.x*R,_.height=B.y*R,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Bu.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),_=this._crs,b=lt(_.project(f[0]),_.project(f[1])),R=b.min,B=b.max,X=(this._wmsVersion>=1.3&&this._crs===Xn?[R.y,R.x,B.y,B.x]:[R.x,R.y,B.x,B.y]).join(","),oe=Bu.prototype.getTileUrl.call(this,l);return oe+E(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(l,f){return r(this.wmsParams,l),f||this.redraw(),this}});function A2(l,f){return new ES(l,f)}Bu.WMS=ES,bS.wms=A2;var To=yn.extend({options:{padding:.1},initialize:function(l){w(this,l),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var _=this._map.getZoomScale(f,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),R=this._map.project(this._center,f),B=b.multiplyBy(-_).add(R).subtract(this._map._getNewPixelOrigin(l,f));at.any3d?Di(this._container,B,_):xt(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),_=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new ot(_,_.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),TS=To.extend({options:{tolerance:0},getEvents:function(){var l=To.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){To.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Et(l,"mousemove",this._onMouseMove,this),Et(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Et(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Tn(this._container),vn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){To.prototype._update.call(this);var l=this._bounds,f=this._container,_=l.getSize(),b=at.retina?2:1;xt(f,l.min),f.width=b*_.x,f.height=b*_.y,f.style.width=_.x+"px",f.style.height=_.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){To.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[u(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,_=f.next,b=f.prev;_?_.prev=b:this._drawLast=b,b?b.next=_:this._drawFirst=_,delete l._order,delete this._layers[u(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),_=[],b,R;for(R=0;R<f.length;R++){if(b=Number(f[R]),isNaN(b))return;_.push(b)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var _=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)l=b.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var _,b,R,B,X=l._parts,oe=X.length,le=this._ctx;if(oe){for(le.beginPath(),_=0;_<oe;_++){for(b=0,R=X[_].length;b<R;b++)B=X[_][b],le[b?"lineTo":"moveTo"](B.x,B.y);f&&le.closePath()}this._fillStroke(le,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,_=this._ctx,b=Math.max(Math.round(l._radius),1),R=(Math.max(Math.round(l._radiusY),1)||b)/b;R!==1&&(_.save(),_.scale(1,R)),_.beginPath(),_.arc(f.x,f.y/R,b,0,Math.PI*2,!1),R!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,f){var _=f.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),_,b,R=this._drawFirst;R;R=R.next)_=R.layer,_.options.interactive&&_._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(b=_);this._fireEvent(b?[b]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(Nn(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var _,b,R=this._drawFirst;R;R=R.next)_=R.layer,_.options.interactive&&_._containsPoint(f)&&(b=_);b!==this._hoveredLayer&&(this._handleMouseOut(l),b&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([b],l,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,_){this._map._fireDOMEvent(f,_||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var _=f.next,b=f.prev;if(_)_.prev=b;else return;b?b.next=_:_&&(this._drawFirst=_),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var _=f.next,b=f.prev;if(b)b.next=_;else return;_?_.prev=b:b&&(this._drawLast=b),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function SS(l){return at.canvas?new TS(l):null}var $d=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),R2={_initContainer:function(){this._container=Wt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(To.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=$d("shape");Ot(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=$d("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[u(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;Tn(f),l.removeInteractiveTarget(f),delete this._layers[u(l)]},_updateStyle:function(l){var f=l._stroke,_=l._fill,b=l.options,R=l._container;R.stroked=!!b.stroke,R.filled=!!b.fill,b.stroke?(f||(f=l._stroke=$d("stroke")),R.appendChild(f),f.weight=b.weight+"px",f.color=b.color,f.opacity=b.opacity,b.dashArray?f.dashStyle=x(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=b.lineCap.replace("butt","flat"),f.joinstyle=b.lineJoin):f&&(R.removeChild(f),l._stroke=null),b.fill?(_||(_=l._fill=$d("fill")),R.appendChild(_),_.color=b.fillColor||b.color,_.opacity=b.fillOpacity):_&&(R.removeChild(_),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),_=Math.round(l._radius),b=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+_+","+b+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){go(l._container)},_bringToBack:function(l){la(l._container)}},Ap=at.vml?$d:ce,Bd=To.extend({_initContainer:function(){this._container=Ap("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ap("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tn(this._container),vn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){To.prototype._update.call(this);var l=this._bounds,f=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,_.setAttribute("width",f.x),_.setAttribute("height",f.y)),xt(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=Ap("path");l.options.className&&Ot(f,l.options.className),l.options.interactive&&Ot(f,"leaflet-interactive"),this._updateStyle(l),this._layers[u(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){Tn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[u(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,_=l.options;f&&(_.stroke?(f.setAttribute("stroke",_.color),f.setAttribute("stroke-opacity",_.opacity),f.setAttribute("stroke-width",_.weight),f.setAttribute("stroke-linecap",_.lineCap),f.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?f.setAttribute("stroke-dasharray",_.dashArray):f.removeAttribute("stroke-dasharray"),_.dashOffset?f.setAttribute("stroke-dashoffset",_.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),_.fill?(f.setAttribute("fill",_.fillColor||_.color),f.setAttribute("fill-opacity",_.fillOpacity),f.setAttribute("fill-rule",_.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,ge(l._parts,f))},_updateCircle:function(l){var f=l._point,_=Math.max(Math.round(l._radius),1),b=Math.max(Math.round(l._radiusY),1)||_,R="a"+_+","+b+" 0 1,0 ",B=l._empty()?"M0 0":"M"+(f.x-_)+","+f.y+R+_*2+",0 "+R+-_*2+",0 ";this._setPath(l,B)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){go(l._path)},_bringToBack:function(l){la(l._path)}});at.vml&&Bd.include(R2);function CS(l){return at.svg||at.vml?new Bd(l):null}Ut.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&SS(l)||CS(l)}});var xS=Fu.extend({initialize:function(l,f){Fu.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=Ye(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function P2(l,f){return new xS(l,f)}Bd.create=Ap,Bd.pointsToPath=ge,Eo.geometryToLayer=bp,Eo.coordsToLatLng=Bv,Eo.coordsToLatLngs=Ep,Eo.latLngToCoords=Uv,Eo.latLngsToCoords=Tp,Eo.getFeature=$u,Eo.asFeature=Sp,Ut.mergeOptions({boxZoom:!0});var IS=xr.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){vn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),oi(),Td(),this._startPoint=this._map.mouseEventToContainerPoint(l),Et(document,{contextmenu:Cr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Wt("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new ot(this._point,this._startPoint),_=f.getSize();xt(this._box,f.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(Tn(this._box),Nn(this._container,"leaflet-crosshair")),ai(),Sd(),vn(document,{contextmenu:Cr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var f=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",IS),Ut.mergeOptions({doubleClickZoom:!0});var AS=xr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,_=f.getZoom(),b=f.options.zoomDelta,R=l.originalEvent.shiftKey?_-b:_+b;f.options.doubleClickZoom==="center"?f.setZoom(R):f.setZoomAround(l.containerPoint,R)}});Ut.addInitHook("addHandler","doubleClickZoom",AS),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var RS=xr.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new li(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Nn(this._map._container,"leaflet-grab"),Nn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Ye(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),_=this._initialWorldOffset,b=this._draggable._newPos.x,R=(b-f+_)%l+f-_,B=(b+f+_)%l-f-_,X=Math.abs(R+_)<Math.abs(B+_)?R:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(l){var f=this._map,_=f.options,b=!_.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),b)f.fire("moveend");else{this._prunePositions(+new Date);var R=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,X=_.easeLinearity,oe=R.multiplyBy(X/B),le=oe.distanceTo([0,0]),Ce=Math.min(_.inertiaMaxSpeed,le),qe=oe.multiplyBy(Ce/le),Tt=Ce/(_.inertiaDeceleration*X),$t=qe.multiplyBy(-Tt/2).round();!$t.x&&!$t.y?f.fire("moveend"):($t=f._limitOffset($t,f.options.maxBounds),U(function(){f.panBy($t,{duration:Tt,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});Ut.addInitHook("addHandler","dragging",RS),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var PS=xr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Et(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),vn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,_=l.scrollTop||f.scrollTop,b=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(b,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},_=this.keyCodes,b,R;for(b=0,R=_.left.length;b<R;b++)f[_.left[b]]=[-1*l,0];for(b=0,R=_.right.length;b<R;b++)f[_.right[b]]=[l,0];for(b=0,R=_.down.length;b<R;b++)f[_.down[b]]=[0,l];for(b=0,R=_.up.length;b<R;b++)f[_.up[b]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},_=this.keyCodes,b,R;for(b=0,R=_.zoomIn.length;b<R;b++)f[_.zoomIn[b]]=l;for(b=0,R=_.zoomOut.length;b<R;b++)f[_.zoomOut[b]]=-l},_addHooks:function(){Et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){vn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,_=this._map,b;if(f in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(b=this._panKeys[f],l.shiftKey&&(b=Ne(b).multiplyBy(3)),_.options.maxBounds&&(b=_._limitOffset(Ne(b),_.options.maxBounds)),_.options.worldCopyJump){var R=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(b)));_.panTo(R)}else _.panBy(b)}else if(f in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;Cr(l)}}});Ut.addInitHook("addHandler","keyboard",PS),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var kS=xr.extend({addHooks:function(){Et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){vn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=fp(l),_=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var b=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),b),Cr(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),R=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,B=_?Math.ceil(R/_)*_:R,X=l._limitZoom(f+(this._delta>0?B:-B))-f;this._delta=0,this._startTime=null,X&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+X):l.setZoomAround(this._lastMousePos,f+X))}});Ut.addInitHook("addHandler","scrollWheelZoom",kS);var k2=600;Ut.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15});var OS=xr.extend({addHooks:function(){Et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){vn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new me(f.clientX,f.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Et(document,"touchend",Un),Et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),k2),Et(document,"touchend touchcancel contextmenu",this._cancel,this),Et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){vn(document,"touchend",Un),vn(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),vn(document,"touchend touchcancel contextmenu",this._cancel,this),vn(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new me(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});_._simulated=!0,f.target.dispatchEvent(_)}});Ut.addInitHook("addHandler","tapHold",OS),Ut.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0});var LS=xr.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Nn(this._map._container,"leaflet-touch-zoom"),vn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var _=f.mouseEventToContainerPoint(l.touches[0]),b=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(_.add(b)._divideBy(2))),this._startDist=_.distanceTo(b),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Et(document,"touchmove",this._onTouchMove,this),Et(document,"touchend touchcancel",this._onTouchEnd,this),Un(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,_=f.mouseEventToContainerPoint(l.touches[0]),b=f.mouseEventToContainerPoint(l.touches[1]),R=_.distanceTo(b)/this._startDist;if(this._zoom=f.getScaleZoom(R,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&R<1||this._zoom>f.getMaxZoom()&&R>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,R===1)return}else{var B=_._add(b)._divideBy(2)._subtract(this._centerPoint);if(R===1&&B.x===0&&B.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var X=o(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(X,this,!0),Un(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),vn(document,"touchmove",this._onTouchMove,this),vn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ut.addInitHook("addHandler","touchZoom",LS),Ut.BoxZoom=IS,Ut.DoubleClickZoom=AS,Ut.Drag=RS,Ut.Keyboard=PS,Ut.ScrollWheelZoom=kS,Ut.TapHold=OS,Ut.TouchZoom=LS,n.Bounds=ot,n.Browser=at,n.CRS=ee,n.Canvas=TS,n.Circle=$v,n.CircleMarker=wp,n.Class=Pe,n.Control=or,n.DivIcon=wS,n.DivOverlay=Vi,n.DomEvent=hp,n.DomUtil=cp,n.Draggable=li,n.Evented=_e,n.FeatureGroup=Yn,n.GeoJSON=Eo,n.GridLayer=Fd,n.Handler=xr,n.Icon=Ni,n.ImageOverlay=Cp,n.LatLng=dt,n.LatLngBounds=pt,n.Layer=yn,n.LayerGroup=zn,n.LineUtil=H,n.Map=Ut,n.Marker=yp,n.Mixin=_l,n.Path=pa,n.Point=me,n.PolyUtil=Mu,n.Polygon=Fu,n.Polyline=bo,n.Popup=xp,n.PosAnimation=kd,n.Projection=Me,n.Rectangle=xS,n.Renderer=To,n.SVG=Bd,n.SVGOverlay=yS,n.TileLayer=Bu,n.Tooltip=Ip,n.Transformation=Ue,n.Util=q,n.VideoOverlay=vS,n.bind=o,n.bounds=lt,n.canvas=SS,n.circle=_2,n.circleMarker=g2,n.control=Gs,n.divIcon=x2,n.extend=r,n.featureGroup=Vu,n.geoJSON=_S,n.geoJson=w2,n.gridLayer=I2,n.icon=p2,n.imageOverlay=b2,n.latLng=we,n.latLngBounds=Ye,n.layerGroup=ha,n.map=Ru,n.marker=m2,n.point=Ne,n.polygon=y2,n.polyline=v2,n.popup=S2,n.rectangle=P2,n.setOptions=w,n.stamp=u,n.svg=CS,n.svgOverlay=T2,n.tileLayer=bS,n.tooltip=C2,n.transformation=j,n.version=s,n.videoOverlay=E2;var O2=window.L;n.noConflict=function(){return window.L=O2,this},window.L=n})}(vf,vf.exports)),vf.exports}var kV=Xie();const r0=Yie(kV),Jie=z2({__proto__:null,default:r0},[kV]),eoe={__name:"HotelMap",props:{lat:{type:Number,required:!0},lng:{type:Number,required:!0},name:{type:String,default:""}},setup(t){return delete r0.Icon.Default.prototype._getIconUrl,r0.Icon.Default.mergeOptions({iconRetinaUrl:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",import.meta.url).href,iconUrl:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",import.meta.url).href,shadowUrl:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",import.meta.url).href}),(e,n)=>($(),Y(m(Mie),{zoom:15,center:[t.lat,t.lng],style:{height:"400px",width:"100%","border-radius":"12px",overflow:"hidden"}},{default:O(()=>[M(m(Zie),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),M(m(Uie),{"lat-lng":[t.lat,t.lng]},{default:O(()=>[M(m(Gie),null,{default:O(()=>[ae(Ie(t.name),1)]),_:1})]),_:1},8,["lat-lng"])]),_:1},8,["center"]))}},OV=/^[a-z0-9]+(-[a-z0-9]+)*$/,Av=(t,e,n,s="")=>{const r=t.split(":");if(t.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;s=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const a=r.pop(),u=r.pop(),c={provider:r.length>0?r[0]:s,prefix:u,name:a};return e&&!Rm(c)?null:c}const i=r[0],o=i.split("-");if(o.length>1){const a={provider:s,prefix:o.shift(),name:o.join("-")};return e&&!Rm(a)?null:a}if(n&&s===""){const a={provider:s,prefix:"",name:i};return e&&!Rm(a,n)?null:a}return null},Rm=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1,LV=Object.freeze({left:0,top:0,width:16,height:16}),Gg=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Rv=Object.freeze({...LV,...Gg}),i0=Object.freeze({...Rv,body:"",hidden:!1});function toe(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const s=((t.rotate||0)+(e.rotate||0))%4;return s&&(n.rotate=s),n}function hR(t,e){const n=toe(t,e);for(const s in i0)s in Gg?s in t&&!(s in n)&&(n[s]=Gg[s]):s in e?n[s]=e[s]:s in t&&(n[s]=t[s]);return n}function noe(t,e){const n=t.icons,s=t.aliases||Object.create(null),r=Object.create(null);function i(o){if(n[o])return r[o]=[];if(!(o in r)){r[o]=null;const a=s[o]&&s[o].parent,u=a&&i(a);u&&(r[o]=[a].concat(u))}return r[o]}return Object.keys(n).concat(Object.keys(s)).forEach(i),r}function soe(t,e,n){const s=t.icons,r=t.aliases||Object.create(null);let i={};function o(a){i=hR(s[a]||r[a],i)}return o(e),n.forEach(o),hR(t,i)}function DV(t,e){const n=[];if(typeof t!="object"||typeof t.icons!="object")return n;t.not_found instanceof Array&&t.not_found.forEach(r=>{e(r,null),n.push(r)});const s=noe(t);for(const r in s){const i=s[r];i&&(e(r,soe(t,r,i)),n.push(r))}return n}const roe={provider:"",aliases:{},not_found:{},...LV};function Zy(t,e){for(const n in e)if(n in t&&typeof t[n]!=typeof e[n])return!1;return!0}function MV(t){if(typeof t!="object"||t===null)return null;const e=t;if(typeof e.prefix!="string"||!t.icons||typeof t.icons!="object"||!Zy(t,roe))return null;const n=e.icons;for(const r in n){const i=n[r];if(!r||typeof i.body!="string"||!Zy(i,i0))return null}const s=e.aliases||Object.create(null);for(const r in s){const i=s[r],o=i.parent;if(!r||typeof o!="string"||!n[o]&&!s[o]||!Zy(i,i0))return null}return e}const pR=Object.create(null);function ioe(t,e){return{provider:t,prefix:e,icons:Object.create(null),missing:new Set}}function Bc(t,e){const n=pR[t]||(pR[t]=Object.create(null));return n[e]||(n[e]=ioe(t,e))}function NV(t,e){return MV(e)?DV(e,(n,s)=>{s?t.icons[n]=s:t.missing.add(n)}):[]}function ooe(t,e,n){try{if(typeof n.body=="string")return t.icons[e]={...n},!0}catch{}return!1}let bh=!1;function VV(t){return typeof t=="boolean"&&(bh=t),bh}function aoe(t){const e=typeof t=="string"?Av(t,!0,bh):t;if(e){const n=Bc(e.provider,e.prefix),s=e.name;return n.icons[s]||(n.missing.has(s)?null:void 0)}}function loe(t,e){const n=Av(t,!0,bh);if(!n)return!1;const s=Bc(n.provider,n.prefix);return e?ooe(s,n.name,e):(s.missing.add(n.name),!0)}function uoe(t,e){if(typeof t!="object")return!1;if(typeof e!="string"&&(e=t.provider||""),bh&&!e&&!t.prefix){let r=!1;return MV(t)&&(t.prefix="",DV(t,(i,o)=>{loe(i,o)&&(r=!0)})),r}const n=t.prefix;if(!Rm({prefix:n,name:"a"}))return!1;const s=Bc(e,n);return!!NV(s,t)}const FV=Object.freeze({width:null,height:null}),$V=Object.freeze({...FV,...Gg}),coe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,doe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function mR(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const s=t.split(coe);if(s===null||!s.length)return t;const r=[];let i=s.shift(),o=doe.test(i);for(;;){if(o){const a=parseFloat(i);isNaN(a)?r.push(i):r.push(Math.ceil(a*e*n)/n)}else r.push(i);if(i=s.shift(),i===void 0)return r.join("");o=!o}}function foe(t,e="defs"){let n="";const s=t.indexOf("<"+e);for(;s>=0;){const r=t.indexOf(">",s),i=t.indexOf("</"+e);if(r===-1||i===-1)break;const o=t.indexOf(">",i);if(o===-1)break;n+=t.slice(r+1,i).trim(),t=t.slice(0,s).trim()+t.slice(o+1)}return{defs:n,content:t}}function hoe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function poe(t,e,n){const s=foe(t);return hoe(s.defs,e+s.content+n)}const moe=t=>t==="unset"||t==="undefined"||t==="none";function goe(t,e){const n={...Rv,...t},s={...$V,...e},r={left:n.left,top:n.top,width:n.width,height:n.height};let i=n.body;[n,s].forEach(w=>{const E=[],T=w.hFlip,C=w.vFlip;let x=w.rotate;T?C?x+=2:(E.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),E.push("scale(-1 1)"),r.top=r.left=0):C&&(E.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),E.push("scale(1 -1)"),r.top=r.left=0);let I;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:I=r.height/2+r.top,E.unshift("rotate(90 "+I.toString()+" "+I.toString()+")");break;case 2:E.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:I=r.width/2+r.left,E.unshift("rotate(-90 "+I.toString()+" "+I.toString()+")");break}x%2===1&&(r.left!==r.top&&(I=r.left,r.left=r.top,r.top=I),r.width!==r.height&&(I=r.width,r.width=r.height,r.height=I)),E.length&&(i=poe(i,'<g transform="'+E.join(" ")+'">',"</g>"))});const o=s.width,a=s.height,u=r.width,c=r.height;let d,h;o===null?(h=a===null?"1em":a==="auto"?c:a,d=mR(h,u/c)):(d=o==="auto"?u:o,h=a===null?mR(d,c/u):a==="auto"?c:a);const g={},v=(w,E)=>{moe(E)||(g[w]=E.toString())};v("width",d),v("height",h);const y=[r.left,r.top,u,c];return g.viewBox=y.join(" "),{attributes:g,viewBox:y,body:i}}const _oe=/\sid="(\S+)"/g,voe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let yoe=0;function woe(t,e=voe){const n=[];let s;for(;s=_oe.exec(t);)n.push(s[1]);if(!n.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(i=>{const o=typeof e=="function"?e(i):e+(yoe++).toString(),a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}const o0=Object.create(null);function boe(t,e){o0[t]=e}function a0(t){return o0[t]||o0[""]}function uS(t){let e;if(typeof t.resources=="string")e=[t.resources];else if(e=t.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:t.path||"/",maxURL:t.maxURL||500,rotate:t.rotate||750,timeout:t.timeout||5e3,random:t.random===!0,index:t.index||0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const cS=Object.create(null),Jd=["https://api.simplesvg.com","https://api.unisvg.com"],Pm=[];for(;Jd.length>0;)Jd.length===1||Math.random()>.5?Pm.push(Jd.shift()):Pm.push(Jd.pop());cS[""]=uS({resources:["https://api.iconify.design"].concat(Pm)});function Eoe(t,e){const n=uS(e);return n===null?!1:(cS[t]=n,!0)}function dS(t){return cS[t]}const Toe=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}};let gR=Toe();function Soe(t,e){const n=dS(t);if(!n)return 0;let s;if(!n.maxURL)s=0;else{let r=0;n.resources.forEach(o=>{r=Math.max(r,o.length)});const i=e+".json?icons=";s=n.maxURL-r-n.path.length-i.length}return s}function Coe(t){return t===404}const xoe=(t,e,n)=>{const s=[],r=Soe(t,e),i="icons";let o={type:i,provider:t,prefix:e,icons:[]},a=0;return n.forEach((u,c)=>{a+=u.length+1,a>=r&&c>0&&(s.push(o),o={type:i,provider:t,prefix:e,icons:[]},a=u.length),o.icons.push(u)}),s.push(o),s};function Ioe(t){if(typeof t=="string"){const e=dS(t);if(e)return e.path}return"/"}const Aoe=(t,e,n)=>{if(!gR){n("abort",424);return}let s=Ioe(e.provider);switch(e.type){case"icons":{const i=e.prefix,a=e.icons.join(","),u=new URLSearchParams({icons:a});s+=i+".json?"+u.toString();break}case"custom":{const i=e.uri;s+=i.slice(0,1)==="/"?i.slice(1):i;break}default:n("abort",400);return}let r=503;gR(t+s).then(i=>{const o=i.status;if(o!==200){setTimeout(()=>{n(Coe(o)?"abort":"next",o)});return}return r=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?n("abort",i):n("next",r)});return}setTimeout(()=>{n("success",i)})}).catch(()=>{n("next",r)})},Roe={prepare:xoe,send:Aoe};function Poe(t){const e={loaded:[],missing:[],pending:[]},n=Object.create(null);t.sort((r,i)=>r.provider!==i.provider?r.provider.localeCompare(i.provider):r.prefix!==i.prefix?r.prefix.localeCompare(i.prefix):r.name.localeCompare(i.name));let s={provider:"",prefix:"",name:""};return t.forEach(r=>{if(s.name===r.name&&s.prefix===r.prefix&&s.provider===r.provider)return;s=r;const i=r.provider,o=r.prefix,a=r.name,u=n[i]||(n[i]=Object.create(null)),c=u[o]||(u[o]=Bc(i,o));let d;a in c.icons?d=e.loaded:o===""||c.missing.has(a)?d=e.missing:d=e.pending;const h={provider:i,prefix:o,name:a};d.push(h)}),e}function BV(t,e){t.forEach(n=>{const s=n.loaderCallbacks;s&&(n.loaderCallbacks=s.filter(r=>r.id!==e))})}function koe(t){t.pendingCallbacksFlag||(t.pendingCallbacksFlag=!0,setTimeout(()=>{t.pendingCallbacksFlag=!1;const e=t.loaderCallbacks?t.loaderCallbacks.slice(0):[];if(!e.length)return;let n=!1;const s=t.provider,r=t.prefix;e.forEach(i=>{const o=i.icons,a=o.pending.length;o.pending=o.pending.filter(u=>{if(u.prefix!==r)return!0;const c=u.name;if(t.icons[c])o.loaded.push({provider:s,prefix:r,name:c});else if(t.missing.has(c))o.missing.push({provider:s,prefix:r,name:c});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||BV([t],i.id),i.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),i.abort))})}))}let Ooe=0;function Loe(t,e,n){const s=Ooe++,r=BV.bind(null,n,s);if(!e.pending.length)return r;const i={id:s,icons:e,callback:t,abort:r};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(i)}),r}function Doe(t,e=!0,n=!1){const s=[];return t.forEach(r=>{const i=typeof r=="string"?Av(r,e,n):r;i&&s.push(i)}),s}var Moe={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Noe(t,e,n,s){const r=t.resources.length,i=t.random?Math.floor(Math.random()*r):t.index;let o;if(t.random){let F=t.resources.slice(0);for(o=[];F.length>1;){const k=Math.floor(Math.random()*F.length);o.push(F[k]),F=F.slice(0,k).concat(F.slice(k+1))}o=o.concat(F)}else o=t.resources.slice(i).concat(t.resources.slice(0,i));const a=Date.now();let u="pending",c=0,d,h=null,g=[],v=[];typeof s=="function"&&v.push(s);function y(){h&&(clearTimeout(h),h=null)}function w(){u==="pending"&&(u="aborted"),y(),g.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),g=[]}function E(F,k){k&&(v=[]),typeof F=="function"&&v.push(F)}function T(){return{startTime:a,payload:e,status:u,queriesSent:c,queriesPending:g.length,subscribe:E,abort:w}}function C(){u="failed",v.forEach(F=>{F(void 0,d)})}function x(){g.forEach(F=>{F.status==="pending"&&(F.status="aborted")}),g=[]}function I(F,k,P){const A=k!=="success";switch(g=g.filter(N=>N!==F),u){case"pending":break;case"failed":if(A||!t.dataAfterTimeout)return;break;default:return}if(k==="abort"){d=P,C();return}if(A){d=P,g.length||(o.length?V():C());return}if(y(),x(),!t.random){const N=t.resources.indexOf(F.resource);N!==-1&&N!==t.index&&(t.index=N)}u="completed",v.forEach(N=>{N(P)})}function V(){if(u!=="pending")return;y();const F=o.shift();if(F===void 0){if(g.length){h=setTimeout(()=>{y(),u==="pending"&&(x(),C())},t.timeout);return}C();return}const k={status:"pending",resource:F,callback:(P,A)=>{I(k,P,A)}};g.push(k),c++,h=setTimeout(V,t.rotate),n(F,e,k.callback)}return setTimeout(V),T}function UV(t){const e={...Moe,...t};let n=[];function s(){n=n.filter(a=>a().status==="pending")}function r(a,u,c){const d=Noe(e,a,u,(h,g)=>{s(),c&&c(h,g)});return n.push(d),d}function i(a){return n.find(u=>a(u))||null}return{query:r,find:i,setIndex:a=>{e.index=a},getIndex:()=>e.index,cleanup:s}}function _R(){}const Yy=Object.create(null);function Voe(t){if(!Yy[t]){const e=dS(t);if(!e)return;const n=UV(e),s={config:e,redundancy:n};Yy[t]=s}return Yy[t]}function Foe(t,e,n){let s,r;if(typeof t=="string"){const i=a0(t);if(!i)return n(void 0,424),_R;r=i.send;const o=Voe(t);o&&(s=o.redundancy)}else{const i=uS(t);if(i){s=UV(i);const o=t.resources?t.resources[0]:"",a=a0(o);a&&(r=a.send)}}return!s||!r?(n(void 0,424),_R):s.query(e,r,n)().abort}function vR(){}function $oe(t){t.iconsLoaderFlag||(t.iconsLoaderFlag=!0,setTimeout(()=>{t.iconsLoaderFlag=!1,koe(t)}))}function Boe(t){const e=[],n=[];return t.forEach(s=>{(s.match(OV)?e:n).push(s)}),{valid:e,invalid:n}}function ef(t,e,n){function s(){const r=t.pendingIcons;e.forEach(i=>{r&&r.delete(i),t.icons[i]||t.missing.add(i)})}if(n&&typeof n=="object")try{if(!NV(t,n).length){s();return}}catch(r){console.error(r)}s(),$oe(t)}function yR(t,e){t instanceof Promise?t.then(n=>{e(n)}).catch(()=>{e(null)}):e(t)}function Uoe(t,e){t.iconsToLoad?t.iconsToLoad=t.iconsToLoad.concat(e).sort():t.iconsToLoad=e,t.iconsQueueFlag||(t.iconsQueueFlag=!0,setTimeout(()=>{t.iconsQueueFlag=!1;const{provider:n,prefix:s}=t,r=t.iconsToLoad;if(delete t.iconsToLoad,!r||!r.length)return;const i=t.loadIcon;if(t.loadIcons&&(r.length>1||!i)){yR(t.loadIcons(r,s,n),d=>{ef(t,r,d)});return}if(i){r.forEach(d=>{const h=i(d,s,n);yR(h,g=>{const v=g?{prefix:s,icons:{[d]:g}}:null;ef(t,[d],v)})});return}const{valid:o,invalid:a}=Boe(r);if(a.length&&ef(t,a,null),!o.length)return;const u=s.match(OV)?a0(n):null;if(!u){ef(t,o,null);return}u.prepare(n,s,o).forEach(d=>{Foe(n,d,h=>{ef(t,d.icons,h)})})}))}const zoe=(t,e)=>{const n=Doe(t,!0,VV()),s=Poe(n);if(!s.pending.length){let u=!0;return e&&setTimeout(()=>{u&&e(s.loaded,s.missing,s.pending,vR)}),()=>{u=!1}}const r=Object.create(null),i=[];let o,a;return s.pending.forEach(u=>{const{provider:c,prefix:d}=u;if(d===a&&c===o)return;o=c,a=d,i.push(Bc(c,d));const h=r[c]||(r[c]=Object.create(null));h[d]||(h[d]=[])}),s.pending.forEach(u=>{const{provider:c,prefix:d,name:h}=u,g=Bc(c,d),v=g.pendingIcons||(g.pendingIcons=new Set);v.has(h)||(v.add(h),r[c][d].push(h))}),i.forEach(u=>{const c=r[u.provider][u.prefix];c.length&&Uoe(u,c)}),e?Loe(e,s,i):vR};function joe(t,e){const n={...t};for(const s in e){const r=e[s],i=typeof r;s in FV?(r===null||r&&(i==="string"||i==="number"))&&(n[s]=r):i===typeof n[s]&&(n[s]=s==="rotate"?r%4:r)}return n}const Hoe=/[\s,]+/;function qoe(t,e){e.split(Hoe).forEach(n=>{switch(n.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function Woe(t,e=0){const n=t.replace(/^-?[0-9.]*/,"");function s(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(t);return isNaN(r)?0:s(r)}else if(n!==t){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let i=parseFloat(t.slice(0,t.length-n.length));return isNaN(i)?0:(i=i/r,i%1===0?s(i):0)}}return e}function Goe(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in e)n+=" "+s+'="'+e[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function Koe(t){return t.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Zoe(t){return"data:image/svg+xml,"+Koe(t)}function Yoe(t){return'url("'+Zoe(t)+'")'}const wR={...$V,inline:!1},Qoe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Xoe={display:"inline-block"},l0={backgroundColor:"currentColor"},zV={backgroundColor:"transparent"},bR={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},ER={webkitMask:l0,mask:l0,background:zV};for(const t in ER){const e=ER[t];for(const n in bR)e[t+n]=bR[n]}const km={};["horizontal","vertical"].forEach(t=>{const e=t.slice(0,1)+"Flip";km[t+"-flip"]=e,km[t.slice(0,1)+"-flip"]=e,km[t+"Flip"]=e});function TR(t){return t+(t.match(/^[-0-9.]+$/)?"px":"")}const SR=(t,e)=>{const n=joe(wR,e),s={...Qoe},r=e.mode||"svg",i={},o=e.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let w in e){const E=e[w];if(E!==void 0)switch(w){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[w]=E===!0||E==="true"||E===1;break;case"flip":typeof E=="string"&&qoe(n,E);break;case"color":i.color=E;break;case"rotate":typeof E=="string"?n[w]=Woe(E):typeof E=="number"&&(n[w]=E);break;case"ariaHidden":case"aria-hidden":E!==!0&&E!=="true"&&delete s["aria-hidden"];break;default:{const T=km[w];T?(E===!0||E==="true"||E===1)&&(n[T]=!0):wR[w]===void 0&&(s[w]=E)}}}const u=goe(t,n),c=u.attributes;if(n.inline&&(i.verticalAlign="-0.125em"),r==="svg"){s.style={...i,...a},Object.assign(s,c);let w=0,E=e.id;return typeof E=="string"&&(E=E.replace(/-/g,"_")),s.innerHTML=woe(u.body,E?()=>E+"ID"+w++:"iconifyVue"),Ft("svg",s)}const{body:d,width:h,height:g}=t,v=r==="mask"||(r==="bg"?!1:d.indexOf("currentColor")!==-1),y=Goe(d,{...c,width:h+"",height:g+""});return s.style={...i,"--svg":Yoe(y),width:TR(c.width),height:TR(c.height),...Xoe,...v?l0:zV,...a},Ft("span",s)};VV(!0);boe("",Roe);if(typeof document<"u"&&typeof window<"u"){const t=window;if(t.IconifyPreload!==void 0){const e=t.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(s=>{try{(typeof s!="object"||s===null||s instanceof Array||typeof s.icons!="object"||typeof s.prefix!="string"||!uoe(s))&&console.error(n)}catch{console.error(n)}})}if(t.IconifyProviders!==void 0){const e=t.IconifyProviders;if(typeof e=="object"&&e!==null)for(let n in e){const s="IconifyProviders["+n+"] is invalid.";try{const r=e[n];if(typeof r!="object"||!r||r.resources===void 0)continue;Eoe(n,r)||console.error(s)}catch{console.error(s)}}}}const Joe={...Rv,body:""},eae=K((t,{emit:e})=>{const n=Z(null);function s(){var c,d;n.value&&((d=(c=n.value).abort)==null||d.call(c),n.value=null)}const r=Z(!!t.ssr),i=Z(""),o=Cs(null);function a(){const c=t.icon;if(typeof c=="object"&&c!==null&&typeof c.body=="string")return i.value="",{data:c};let d;if(typeof c!="string"||(d=Av(c,!1,!0))===null)return null;let h=aoe(d);if(!h){const y=n.value;return(!y||y.name!==c)&&(h===null?n.value={name:c}:n.value={name:c,abort:zoe([d],u)}),null}s(),i.value!==c&&(i.value=c,Pt(()=>{e("load",c)}));const g=t.customise;if(g){h=Object.assign({},h);const y=g(h.body,d.name,d.prefix,d.provider);typeof y=="string"&&(h.body=y)}const v=["iconify"];return d.prefix!==""&&v.push("iconify--"+d.prefix),d.provider!==""&&v.push("iconify--"+d.provider),{data:h,classes:v}}function u(){var d;const c=a();c?c.data!==((d=o.value)==null?void 0:d.data)&&(o.value=c):o.value=null}return r.value?u():bt(()=>{r.value=!0,u()}),ct(()=>t.icon,u),Is(s),()=>{const c=o.value;if(!c)return SR(Joe,t);let d=t;return c.classes&&(d={...t,class:c.classes.join(" ")}),SR({...Rv,...c.data},d)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),tae={key:0,class:"border-t pt-8 mt-8"},nae={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-3 text-sm"},sae={class:"text-gray-700"},rae="mdi:check-circle-outline",iae=K({__name:"AmenitiesList",props:{amenities:{}},setup(t){const e=t,n=Q(()=>e.amenities??[]),s={"Free Wi-Fi":"mdi:wifi","Free breakfast":"mdi:coffee-outline","Free parking":"mdi:parking","24hr front desk":"mdi:desk","Swimming pool":"mdi:pool","Air conditioning":"mdi:air-conditioner","Fitness center":"mdi:dumbbell","Room service":"mdi:room-service-outline","Tea/Coffee maker":"mdi:coffee-maker-outline",Restaurant:"mdi:silverware-fork-knife",Bar:"mdi:glass-cocktail",Spa:"mdi:spa-outline","Non-smoking rooms":"mdi:smoke-off","Pet friendly":"mdi:dog","Paid breakfast":"mdi:coffee-outline","Paid parking":"mdi:parking","Business center":"mdi:briefcase-outline","Child friendly":"mdi:human-baby-changing-table",Laundry:"mdi:washing-machine"};return(r,i)=>n.value.length?($(),ie("div",tae,[i[0]||(i[0]=z("h2",{class:"text-xl font-semibold mb-4"},"Amenities",-1)),z("div",nae,[($(!0),ie(Ke,null,jt(n.value,o=>($(),ie("div",{key:o,class:"flex items-center space-x-2"},[M(m(eae),{icon:s[o]||rae,class:"text-green-700 text-lg flex-shrink-0"},null,8,["icon"]),z("span",sae,Ie(o),1)]))),128))])])):Ht("",!0)}}),oae=K({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(M3),fe(n.value,{class:m(Fe)("w-9 h-9 flex items-center justify-center",e.class)}),{default:O(()=>[J(s.$slots,"default",{},()=>[M(m(Ok))])]),_:3},16,["class"]))}}),aae=K({__name:"PaginationFirst",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(F3),on(un(n.value)),{default:O(()=>[M(m(Zt),{class:vt(m(Fe)("w-9 h-9 p-0",e.class)),variant:"outline"},{default:O(()=>[J(s.$slots,"default",{},()=>[M(m(H6))])]),_:3},8,["class"])]),_:3},16))}}),lae=K({__name:"PaginationLast",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m($3),on(un(n.value)),{default:O(()=>[M(m(Zt),{class:vt(m(Fe)("w-9 h-9 p-0",e.class)),variant:"outline"},{default:O(()=>[J(s.$slots,"default",{},()=>[M(m(q6))])]),_:3},8,["class"])]),_:3},16))}}),uae=K({__name:"PaginationNext",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(H3),on(un(n.value)),{default:O(()=>[M(m(Zt),{class:vt(m(Fe)("w-9 h-9 p-0",e.class)),variant:"outline"},{default:O(()=>[J(s.$slots,"default",{},()=>[M(m(z6))])]),_:3},8,["class"])]),_:3},16))}}),cae=K({__name:"PaginationPrev",props:{asChild:{type:Boolean,default:!0},as:{},class:{}},setup(t){const e=t,n=Q(()=>{const{class:s,...r}=e;return r});return(s,r)=>($(),Y(m(q3),on(un(n.value)),{default:O(()=>[M(m(Zt),{class:vt(m(Fe)("w-9 h-9 p-0",e.class)),variant:"outline"},{default:O(()=>[J(s.$slots,"default",{},()=>[M(m(U6))])]),_:3},8,["class"])]),_:3},16))}}),dae={id:"hotel-reviews",class:"border-t pt-12 mt-12 max-w-screen-2xl mx-auto px-4"},fae={class:"flex items-start justify-between mb-8"},hae={class:"text-5xl font-semibold leading-none"},pae={class:"text-lg font-medium -mt-1"},mae={class:"text-sm text-gray-500"},gae={key:0},_ae={key:0,class:"text-center py-20"},vae={class:"space-y-8"},yae={class:"text-gray-800"},wae={class:"text-xs text-gray-500"},Qy=5,bae=K({__name:"ReviewsSection",setup(t){const e=ao(),n=Q(()=>e.params.id),s=Z([]),r=Z(!0);async function i(d){r.value=!0;const h=Ya(tr(rn,"reviews"),zo("hotelId","==",d)),g=await ei(h);s.value=g.docs.map(v=>({id:v.id,...v.data()})),r.value=!1}bt(()=>{n.value&&i(n.value)}),ct(n,d=>{d&&i(d)});function o(d){const h=(d-1)*Qy;return s.value.slice(h,h+Qy)}const a=Q(()=>s.value.length===0?0:s.value.reduce((h,g)=>h+(g.rating||0),0)/s.value.length),u=Q(()=>{const d=a.value;return d>=4?"Very good":d>=3?"Good":"Review"});function c(d){return d.toDate().toLocaleDateString()}return(d,h)=>($(),ie("section",dae,[z("div",fae,[z("div",null,[z("p",hae,Ie(a.value.toFixed(1)),1),z("p",pae,Ie(u.value),1),z("p",mae,[ae(Ie(s.value.length)+" verified review",1),s.value.length!==1?($(),ie("span",gae,"s")):Ht("",!0)])]),M(m(p_),{to:{name:m(eO),params:{hotelId:n.value}},class:"mt-2 bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition"},{default:O(()=>h[0]||(h[0]=[ae(" Give your review ")])),_:1},8,["to"])]),r.value?($(),ie("div",_ae," Loading reviews ")):($(),Y(m(V3),{key:1,"items-per-page":Qy,total:s.value.length,"default-page":1,"sibling-count":1,"show-edges":"",class:"space-y-8"},{default:O(({page:g})=>[z("ul",vae,[($(!0),ie(Ke,null,jt(o(g),v=>($(),ie("li",{key:v.id,class:"flex flex-col gap-2 border-b pb-6"},[z("p",yae,Ie(v.text),1),z("p",wae," by "+Ie(v.userId)+"  "+Ie(c(v.createdAt)),1)]))),128))]),M(m(z3),{class:"flex items-center gap-1 justify-center mt-6"},{default:O(({items:v})=>[M(m(aae)),M(m(cae)),($(!0),ie(Ke,null,jt(v,(y,w)=>($(),ie(Ke,{key:w},[y.type==="page"?($(),Y(m(j3),{key:0,value:y.value,"as-child":""},{default:O(()=>[M(m(Zt),{class:"w-9 h-9 p-0",variant:y.value===g?"default":"outline"},{default:O(()=>[ae(Ie(y.value),1)]),_:2},1032,["variant"])]),_:2},1032,["value"])):($(),Y(m(oae),{key:1,index:w},null,8,["index"]))],64))),128)),M(m(uae)),M(m(lae))]),_:2},1024)]),_:1},8,["total"]))]))}}),Eae={class:"max-w-screen-2xl mx-auto px-4 mt-5 mb-5"},Tae={key:0,class:"text-center py-20"},Sae={key:1},Cae={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6"},xae={class:"text-2xl font-bold"},Iae={class:"text-sm text-gray-600"},Aae={class:"mt-1 flex items-center gap-2 text-sm text-gray-500"},Rae={class:"text-blue-600 font-semibold"},Pae={class:"flex flex-col items-end gap-2"},kae={class:"text-blue-600 text-xl font-semibold"},Oae={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-10 max-w-6xl mx-auto"},Lae={class:"lg:col-span-2 flex items-center justify-center bg-gray-100 rounded-md overflow-hidden",style:{height:"400px"}},Dae=["src"],Mae={class:"grid grid-cols-2 gap-2"},Nae=["src","onClick"],Vae={class:"border-t pt-8 mt-8"},Fae={class:"text-gray-700 leading-relaxed whitespace-pre-line"},$ae={class:"border-t pt-8 mt-8"},Bae={key:0,class:"py-6 text-center text-red-500"},Uae={class:"space-y-4"},zae=["src"],jae={class:"flex-1 w-full md:ml-4"},Hae={class:"font-medium"},qae={class:"text-sm text-gray-500"},Wae={class:"text-right"},Gae={class:"text-blue-600 font-semibold text-lg"},Kae={class:"border-t pt-8 mt-8"},Zae={class:"flex flex-col md:flex-row items-start md:items-center justify-between mt-4"},Yae={class:"text-sm text-gray-600"},Qae=["href"],Xae={key:2,class:"text-center py-20"},Jae=K({__name:"UserHotelDetail",setup(t){const e=ho(),n=wr(),s=ao(),r=pu(),i=Z(null),o=Z(""),a=Z([]),u=Z(!0);Z(null),Z(!1),Z(new Set);const c=Q(()=>r.filters.startDate),d=Q(()=>r.filters.endDate),h=Z([]);async function g(T){u.value=!0;const C=r.getHotelById(T)||await r.fetchHotelById(T);i.value=C;const x=await ei(Ya(tr(rn,"bookings"),zo("hotelId","==",T)));h.value=x.docs.map(I=>{const V=I.data();return{roomId:V.roomId,startDate:V.startDate,endDate:V.endDate}}),a.value=(C==null?void 0:C.images)||[],o.value=a.value[0]||"/fallback.jpg",u.value=!1}bt(()=>{g(s.params.id)}),XB(async(T,C,x)=>{g(T.params.id).then(()=>x())});function v(T){const C=o.value;o.value=a.value[T],a.value[T]=C}function y(T){if(!e.isLoggedIn)return n.push({name:"Login"});const C=s.params.location||r.filters.startDate;n.push({name:Jk,params:{location:C,hotelId:s.params.id,roomId:T.id}})}const w=Q(()=>{var C;const T=((C=i.value)==null?void 0:C.rooms)??[];return!c.value||!d.value?T:T.filter(x=>{if(x.startDate&&x.endDate&&(c.value<x.startDate||d.value>x.endDate))return!1;const I=h.value.filter(V=>V.roomId===x.id);for(const V of I)if(!(d.value<=V.startDate||c.value>=V.endDate))return!1;return!0})}),E=Q(()=>w.value.length===0);return(T,C)=>{var x,I;return $(),ie("div",Eae,[u.value?($(),ie("div",Tae,"Loading hotel...")):i.value?($(),ie("div",Sae,[z("div",Cae,[z("div",null,[z("h1",xae,Ie(i.value.name),1),z("p",Iae," "+Ie(i.value.area),1),z("div",Aae,[z("span",Rae,Ie(i.value.rating),1),C[0]||(C[0]=ae("  ")),z("span",null,Ie(i.value.numberOfReviews)+" reviews",1)])]),z("div",Pae,[z("p",kae,[ae(" z "+Ie(((I=(x=i.value.rooms)==null?void 0:x[0])==null?void 0:I.basePrice)||"---"),1),C[1]||(C[1]=z("span",{class:"text-sm"},"/night",-1))]),C[2]||(C[2]=z("div",{class:"flex gap-2"},null,-1))])]),z("div",Oae,[z("div",Lae,[z("img",{src:o.value,class:"max-h-full max-w-full object-contain",alt:"Main hotel image"},null,8,Dae)]),z("div",Mae,[($(!0),ie(Ke,null,jt(a.value.slice(1,5),(V,F)=>($(),ie("img",{key:F,src:V,onClick:k=>v(F+1),class:"w-full h-32 object-cover rounded-md cursor-pointer hover:opacity-75 transition",alt:"Hotel image"},null,8,Nae))),128))])]),z("div",Vae,[C[3]||(C[3]=z("h2",{class:"text-xl font-semibold mb-4"},"Overview",-1)),z("p",Fae,Ie(i.value.description),1)]),z("div",$ae,[C[7]||(C[7]=z("h2",{class:"text-xl font-semibold mb-4"},"Available Rooms",-1)),E.value?($(),ie("div",Bae,"  ,       ")):Ht("",!0),z("div",Uae,[($(!0),ie(Ke,null,jt(w.value,V=>{var F;return $(),ie("div",{key:V.id,class:"flex flex-col md:flex-row items-center justify-between gap-4 border rounded-lg p-4 shadow-sm"},[z("img",{src:((F=V.images)==null?void 0:F[0])||"/fallback.jpg",class:"w-full md:w-24 h-24 object-cover rounded-md",alt:"Room image"},null,8,zae),z("div",jae,[z("p",Hae,Ie(V.accommodationType),1),z("p",qae," Room Type: "+Ie(V.type)+"  "+Ie(V.roomArea)+" m ",1)]),z("div",Wae,[z("p",Gae,[ae(" z "+Ie(V.basePrice)+" ",1),C[4]||(C[4]=z("span",{class:"text-sm text-gray-500"},"/night",-1))]),M(Zt,{onClick:k=>y(V),class:"mt-2 bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition"},{default:O(()=>C[5]||(C[5]=[ae(" Book now ")])),_:2},1032,["onClick"])])])}),128)),z("div",Kae,[C[6]||(C[6]=z("h2",{class:"text-xl font-semibold mb-4"},"Location / Map",-1)),M(eoe,{lat:parseFloat(i.value.lat),lng:parseFloat(i.value.lng),name:i.value.name},null,8,["lat","lng","name"]),z("div",Zae,[z("p",Yae,"  "+Ie(i.value.address||"Address not available"),1),z("a",{class:"mt-2 md:mt-0 bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700 transition",href:`https://www.google.com/maps/search/?api=1&query=${i.value.lat},${i.value.lng}`,target:"_blank",rel:"noopener noreferrer"}," View on Google Maps ",8,Qae)]),M(iae,{amenities:i.value.amenities},null,8,["amenities"]),M(bae,{class:"mb-10",hotelId:m(s).params.id},null,8,["hotelId"])])])])])):($(),ie("div",Xae,"Hotel not found."))])}}}),ele={class:"min-h-screen flex items-center justify-center bg-gray-100 px-4"},tle={class:"max-w-md w-full bg-white rounded-xl shadow-lg overflow-hidden"},nle={class:"space-y-4"},sle=["disabled"],rle=K({__name:"Register",setup(t){const e=Z(""),n=Z(""),s=Z(!1),r=wr(),{toast:i}=rd();async function o(){s.value=!0;try{const u=(await O7(vg,e.value,n.value)).user;await EG(ds(rn,"users",u.uid),{email:u.email,isAdmin:!1,createdAt:av()}),r.push({name:Kc})}catch{i({title:"Error",description:"This user already exists.",variant:"destructive",action:Ft(Qa,{altText:"Good"},{default:()=>"Close"})})}finally{s.value=!1}}return(a,u)=>($(),ie("div",ele,[z("div",tle,[u[5]||(u[5]=z("div",{class:"h-32 bg-gradient-to-r from-purple-700 to-indigo-600"},null,-1)),z("form",{onSubmit:xs(o,["prevent"]),class:"px-8 py-10"},[u[4]||(u[4]=z("h2",{class:"text-2xl font-semibold text-center mb-6"},"Register",-1)),z("div",nle,[z("div",null,[u[2]||(u[2]=z("label",{class:"block text-gray-700 mb-1"},"Email Address",-1)),Kr(z("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>e.value=c),type:"email",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"},null,512),[[Bo,e.value]])]),z("div",null,[u[3]||(u[3]=z("label",{class:"block text-gray-700 mb-1"},"Password",-1)),Kr(z("input",{"onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c),type:"password",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"},null,512),[[Bo,n.value]])])]),z("button",{type:"submit",disabled:s.value,class:"mt-6 w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50"},Ie(s.value?"":""),9,sle)],32)])]))}}),ile={class:"min-h-screen flex items-center justify-center bg-gray-100 px-4"},ole={class:"max-w-md w-full bg-white rounded-xl shadow-lg overflow-hidden"},ale={class:"space-y-4"},lle=["disabled"],ule=K({__name:"Login",setup(t){const e=Z(""),n=Z(""),s=Z(!1),r=wr(),{toast:i}=rd(),o=ho();async function a(){s.value=!0;try{const c=(await L7(vg,e.value,n.value)).user,g=((await oa(ds(rn,"users",c.uid))).data()||{}).isAdmin===!0;o.setAdmin(g),g?r.push({name:qk}):r.push({name:Kc})}catch{i({title:"",description:"Wrong email or password",variant:"destructive",action:Ft(Qa,{altText:""},{default:()=>""})})}finally{s.value=!1}}return(u,c)=>($(),ie("div",ile,[z("div",ole,[c[5]||(c[5]=z("div",{class:"h-32 bg-gradient-to-r from-purple-700 to-indigo-600"},null,-1)),z("form",{onSubmit:xs(a,["prevent"]),class:"px-8 py-10"},[c[4]||(c[4]=z("h2",{class:"text-2xl font-semibold text-center mb-6"},"Log in",-1)),z("div",ale,[z("div",null,[c[2]||(c[2]=z("label",{class:"block text-gray-700 mb-1"},"Email Address",-1)),Kr(z("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>e.value=d),type:"email",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"},null,512),[[Bo,e.value]])]),z("div",null,[c[3]||(c[3]=z("label",{class:"block text-gray-700 mb-1"},"Password",-1)),Kr(z("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>n.value=d),type:"password",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"},null,512),[[Bo,n.value]])])]),z("button",{type:"submit",disabled:s.value,class:"mt-6 w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50"},Ie(s.value?"":""),9,lle)],32)])]))}}),cle={class:"max-w-6xl mx-auto py-8 px-4 grid grid-cols-1 lg:grid-cols-3 gap-6"},dle={key:0,class:"text-center py-20"},fle={class:"lg:col-span-2 space-y-6"},hle={class:"p-6 bg-white rounded-lg shadow"},ple={class:"text-xl font-semibold mb-2"},mle={class:"text-gray-600 mb-4"},gle={class:"text-gray-800"},_le={class:"p-6 bg-white rounded-lg shadow flex flex-col md:flex-row gap-4 items-center"},vle={class:"flex-1"},yle=["min","max"],wle={class:"flex-1"},ble=["min","max"],Ele={class:"p-6 bg-white rounded-lg shadow flex items-center gap-4"},Tle={class:"font-semibold"},Sle={key:0,class:"text-red-500"},Cle={class:"space-y-6"},xle={class:"p-6 bg-white rounded-lg shadow"},Ile={class:"space-y-2 text-sm text-gray-700"},Ale={class:"flex justify-between"},Rle={class:"flex justify-between"},Ple={class:"flex justify-between"},kle={class:"flex justify-between font-semibold"},Ole={key:2,class:"text-center py-20"},Lle=K({__name:"BookingPage",setup(t){const e=ao(),n=wr(),s=pu(),r=ho(),i=e.params.hotelId,o=e.params.roomId,a=Z(null),u=Z({}),c=Z(""),d=Z(""),h=Z(1),g=Z(!0),v=Z([]);async function y(){g.value=!0;const F=s.getHotelById(i)||await s.fetchHotelById(i);a.value=F,u.value=F.rooms.find(A=>A.id===o)||F.rooms[0];const k=Ya(tr(rn,"bookings"),zo("roomId","==",o)),P=await ei(k);v.value=P.docs.map(A=>{const N=A.data();return{startDate:N.startDate,endDate:N.endDate}}),g.value=!1}bt(y);const w=Q(()=>{if(!c.value||!d.value)return 0;const F=Date.parse(d.value)-Date.parse(c.value);return F>0?F/(1e3*60*60*24):0}),E=Q(()=>Math.ceil(u.value.basePrice*w.value*.05)),T=Q(()=>50),C=Q(()=>u.value.basePrice*w.value+E.value+T.value),x=Q(()=>v.value.every(F=>d.value<=F.startDate||c.value>=F.endDate)),I=Q(()=>!!c.value&&!!d.value&&w.value>0&&h.value>0&&x.value);async function V(){if(!r.isLoggedIn)return n.push({name:Bl});const F=m(r.user);if(!F||!F.email)return n.push({name:Bl});I.value&&n.push({name:tO,query:{hotelId:i,roomId:o,startDate:c.value,endDate:d.value,guests:h.value,nights:w.value,total:C.value,customerEmail:F.email}})}return(F,k)=>($(),ie("div",cle,[g.value?($(),ie("div",dle,"Loading hotel...")):a.value?($(),ie(Ke,{key:1},[z("div",fle,[z("div",hle,[z("h2",ple,Ie(u.value.accommodationType),1),z("p",mle,Ie(a.value.name)+"  "+Ie(u.value.type),1),z("p",gle,[ae(" z "+Ie(u.value.basePrice),1),k[3]||(k[3]=z("span",{class:"text-sm text-gray-500"},"/night",-1))])]),z("div",_le,[z("div",vle,[k[4]||(k[4]=z("label",{class:"block text-sm text-gray-700 mb-1"},"Check-In",-1)),Kr(z("input",{type:"date","onUpdate:modelValue":k[0]||(k[0]=P=>c.value=P),min:u.value.startDate,max:u.value.endDate,class:"w-full border rounded px-3 py-2"},null,8,yle),[[Bo,c.value]])]),k[6]||(k[6]=z("div",{class:"flex-none text-gray-500"},"",-1)),z("div",wle,[k[5]||(k[5]=z("label",{class:"block text-sm text-gray-700 mb-1"},"Check-Out",-1)),Kr(z("input",{type:"date","onUpdate:modelValue":k[1]||(k[1]=P=>d.value=P),min:u.value.startDate,max:u.value.endDate,class:"w-full border rounded px-3 py-2"},null,8,ble),[[Bo,d.value]])])]),z("div",Ele,[z("div",null,[k[7]||(k[7]=z("p",{class:"text-sm text-gray-600"},"Nights",-1)),z("p",Tle,Ie(w.value),1)]),k[9]||(k[9]=z("div",{class:"border-l h-8"},null,-1)),z("div",null,[k[8]||(k[8]=z("label",{class:"block text-sm text-gray-700 mb-1"},"Guests",-1)),Kr(z("input",{"onUpdate:modelValue":k[2]||(k[2]=P=>h.value=P),type:"number",min:"1",class:"w-16 border rounded px-2 py-1"},null,512),[[Bo,h.value,void 0,{number:!0}]])])]),!x.value&&c.value&&d.value?($(),ie("p",Sle," These dates are partially booked by another reservation. Please choose a different time interval. ")):Ht("",!0),M(Zt,{onClick:V,disabled:!I.value,class:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition disabled:opacity-50"},{default:O(()=>k[10]||(k[10]=[ae(" Pay in full ")])),_:1},8,["disabled"])]),z("div",Cle,[z("div",xle,[k[17]||(k[17]=z("h3",{class:"text-lg font-semibold mb-4"},"Price Details",-1)),z("dl",Ile,[z("div",Ale,[k[11]||(k[11]=z("dt",null,"Base Fare",-1)),z("dd",null,"z "+Ie(u.value.basePrice)+"  "+Ie(w.value)+" night(s)",1)]),k[15]||(k[15]=z("div",{class:"flex justify-between"},[z("dt",null,"Discount"),z("dd",null,"z 0")],-1)),z("div",Rle,[k[12]||(k[12]=z("dt",null,"Taxes",-1)),z("dd",null,"z "+Ie(E.value),1)]),z("div",Ple,[k[13]||(k[13]=z("dt",null,"Fee",-1)),z("dd",null,"z "+Ie(T.value),1)]),k[16]||(k[16]=z("hr",null,null,-1)),z("div",kle,[k[14]||(k[14]=z("dt",null,"Total",-1)),z("dd",null,"z "+Ie(C.value),1)])])])])],64)):($(),ie("div",Ole,"Hotel not found."))]))}}),Dle={class:"max-w-3xl mx-auto py-8"},Mle={key:0,class:"grid gap-6"},Nle={class:"text-lg font-semibold text-gray-900"},Vle={class:"mt-1 text-gray-600"},Fle={class:"font-medium"},$le={class:"mt-2 text-sm text-gray-500"},Ble={key:1,class:"mt-12 text-center text-gray-400 italic"},Ule=K({__name:"Requests",setup(t){const e=ho(),n=Z([]);async function s(){const i=m(e.user),o=i==null?void 0:i.uid;let a;if(e.isAdmin)a=await ei(tr(rn,"bookings"));else{if(!o){n.value=[];return}a=await ei(Ya(tr(rn,"bookings"),zo("userId","==",o)))}const u=[];for(const c of a.docs){const d=c.data(),h={id:c.id,...d},g=await oa(ds(rn,"hotels",h.hotelId));g.exists()&&(h.hotelName=g.data().name),u.push(h)}n.value=u}async function r(i){await rv(ds(rn,"bookings",i)),n.value=n.value.filter(o=>o.id!==i)}return bt(()=>{m(e.user)&&s()}),ct(()=>m(e.user),i=>{i&&s()}),(i,o)=>($(),ie("div",Dle,[o[2]||(o[2]=z("h1",{class:"text-3xl font-extrabold mb-8 text-gray-800"}," My Booking Requests ",-1)),n.value.length?($(),ie("ul",Mle,[($(!0),ie(Ke,null,jt(n.value,a=>($(),ie("li",{key:a.id,class:"bg-white rounded-2xl p-6 flex justify-between items-center shadow-lg hover:shadow-xl transition-shadow"},[z("div",null,[z("h2",Nle,Ie(a.hotelName||""),1),z("p",Vle,[o[0]||(o[0]=ae(" Room ")),z("span",Fle,Ie(a.roomId),1)]),z("p",$le,Ie(a.startDate)+"  "+Ie(a.endDate),1)]),M(Zt,{onClick:u=>r(a.id),class:"ml-6 px-4 py-2 bg-red-500 text-white font-medium rounded-lg hover:bg-red-600 transition-colors"},{default:O(()=>o[1]||(o[1]=[ae(" Delete ")])),_:2},1032,["onClick"])]))),128))])):($(),ie("p",Ble," No booking requests found. "))]))}}),zle={class:"max-w-3xl mx-auto py-8"},jle={class:"mb-4"},Hle={key:0,class:"space-y-4"},qle={class:"font-semibold"},Wle={class:"text-sm text-gray-600"},Gle={key:1,class:"text-center text-gray-500"},Kle=K({__name:"ProfilePage",setup(t){const e=ho(),n=wr(),s=Z([]),r=Q(()=>{var a;return((a=e.user)==null?void 0:a.email)||""});async function i(){var h;const a=(h=m(e.user))==null?void 0:h.uid;if(!a)return;const u=Ya(tr(rn,"bookings"),zo("userId","==",a)),c=await ei(u),d=[];for(const g of c.docs){const v=g.data(),y={id:g.id,...v},w=await oa(ds(rn,"hotels",y.hotelId));w.exists()&&(y.hotelName=w.data().name),d.push(y)}s.value=d}async function o(a){await rv(ds(rn,"bookings",a)),s.value=s.value.filter(u=>u.id!==a)}return bt(()=>{e.isLoggedIn?i():n.push({name:"Login"})}),(a,u)=>($(),ie("div",zle,[u[1]||(u[1]=z("h1",{class:"text-2xl font-bold mb-6"},"My Profile",-1)),z("p",jle,"Hello, "+Ie(r.value),1),u[2]||(u[2]=z("h2",{class:"text-xl font-semibold mb-4"},"My Bookings",-1)),s.value.length?($(),ie("ul",Hle,[($(!0),ie(Ke,null,jt(s.value,c=>($(),ie("li",{key:c.id,class:"flex justify-between items-center border rounded-lg p-4 shadow"},[z("div",null,[z("p",null,[z("span",qle,Ie(c.hotelName||""),1),ae("  room "+Ie(c.roomId),1)]),z("p",Wle,Ie(c.startDate)+"  "+Ie(c.endDate),1)]),M(Zt,{onClick:d=>o(c.id),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition"},{default:O(()=>u[0]||(u[0]=[ae(" Cancel ")])),_:2},1032,["onClick"])]))),128))])):($(),ie("p",Gle,"You have no bookings."))]))}}),Zle={class:"space-y-6 mb-5"},Yle={key:0,class:"text-center text-gray-500"},Qle={key:1},Xle=K({__name:"FollowedList",props:{hotels:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",Zle,[e.hotels.length===0?($(),ie("p",Yle," No favorites yet. ")):($(),ie("div",Qle,[($(!0),ie(Ke,null,jt(e.hotels,r=>($(),Y(mV,{key:r.id,hotel:r,location:void 0},null,8,["hotel"]))),128))]))]))}}),Jle={class:"max-w-6xl mx-auto py-8 px-4"},eue=K({__name:"FollowedPage",setup(t){const e=ho(),n=wT(),s=pu(),r=Z([]);function i(){r.value=n.favorites.map(a=>s.getHotelById(a)).filter(Boolean)}ct(()=>m(e.user),async a=>{if(!a){r.value=[];return}await n.loadFavorites(a.uid),await s.loadHotelsByIds(n.favorites),i()},{immediate:!0}),ct(()=>n.favorites.slice(),i);const o=Q(()=>n.loading||s.loading);return(a,u)=>{const c=Xr("Spinner");return $(),ie("div",Jle,[u[0]||(u[0]=z("h1",{class:"text-2xl font-semibold mb-6"},"My Favorites",-1)),o.value?($(),Y(c,{key:0})):r.value.length?($(),Y(Xle,{key:1,hotels:r.value},null,8,["hotels"])):Ht("",!0)])}}}),tue={},nue={class:"max-w-4xl mx-auto p-8 prose prose-lg"};function sue(t,e){return $(),ie("section",nue,e[0]||(e[0]=[z("h1",null,"Terms of Service",-1),z("p",null," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam eu turpis molestie, dictum est a, mattis tellus. Sed dignissim, metus nec fringilla accumsan, risus sem sollicitudin lacus, ut interdum tellus elit sed risus. Maecenas eget condimentum velit, sit amet feugiat lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent auctor purus luctus enim egestas, ac scelerisque ante pulvinar. Donec ut rhoncus ex. Suspendisse ac rhoncus nisl, eu tempor urna. Curabitur vel bibendum lorem. Morbi convallis convallis diam sit amet lacinia. Aliquam in elementum tellus. ",-1),z("p",null," Curabitur tempor quis eros tempus lacinia. Nam bibendum pellentesque quam a convallis. Sed ut vulputate nisi. Integer in felis sed leo vestibulum venenatis. Suspendisse quis arcu sem. Aenean feugiat ex eu vestibulum vestibulum. Morbi a eleifend magna. Nam metus lacus, porttitor eu mauris a, blandit ultrices nibh. Mauris sit amet magna non ligula vestibulum eleifend. Nulla varius volutpat turpis sed lacinia. Nam eget mi in purus lobortis eleifend. Sed nec ante dictum sem condimentum ullamcorper quis venenatis nisi. Proin vitae facilisis nisi, ac posuere leo. ",-1),z("p",null," Nam pulvinar blandit velit, id condimentum diam faucibus at. Aliquam lacus nisi, sollicitudin at nisi nec, fermentum congue felis. Quisque mauris dolor, fringilla sed tincidunt ac, finibus non odio. Sed vitae mauris nec ante pretium finibus. Donec nisl neque, pharetra ac elit eu, faucibus aliquam ligula. Nullam dictum, tellus tincidunt tempor laoreet, nibh elit sollicitudin felis, eget feugiat sapien diam nec nisl. Aenean gravida turpis nisi, consequat dictum risus dapibus a. Duis felis ante, varius in neque eu, tempor suscipit sem. Maecenas ullamcorper gravida sem sit amet cursus. Etiam pulvinar purus vitae justo pharetra consequat. Mauris id mi ut arcu feugiat maximus. Mauris consequat tellus id tempus aliquet. ",-1),z("p",null," Vestibulum dictum ultrices elit a luctus. Sed in ante ut leo congue posuere et sit amet ligula. Pellentesque eget augue nec nisl sodales blandit sed et sem. Aenean quis finibus arcu, in hendrerit purus. Praesent ac aliquet lorem. Morbi feugiat aliquam ligula, et vestibulum ligula hendrerit vitae. Sed ex lorem, pulvinar sed auctor sit amet, molestie a nibh. Ut euismod nisl arcu, sed placerat nulla volutpat aliquet. Ut id convallis nisl. Ut mauris leo, lacinia sed elit id, sagittis rhoncus odio. Pellentesque sapien libero, lobortis a placerat et, malesuada sit amet dui. Nam sem sapien, congue eu rutrum nec, pellentesque eget ligula. ",-1)]))}const rue=uE(tue,[["render",sue],["__scopeId","data-v-ee66793a"]]),iue={class:"flex gap-2"},oue=["value"],aue=K({__name:"Review",setup(t){const e=ho(),n=ao(),s=wr(),r=n.params.hotelId,i=oS(iS({text:Xs().min(1,"Review cant be empty"),rating:Tre().min(1,"Please select a rating").max(5)})),{handleSubmit:o,defineField:a,meta:u,resetForm:c}=nS({validationSchema:i,initialValues:{text:"",rating:1}});a("text"),a("rating");const d=Z(!1),h=o(async({text:g,rating:v})=>{var y;if(!((y=e.user)!=null&&y.uid)){en({title:"Not logged in",description:"You must sign in to post a review",variant:"destructive",action:Ft(Qa,{altText:"OK"},{default:()=>"OK"})});return}d.value=!0;try{await iv(tr(rn,"reviews"),{hotelId:r,userId:e.user.uid,text:g,rating:v,createdAt:av()}),en({title:"Review submitted!"}),c(),s.back()}catch{en({title:"Submission failed",description:"Please try again later",variant:"destructive",action:Ft(Qa,{altText:"OK"},{default:()=>"OK"})})}finally{d.value=!1}});return(g,v)=>($(),ie("form",{onSubmit:v[0]||(v[0]=xs((...y)=>m(h)&&m(h)(...y),["prevent"])),class:"space-y-6 max-w-xl mx-auto"},[M(m(ts),{name:"text"},{default:O(({field:y,errorMessage:w})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>v[1]||(v[1]=[ae("Write your review")])),_:1}),M(m(ls),null,{default:O(()=>[M(m(pV),fe(y,{rows:"5",placeholder:"Write your review here"}),null,16)]),_:2},1024),M(m(ur),null,{default:O(()=>[ae(Ie(w),1)]),_:2},1024)]),_:2},1024)]),_:1}),M(m(ts),{name:"rating"},{default:O(({field:y,errorMessage:w})=>[M(m(us),null,{default:O(()=>[M(m(ys),null,{default:O(()=>v[2]||(v[2]=[ae("Your rating")])),_:1}),M(m(ls),null,{default:O(()=>[z("div",iue,[($(),ie(Ke,null,jt(5,E=>z("label",{key:E,class:"cursor-pointer"},[z("input",fe({type:"radio",ref_for:!0},y,{value:E,class:"sr-only"}),null,16,oue),z("span",{class:vt([{"text-yellow-400":y.value>=E,"text-gray-300":y.value<E},"text-2xl"])},"",2)])),64))])]),_:2},1024),M(m(ur),null,{default:O(()=>[ae(Ie(w),1)]),_:2},1024)]),_:2},1024)]),_:1}),M(m(Zt),{type:"submit",disabled:d.value||!m(u).valid},{default:O(()=>[ae(Ie(d.value?"Submitting...":"Submit Review"),1)]),_:1},8,["disabled"])],32))}}),lue=K({__name:"Card",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{class:vt(m(Fe)("rounded-xl border bg-card text-card-foreground shadow",e.class))},[J(n.$slots,"default")],2))}}),uue=K({__name:"CardContent",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{class:vt(m(Fe)("p-6 pt-0",e.class))},[J(n.$slots,"default")],2))}}),cue=K({__name:"CardDescription",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("p",{class:vt(m(Fe)("text-sm text-muted-foreground",e.class))},[J(n.$slots,"default")],2))}}),due=K({__name:"CardFooter",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{class:vt(m(Fe)("flex items-center p-6 pt-0",e.class))},[J(n.$slots,"default")],2))}}),fue=K({__name:"CardHeader",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("div",{class:vt(m(Fe)("flex flex-col gap-y-1.5 p-6",e.class))},[J(n.$slots,"default")],2))}}),hue=K({__name:"CardTitle",props:{class:{}},setup(t){const e=t;return(n,s)=>($(),ie("h3",{class:vt(m(Fe)("font-semibold leading-none tracking-tight",e.class))},[J(n.$slots,"default")],2))}}),pue=K({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,r=Nk(n,"class"),i=as(r,s);return(o,a)=>($(),Y(m(Q3),fe({class:m(Fe)("grid gap-2",n.class)},m(i)),{default:O(()=>[J(o.$slots,"default")]),_:3},16,["class"]))}}),Xy=K({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(t){const e=t,n=Nk(e,"class"),s=br(n);return(r,i)=>($(),Y(m(ej),fe(m(s),{class:m(Fe)("peer aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e.class)}),{default:O(()=>[M(m(tj),{class:"flex items-center justify-center"},{default:O(()=>[M(m(P_),{class:"h-3.5 w-3.5 text-primary"})]),_:1})]),_:1},16,["class"]))}});function jV(t,e){return function(){return t.apply(e,arguments)}}const{toString:mue}=Object.prototype,{getPrototypeOf:fS}=Object,{iterator:Pv,toStringTag:HV}=Symbol,kv=(t=>e=>{const n=mue.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ki=t=>(t=t.toLowerCase(),e=>kv(e)===t),Ov=t=>e=>typeof e===t,{isArray:fd}=Array,Eh=Ov("undefined");function gue(t){return t!==null&&!Eh(t)&&t.constructor!==null&&!Eh(t.constructor)&&mr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qV=ki("ArrayBuffer");function _ue(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qV(t.buffer),e}const vue=Ov("string"),mr=Ov("function"),WV=Ov("number"),Lv=t=>t!==null&&typeof t=="object",yue=t=>t===!0||t===!1,Om=t=>{if(kv(t)!=="object")return!1;const e=fS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(HV in t)&&!(Pv in t)},wue=ki("Date"),bue=ki("File"),Eue=ki("Blob"),Tue=ki("FileList"),Sue=t=>Lv(t)&&mr(t.pipe),Cue=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mr(t.append)&&((e=kv(t))==="formdata"||e==="object"&&mr(t.toString)&&t.toString()==="[object FormData]"))},xue=ki("URLSearchParams"),[Iue,Aue,Rue,Pue]=["ReadableStream","Request","Response","Headers"].map(ki),kue=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ep(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),fd(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function GV(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const kl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KV=t=>!Eh(t)&&t!==kl;function u0(){const{caseless:t}=KV(this)&&this||{},e={},n=(s,r)=>{const i=t&&GV(e,r)||r;Om(e[i])&&Om(s)?e[i]=u0(e[i],s):Om(s)?e[i]=u0({},s):fd(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ep(arguments[s],n);return e}const Oue=(t,e,n,{allOwnKeys:s}={})=>(ep(e,(r,i)=>{n&&mr(r)?t[i]=jV(r,n):t[i]=r},{allOwnKeys:s}),t),Lue=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Due=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Mue=(t,e,n,s)=>{let r,i,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&fS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Nue=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Vue=t=>{if(!t)return null;if(fd(t))return t;let e=t.length;if(!WV(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Fue=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fS(Uint8Array)),$ue=(t,e)=>{const s=(t&&t[Pv]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},Bue=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Uue=ki("HTMLFormElement"),zue=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),CR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),jue=ki("RegExp"),ZV=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};ep(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},Hue=t=>{ZV(t,(e,n)=>{if(mr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(mr(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},que=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return fd(t)?s(t):s(String(t).split(e)),n},Wue=()=>{},Gue=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Kue(t){return!!(t&&mr(t.append)&&t[HV]==="FormData"&&t[Pv])}const Zue=t=>{const e=new Array(10),n=(s,r)=>{if(Lv(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=fd(s)?[]:{};return ep(s,(o,a)=>{const u=n(o,r+1);!Eh(u)&&(i[a]=u)}),e[r]=void 0,i}}return s};return n(t,0)},Yue=ki("AsyncFunction"),Que=t=>t&&(Lv(t)||mr(t))&&mr(t.then)&&mr(t.catch),YV=((t,e)=>t?setImmediate:e?((n,s)=>(kl.addEventListener("message",({source:r,data:i})=>{r===kl&&i===n&&s.length&&s.shift()()},!1),r=>{s.push(r),kl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",mr(kl.postMessage)),Xue=typeof queueMicrotask<"u"?queueMicrotask.bind(kl):typeof process<"u"&&process.nextTick||YV,Jue=t=>t!=null&&mr(t[Pv]),de={isArray:fd,isArrayBuffer:qV,isBuffer:gue,isFormData:Cue,isArrayBufferView:_ue,isString:vue,isNumber:WV,isBoolean:yue,isObject:Lv,isPlainObject:Om,isReadableStream:Iue,isRequest:Aue,isResponse:Rue,isHeaders:Pue,isUndefined:Eh,isDate:wue,isFile:bue,isBlob:Eue,isRegExp:jue,isFunction:mr,isStream:Sue,isURLSearchParams:xue,isTypedArray:Fue,isFileList:Tue,forEach:ep,merge:u0,extend:Oue,trim:kue,stripBOM:Lue,inherits:Due,toFlatObject:Mue,kindOf:kv,kindOfTest:ki,endsWith:Nue,toArray:Vue,forEachEntry:$ue,matchAll:Bue,isHTMLForm:Uue,hasOwnProperty:CR,hasOwnProp:CR,reduceDescriptors:ZV,freezeMethods:Hue,toObjectSet:que,toCamelCase:zue,noop:Wue,toFiniteNumber:Gue,findKey:GV,global:kl,isContextDefined:KV,isSpecCompliantForm:Kue,toJSONObject:Zue,isAsyncFn:Yue,isThenable:Que,setImmediate:YV,asap:Xue,isIterable:Jue};function Lt(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}de.inherits(Lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const QV=Lt.prototype,XV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XV[t]={value:t}});Object.defineProperties(Lt,XV);Object.defineProperty(QV,"isAxiosError",{value:!0});Lt.from=(t,e,n,s,r,i)=>{const o=Object.create(QV);return de.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),Lt.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const ece=null;function c0(t){return de.isPlainObject(t)||de.isArray(t)}function JV(t){return de.endsWith(t,"[]")?t.slice(0,-2):t}function xR(t,e,n){return t?t.concat(e).map(function(r,i){return r=JV(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function tce(t){return de.isArray(t)&&!t.some(c0)}const nce=de.toFlatObject(de,{},null,function(e){return/^is[A-Z]/.test(e)});function Dv(t,e,n){if(!de.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=de.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!de.isUndefined(E[w])});const s=n.metaTokens,r=n.visitor||d,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&de.isSpecCompliantForm(e);if(!de.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(de.isDate(y))return y.toISOString();if(!u&&de.isBlob(y))throw new Lt("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(y)||de.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,E){let T=y;if(y&&!E&&typeof y=="object"){if(de.endsWith(w,"{}"))w=s?w:w.slice(0,-2),y=JSON.stringify(y);else if(de.isArray(y)&&tce(y)||(de.isFileList(y)||de.endsWith(w,"[]"))&&(T=de.toArray(y)))return w=JV(w),T.forEach(function(x,I){!(de.isUndefined(x)||x===null)&&e.append(o===!0?xR([w],I,i):o===null?w:w+"[]",c(x))}),!1}return c0(y)?!0:(e.append(xR(E,w,i),c(y)),!1)}const h=[],g=Object.assign(nce,{defaultVisitor:d,convertValue:c,isVisitable:c0});function v(y,w){if(!de.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(y),de.forEach(y,function(T,C){(!(de.isUndefined(T)||T===null)&&r.call(e,T,de.isString(C)?C.trim():C,w,g))===!0&&v(T,w?w.concat(C):[C])}),h.pop()}}if(!de.isObject(t))throw new TypeError("data must be an object");return v(t),e}function IR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function hS(t,e){this._pairs=[],t&&Dv(t,this,e)}const e2=hS.prototype;e2.append=function(e,n){this._pairs.push([e,n])};e2.toString=function(e){const n=e?function(s){return e.call(this,s,IR)}:IR;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function sce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t2(t,e,n){if(!e)return t;const s=n&&n.encode||sce;de.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(e,n):i=de.isURLSearchParams(e)?e.toString():new hS(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class AR{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,function(s){s!==null&&e(s)})}}const n2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rce=typeof URLSearchParams<"u"?URLSearchParams:hS,ice=typeof FormData<"u"?FormData:null,oce=typeof Blob<"u"?Blob:null,ace={isBrowser:!0,classes:{URLSearchParams:rce,FormData:ice,Blob:oce},protocols:["http","https","file","blob","url","data"]},pS=typeof window<"u"&&typeof document<"u",d0=typeof navigator=="object"&&navigator||void 0,lce=pS&&(!d0||["ReactNative","NativeScript","NS"].indexOf(d0.product)<0),uce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cce=pS&&window.location.href||"http://localhost",dce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pS,hasStandardBrowserEnv:lce,hasStandardBrowserWebWorkerEnv:uce,navigator:d0,origin:cce},Symbol.toStringTag,{value:"Module"})),zs={...dce,...ace};function fce(t,e){return Dv(t,new zs.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return zs.isNode&&de.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function hce(t){return de.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pce(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function s2(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=i>=n.length;return o=!o&&de.isArray(r)?r.length:o,u?(de.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!de.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&de.isArray(r[o])&&(r[o]=pce(r[o])),!a)}if(de.isFormData(t)&&de.isFunction(t.entries)){const n={};return de.forEachEntry(t,(s,r)=>{e(hce(s),r,n,0)}),n}return null}function mce(t,e,n){if(de.isString(t))try{return(e||JSON.parse)(t),de.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const tp={transitional:n2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=de.isObject(e);if(i&&de.isHTMLForm(e)&&(e=new FormData(e)),de.isFormData(e))return r?JSON.stringify(s2(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return fce(e,this.formSerializer).toString();if((a=de.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Dv(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),mce(e)):e}],transformResponse:[function(e){const n=this.transitional||tp.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Lt.from(a,Lt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],t=>{tp.headers[t]={}});const gce=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_ce=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&gce[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},RR=Symbol("internals");function tf(t){return t&&String(t).trim().toLowerCase()}function Lm(t){return t===!1||t==null?t:de.isArray(t)?t.map(Lm):String(t)}function vce(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const yce=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jy(t,e,n,s,r){if(de.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!de.isString(e)){if(de.isString(s))return e.indexOf(s)!==-1;if(de.isRegExp(s))return s.test(e)}}function wce(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function bce(t,e){const n=de.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}let gr=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(a,u,c){const d=tf(u);if(!d)throw new Error("header name must be a non-empty string");const h=de.findKey(r,d);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||u]=Lm(a))}const o=(a,u)=>de.forEach(a,(c,d)=>i(c,d,u));if(de.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(de.isString(e)&&(e=e.trim())&&!yce(e))o(_ce(e),n);else if(de.isObject(e)&&de.isIterable(e)){let a={},u,c;for(const d of e){if(!de.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(u=a[c])?de.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}o(a,n)}else e!=null&&i(n,e,s);return this}get(e,n){if(e=tf(e),e){const s=de.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return vce(r);if(de.isFunction(n))return n.call(this,r,s);if(de.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=tf(e),e){const s=de.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Jy(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=tf(o),o){const a=de.findKey(s,o);a&&(!n||Jy(s,s[a],a,n))&&(delete s[a],r=!0)}}return de.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Jy(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return de.forEach(this,(r,i)=>{const o=de.findKey(s,i);if(o){n[o]=Lm(r),delete n[i];return}const a=e?wce(i):String(i).trim();a!==i&&delete n[i],n[a]=Lm(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return de.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&de.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[RR]=this[RR]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=tf(o);s[a]||(bce(r,o),s[a]=!0)}return de.isArray(e)?e.forEach(i):i(e),this}};gr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);de.reduceDescriptors(gr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});de.freezeMethods(gr);function ew(t,e){const n=this||tp,s=e||n,r=gr.from(s.headers);let i=s.data;return de.forEach(t,function(a){i=a.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function r2(t){return!!(t&&t.__CANCEL__)}function hd(t,e,n){Lt.call(this,t??"canceled",Lt.ERR_CANCELED,e,n),this.name="CanceledError"}de.inherits(hd,Lt,{__CANCEL__:!0});function i2(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Lt("Request failed with status code "+n.status,[Lt.ERR_BAD_REQUEST,Lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ece(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Tce(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=s[i];o||(o=c),n[r]=u,s[r]=c;let h=i,g=0;for(;h!==r;)g+=n[h++],h=h%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),c-o<e)return;const v=d&&c-d;return v?Math.round(g*1e3/v):void 0}}function Sce(t,e){let n=0,s=1e3/e,r,i;const o=(c,d=Date.now())=>{n=d,r=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=s?o(c,d):(r=c,i||(i=setTimeout(()=>{i=null,o(r)},s-h)))},()=>r&&o(r)]}const Kg=(t,e,n=3)=>{let s=0;const r=Tce(50,250);return Sce(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,u=o-s,c=r(u),d=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},PR=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},kR=t=>(...e)=>de.asap(()=>t(...e)),Cce=zs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,zs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,xce=zs.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];de.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),de.isString(s)&&o.push("path="+s),de.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ice(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ace(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function o2(t,e,n){let s=!Ice(e);return t&&(s||n==!1)?Ace(t,e):e}const OR=t=>t instanceof gr?{...t}:t;function nu(t,e){e=e||{};const n={};function s(c,d,h,g){return de.isPlainObject(c)&&de.isPlainObject(d)?de.merge.call({caseless:g},c,d):de.isPlainObject(d)?de.merge({},d):de.isArray(d)?d.slice():d}function r(c,d,h,g){if(de.isUndefined(d)){if(!de.isUndefined(c))return s(void 0,c,h,g)}else return s(c,d,h,g)}function i(c,d){if(!de.isUndefined(d))return s(void 0,d)}function o(c,d){if(de.isUndefined(d)){if(!de.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function a(c,d,h){if(h in e)return s(c,d);if(h in t)return s(void 0,c)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>r(OR(c),OR(d),h,!0)};return de.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=u[d]||r,g=h(t[d],e[d],d);de.isUndefined(g)&&h!==a||(n[d]=g)}),n}const a2=t=>{const e=nu({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=gr.from(o),e.url=t2(o2(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(de.isFormData(n)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...d]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(zs.hasStandardBrowserEnv&&(s&&de.isFunction(s)&&(s=s(e)),s||s!==!1&&Cce(e.url))){const c=r&&i&&xce.read(i);c&&o.set(r,c)}return e},Rce=typeof XMLHttpRequest<"u",Pce=Rce&&function(t){return new Promise(function(n,s){const r=a2(t);let i=r.data;const o=gr.from(r.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=r,d,h,g,v,y;function w(){v&&v(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function T(){if(!E)return;const x=gr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),V={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:x,config:t,request:E};i2(function(k){n(k),w()},function(k){s(k),w()},V),E=null}"onloadend"in E?E.onloadend=T:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(T)},E.onabort=function(){E&&(s(new Lt("Request aborted",Lt.ECONNABORTED,t,E)),E=null)},E.onerror=function(){s(new Lt("Network Error",Lt.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let I=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const V=r.transitional||n2;r.timeoutErrorMessage&&(I=r.timeoutErrorMessage),s(new Lt(I,V.clarifyTimeoutError?Lt.ETIMEDOUT:Lt.ECONNABORTED,t,E)),E=null},i===void 0&&o.setContentType(null),"setRequestHeader"in E&&de.forEach(o.toJSON(),function(I,V){E.setRequestHeader(V,I)}),de.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),a&&a!=="json"&&(E.responseType=r.responseType),c&&([g,y]=Kg(c,!0),E.addEventListener("progress",g)),u&&E.upload&&([h,v]=Kg(u),E.upload.addEventListener("progress",h),E.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(d=x=>{E&&(s(!x||x.type?new hd(null,t,E):x),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const C=Ece(r.url);if(C&&zs.protocols.indexOf(C)===-1){s(new Lt("Unsupported protocol "+C+":",Lt.ERR_BAD_REQUEST,t));return}E.send(i||null)})},kce=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const i=function(c){if(!r){r=!0,a();const d=c instanceof Error?c:this.reason;s.abort(d instanceof Lt?d:new hd(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new Lt(`timeout ${e} of ms exceeded`,Lt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>de.asap(a),u}},Oce=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},Lce=async function*(t,e){for await(const n of Dce(t))yield*Oce(n,e)},Dce=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},LR=(t,e,n,s)=>{const r=Lce(t,e);let i=0,o,a=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await r.next();if(c){a(),u.close();return}let h=d.byteLength;if(n){let g=i+=h;n(g)}u.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(u){return a(u),r.return()}},{highWaterMark:2})},Mv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",l2=Mv&&typeof ReadableStream=="function",Mce=Mv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),u2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Nce=l2&&u2(()=>{let t=!1;const e=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DR=64*1024,f0=l2&&u2(()=>de.isReadableStream(new Response("").body)),Zg={stream:f0&&(t=>t.body)};Mv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Zg[e]&&(Zg[e]=de.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Lt(`Response type '${e}' is not supported`,Lt.ERR_NOT_SUPPORT,s)})})})(new Response);const Vce=async t=>{if(t==null)return 0;if(de.isBlob(t))return t.size;if(de.isSpecCompliantForm(t))return(await new Request(zs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(de.isArrayBufferView(t)||de.isArrayBuffer(t))return t.byteLength;if(de.isURLSearchParams(t)&&(t=t+""),de.isString(t))return(await Mce(t)).byteLength},Fce=async(t,e)=>{const n=de.toFiniteNumber(t.getContentLength());return n??Vce(e)},$ce=Mv&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:g}=a2(t);c=c?(c+"").toLowerCase():"text";let v=kce([r,i&&i.toAbortSignal()],o),y;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let E;try{if(u&&Nce&&n!=="get"&&n!=="head"&&(E=await Fce(d,s))!==0){let V=new Request(e,{method:"POST",body:s,duplex:"half"}),F;if(de.isFormData(s)&&(F=V.headers.get("content-type"))&&d.setContentType(F),V.body){const[k,P]=PR(E,Kg(kR(u)));s=LR(V.body,DR,k,P)}}de.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;y=new Request(e,{...g,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:T?h:void 0});let C=await fetch(y);const x=f0&&(c==="stream"||c==="response");if(f0&&(a||x&&w)){const V={};["status","statusText","headers"].forEach(A=>{V[A]=C[A]});const F=de.toFiniteNumber(C.headers.get("content-length")),[k,P]=a&&PR(F,Kg(kR(a),!0))||[];C=new Response(LR(C.body,DR,k,()=>{P&&P(),w&&w()}),V)}c=c||"text";let I=await Zg[de.findKey(Zg,c)||"text"](C,t);return!x&&w&&w(),await new Promise((V,F)=>{i2(V,F,{data:I,headers:gr.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:y})})}catch(T){throw w&&w(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Lt("Network Error",Lt.ERR_NETWORK,t,y),{cause:T.cause||T}):Lt.from(T,T&&T.code,t,y)}}),h0={http:ece,xhr:Pce,fetch:$ce};de.forEach(h0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const MR=t=>`- ${t}`,Bce=t=>de.isFunction(t)||t===null||t===!1,c2={getAdapter:t=>{t=de.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!Bce(n)&&(s=h0[(o=String(n)).toLowerCase()],s===void 0))throw new Lt(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(MR).join(`
`):" "+MR(i[0]):"as no adapter specified";throw new Lt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:h0};function tw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hd(null,t)}function NR(t){return tw(t),t.headers=gr.from(t.headers),t.data=ew.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),c2.getAdapter(t.adapter||tp.adapter)(t).then(function(s){return tw(t),s.data=ew.call(t,t.transformResponse,s),s.headers=gr.from(s.headers),s},function(s){return r2(s)||(tw(t),s&&s.response&&(s.response.data=ew.call(t,t.transformResponse,s.response),s.response.headers=gr.from(s.response.headers))),Promise.reject(s)})}const d2="1.9.0",Nv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nv[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const VR={};Nv.transitional=function(e,n,s){function r(i,o){return"[Axios v"+d2+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new Lt(r(o," has been removed"+(n?" in "+n:"")),Lt.ERR_DEPRECATED);return n&&!VR[o]&&(VR[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};Nv.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Uce(t,e,n){if(typeof t!="object")throw new Lt("options must be an object",Lt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=t[i],u=a===void 0||o(a,i,t);if(u!==!0)throw new Lt("option "+i+" must be "+u,Lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Lt("Unknown option "+i,Lt.ERR_BAD_OPTION)}}const Dm={assertOptions:Uce,validators:Nv},$i=Dm.validators;let Ml=class{constructor(e){this.defaults=e||{},this.interceptors={request:new AR,response:new AR}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=nu(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Dm.assertOptions(s,{silentJSONParsing:$i.transitional($i.boolean),forcedJSONParsing:$i.transitional($i.boolean),clarifyTimeoutError:$i.transitional($i.boolean)},!1),r!=null&&(de.isFunction(r)?n.paramsSerializer={serialize:r}:Dm.assertOptions(r,{encode:$i.function,serialize:$i.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Dm.assertOptions(n,{baseUrl:$i.spelling("baseURL"),withXsrfToken:$i.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&de.merge(i.common,i[n.method]);i&&de.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=gr.concat(o,i);const a=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(u=u&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,h=0,g;if(!u){const y=[NR.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),g=y.length,d=Promise.resolve(n);h<g;)d=d.then(y[h++],y[h++]);return d}g=a.length;let v=n;for(h=0;h<g;){const y=a[h++],w=a[h++];try{v=y(v)}catch(E){w.call(this,E);break}}try{d=NR.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,g=c.length;h<g;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=nu(this.defaults,e);const n=o2(e.baseURL,e.url,e.allowAbsoluteUrls);return t2(n,e.params,e.paramsSerializer)}};de.forEach(["delete","get","head","options"],function(e){Ml.prototype[e]=function(n,s){return this.request(nu(s||{},{method:e,url:n,data:(s||{}).data}))}});de.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,a){return this.request(nu(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ml.prototype[e]=n(),Ml.prototype[e+"Form"]=n(!0)});let zce=class f2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new hd(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new f2(function(r){e=r}),cancel:e}}};function jce(t){return function(n){return t.apply(null,n)}}function Hce(t){return de.isObject(t)&&t.isAxiosError===!0}const p0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(p0).forEach(([t,e])=>{p0[e]=t});function h2(t){const e=new Ml(t),n=jV(Ml.prototype.request,e);return de.extend(n,Ml.prototype,e,{allOwnKeys:!0}),de.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return h2(nu(t,r))},n}const Kn=h2(tp);Kn.Axios=Ml;Kn.CanceledError=hd;Kn.CancelToken=zce;Kn.isCancel=r2;Kn.VERSION=d2;Kn.toFormData=Dv;Kn.AxiosError=Lt;Kn.Cancel=Kn.CanceledError;Kn.all=function(e){return Promise.all(e)};Kn.spread=jce;Kn.isAxiosError=Hce;Kn.mergeConfig=nu;Kn.AxiosHeaders=gr;Kn.formToJSON=t=>s2(de.isHTMLForm(t)?new FormData(t):t);Kn.getAdapter=c2.getAdapter;Kn.HttpStatusCode=p0;Kn.default=Kn;const{Axios:Sde,AxiosError:Cde,CanceledError:xde,isCancel:Ide,CancelToken:Ade,VERSION:Rde,all:Pde,Cancel:kde,isAxiosError:Ode,spread:Lde,toFormData:Dde,AxiosHeaders:Mde,HttpStatusCode:Nde,formToJSON:Vde,getAdapter:Fde,mergeConfig:$de}=Kn,qce={class:"max-w-6xl mx-auto py-8 px-4 grid grid-cols-1 lg:grid-cols-3 gap-6"},Wce={class:"lg:col-span-2 space-y-6"},Gce={class:"p-6 bg-white rounded-lg shadow"},Kce={class:"text-gray-600 mb-1"},Zce={class:"text-gray-600 mb-1"},Yce={class:"text-gray-600 mb-4"},Qce={class:"text-2xl font-semibold text-gray-800"},Xce={class:"space-y-6"},Jce={class:"grid gap-2"},ede={class:"grid gap-2"},tde={class:"grid grid-cols-3 gap-4"},nde={class:"grid gap-2"},sde={class:"grid gap-2"},rde={class:"grid gap-2"},ide=K({__name:"PaymentPage",setup(t){const e=qr("hotelId"),n=qr("roomId"),s=qr("startDate"),r=qr("endDate"),i=qr("guests"),o=qr("nights"),a=qr("total"),u=qr("customerEmail"),c=Z(!1),d=Z(""),h=Z(""),g=Z(""),v=Z(""),y=Z(""),w=wr();async function E(){var C,x;c.value=!0;const T={app_name:"vue-hotel-reservation",service:"hotel_booking",customer_email:u.value,card_type:"VISA",card_holder_name:d.value,card_number:h.value,expiryMonth:g.value,expiryYear:v.value,cvv:y.value,amount:Number(a.value),currency:"PLN"};try{const I=await Kn.post("http://localhost:3000/api/payments",T);console.log("Payment successful:",I.data);const V=(C=I.data)==null?void 0:C.id;if(!V){console.error("Payment ID not found in response:",I.data),en({title:"Payment Error",description:"Payment ID was not returned by the payment gateway.",variant:"destructive"});return}try{await iv(tr(rn,"bookings"),{hotelId:e.value,roomId:n.value,startDate:s.value,endDate:r.value,guests:Number(i.value),nights:Number(o.value),total:Number(a.value),customerEmail:u.value,paymentId:V,payment:I.data,createdAt:av()}),en({title:"Payment Successful!",description:"Your booking is confirmed."}),setTimeout(()=>{w.push({name:nO})},2e3)}catch(F){console.error("Error saving booking to Firestore:",F),en({title:"Booking Error",description:"Your payment was successful, but we could not save your booking. Please contact support.",variant:"destructive"}),c.value=!1}}catch(I){Kn.isAxiosError(I)&&I.response?(console.error("Payment failed:",I.response.data),en({title:"Payment Failed",description:((x=I.response.data)==null?void 0:x.message)||"Please try again.",variant:"destructive"})):(console.error("Error during payment processing:",I),en({title:"Payment Error",description:"An unexpected error occurred during payment. Please try again.",variant:"destructive"}),c.value=!1)}}return(T,C)=>($(),ie("div",qce,[z("div",Wce,[z("div",Gce,[C[5]||(C[5]=z("h2",{class:"text-xl font-semibold mb-2"},"Your Booking",-1)),z("p",Kce,"Room Type: "+Ie(m(n)),1),z("p",Zce,"Hotel: "+Ie(m(e)),1),z("p",Yce," Dates: "+Ie(m(s))+" - "+Ie(m(r))+" ("+Ie(m(o))+" nights) ",1),z("p",Qce," Total: z "+Ie(m(a)),1)])]),z("div",Xce,[M(m(lue),null,{default:O(()=>[M(m(fue),null,{default:O(()=>[M(m(hue),null,{default:O(()=>C[6]||(C[6]=[ae("Payment Method")])),_:1}),M(m(cue),null,{default:O(()=>C[7]||(C[7]=[ae(" Add a new payment method to your account. ")])),_:1})]),_:1}),M(m(uue),{class:"grid gap-6"},{default:O(()=>[M(m(pue),{"default-value":"card",class:"grid grid-cols-3 gap-4"},{default:O(()=>[z("div",null,[M(m(Xy),{id:"card",value:"card",class:"peer sr-only"}),M(m(ns),{for:"card",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary"},{default:O(()=>C[8]||(C[8]=[z("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",class:"mb-3 h-6 w-6"},[z("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),z("path",{d:"M2 10h20"})],-1),ae(" Card ")])),_:1})]),z("div",null,[M(m(Xy),{id:"paypal",value:"paypal",class:"peer sr-only",disabled:""}),M(m(ns),{for:"paypal",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-not-allowed opacity-50"},{default:O(()=>C[9]||(C[9]=[z("svg",{role:"img",viewBox:"0 0 24 24",class:"mb-3 h-6 w-6"},[z("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.254-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.556.479l-1.187 7.527h-.506l-.24 1.516a.56.56 0 0 0 .554.647h3.882c.46 0 .85-.334.922-.788.06-.26.76-4.852.816-5.09a.932.932 0 0 1 .923-.788h.58c3.76 0 6.705-1.528 7.565-5.946.36-1.847.174-3.388-.777-4.471z",fill:"currentColor"})],-1),ae(" Paypal ")])),_:1})]),z("div",null,[M(m(Xy),{id:"apple",value:"apple",class:"peer sr-only",disabled:""}),M(m(ns),{for:"apple",class:"flex flex-col items-center justify-between rounded-md border-2 border-muted bg-popover p-4 hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary [&:has([data-state=checked])]:border-primary cursor-not-allowed opacity-50"},{default:O(()=>C[10]||(C[10]=[z("svg",{role:"img",viewBox:"0 0 24 24",class:"mb-3 h-6 w-6"},[z("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701",fill:"currentColor"})],-1),ae(" Apple ")])),_:1})])]),_:1}),z("div",Jce,[M(m(ns),{for:"name"},{default:O(()=>C[11]||(C[11]=[ae("Name")])),_:1}),M(m(wn),{id:"name",placeholder:"First Last",modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=x=>d.value=x)},null,8,["modelValue"])]),z("div",ede,[M(m(ns),{for:"card-number"},{default:O(()=>C[12]||(C[12]=[ae("Card number")])),_:1}),M(m(wn),{id:"card-number",placeholder:"   ",modelValue:h.value,"onUpdate:modelValue":C[1]||(C[1]=x=>h.value=x)},null,8,["modelValue"])]),z("div",tde,[z("div",nde,[M(m(ns),{for:"month"},{default:O(()=>C[13]||(C[13]=[ae("Expires")])),_:1}),M(m(Vw),{modelValue:g.value,"onUpdate:modelValue":C[2]||(C[2]=x=>g.value=x)},{default:O(()=>[M(m($w),{id:"month"},{default:O(()=>[M(m(Bw),{placeholder:"Month"})]),_:1}),M(m(Fw),null,{default:O(()=>[M(m(vs),{value:"1"},{default:O(()=>C[14]||(C[14]=[ae("January")])),_:1}),M(m(vs),{value:"2"},{default:O(()=>C[15]||(C[15]=[ae("February")])),_:1}),M(m(vs),{value:"3"},{default:O(()=>C[16]||(C[16]=[ae("March")])),_:1}),M(m(vs),{value:"4"},{default:O(()=>C[17]||(C[17]=[ae("April")])),_:1}),M(m(vs),{value:"5"},{default:O(()=>C[18]||(C[18]=[ae("May")])),_:1}),M(m(vs),{value:"6"},{default:O(()=>C[19]||(C[19]=[ae("June")])),_:1}),M(m(vs),{value:"7"},{default:O(()=>C[20]||(C[20]=[ae("July")])),_:1}),M(m(vs),{value:"8"},{default:O(()=>C[21]||(C[21]=[ae("August")])),_:1}),M(m(vs),{value:"9"},{default:O(()=>C[22]||(C[22]=[ae("September")])),_:1}),M(m(vs),{value:"10"},{default:O(()=>C[23]||(C[23]=[ae("October")])),_:1}),M(m(vs),{value:"11"},{default:O(()=>C[24]||(C[24]=[ae("November")])),_:1}),M(m(vs),{value:"12"},{default:O(()=>C[25]||(C[25]=[ae("December")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),z("div",sde,[M(m(ns),{for:"year"},{default:O(()=>C[26]||(C[26]=[ae("Year")])),_:1}),M(m(Vw),{modelValue:v.value,"onUpdate:modelValue":C[3]||(C[3]=x=>v.value=x)},{default:O(()=>[M(m($w),{id:"year"},{default:O(()=>[M(m(Bw),{placeholder:"Year"})]),_:1}),M(m(Fw),null,{default:O(()=>[($(),ie(Ke,null,jt(10,x=>M(m(vs),{key:x,value:String(new Date().getFullYear()+x-1)},{default:O(()=>[ae(Ie(new Date().getFullYear()+x-1),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),z("div",rde,[M(m(ns),{for:"cvc"},{default:O(()=>C[27]||(C[27]=[ae("CVC")])),_:1}),M(m(wn),{id:"cvc",placeholder:"CVC",modelValue:y.value,"onUpdate:modelValue":C[4]||(C[4]=x=>y.value=x)},null,8,["modelValue"])])])]),_:1}),M(m(due),null,{default:O(()=>[M(m(Zt),{class:"w-full",onClick:E,disabled:c.value},{default:O(()=>C[28]||(C[28]=[ae(" Confirm Payment ")])),_:1},8,["disabled"])]),_:1})]),_:1})])]))}}),ode={class:"payment-confirmed-page text-center py-20"},ade={class:"mt-4 text-sm text-gray-500"},lde=K({__name:"PaymentConfirmedPage",setup(t){const e=wr(),n=()=>{e.push({name:Kc})},{remaining:s,start:r,stop:i,isActive:o}=LH(10,{onComplete:()=>{n()}}),a=()=>{o.value&&i(),n()};return r(),(u,c)=>($(),ie("div",ode,[c[1]||(c[1]=Um('<h1 class="text-3xl font-semibold text-green-600 mb-4">Payment Successful!</h1><p class="text-lg text-gray-700 mb-8">Your booking is confirmed. Thank you for choosing our service!</p><div class="mb-8"><svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 text-green-500 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>',3)),M(Zt,{onClick:a,class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300"},{default:O(()=>c[0]||(c[0]=[ae(" Go to Homepage ")])),_:1}),z("p",ade,"You will be automatically redirected to the homepage in "+Ie(m(s))+" seconds...",1)]))}}),ude=[{path:cE,name:qk,component:Rne,meta:{layout:"admin",requiresAdmin:!0}},{path:"/",redirect:"/home"},{path:i5,name:fE,component:eue,meta:{layout:"user"}},{path:t5,name:dE,component:Jse,meta:{layout:"admin"}},{path:Wk,name:n5,component:Ule,meta:{layout:"admin"}},{path:s5,name:Gk,component:Ore,meta:{layout:"admin"}},{path:Kk,name:r5,component:Ure,meta:{layout:"admin"}},{path:Zk,name:Kc,component:yQ,meta:{layout:"user"}},{path:Yk,name:o5,component:Tie,meta:{layout:"user"}},{path:a5,name:Qk,component:Jae,meta:{layout:"user"}},{path:l5,name:hE,component:rle,meta:{layout:"user"}},{path:Xk,name:Bl,component:ule,meta:{layout:"user"}},{path:u5,name:Jk,component:Lle,meta:{layout:"user",requiresAuth:!0}},{path:c5,name:pE,component:Kle,meta:{layout:"user",requiresAuth:!0}},{path:vm,name:d5,component:rue,meta:{layout:"user"}},{path:f5,name:eO,component:aue,meta:{layout:"user",requiresAuth:!0}},{path:h5,name:tO,component:ide,meta:{layout:"user",requiresAuth:!0}},{path:p5,name:nO,component:lde,meta:{layout:"user",requiresAuth:!0}}],Th=iU({history:DB(),routes:ude});Th.beforeEach(async t=>{if(t.meta.requiresAuth&&!await _X())return{path:Xk,query:{redirect:t.fullPath}}});const cde=Object.freeze(Object.defineProperty({__proto__:null,default:Th,router:Th},Symbol.toStringTag,{value:"Module"})),dde={},fde={class:"svg-container"};function hde(t,e){return $(),ie("div",fde,e[0]||(e[0]=[z("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 187.3 93.7",class:"animated-svg"},[z("path",{d:"M93.9,46.4c9.3,9.5,13.8,17.9,23.5,17.9s17.5-7.8,17.5-17.5s-7.8-17.6-17.5-17.5c-9.7,0.1-13.3,7.2-22.1,17.1 				c-8.9,8.8-15.7,17.9-25.4,17.9s-17.5-7.8-17.5-17.5s7.8-17.5,17.5-17.5S86.2,38.6,93.9,46.4z","stroke-miterlimit":"10","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"4",fill:"none",id:"outline",stroke:"#4E4FEB"}),z("path",{d:"M93.9,46.4c9.3,9.5,13.8,17.9,23.5,17.9s17.5-7.8,17.5-17.5s-7.8-17.6-17.5-17.5c-9.7,0.1-13.3,7.2-22.1,17.1 				c-8.9,8.8-15.7,17.9-25.4,17.9s-17.5-7.8-17.5-17.5s7.8-17.5,17.5-17.5S86.2,38.6,93.9,46.4z","stroke-miterlimit":"10","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"4",stroke:"#4E4FEB",fill:"none",opacity:"0.05",id:"outline-bg"})],-1)]))}const pde=uE(dde,[["render",hde],["__scopeId","data-v-9f35b32a"]]),mde=I5(),np=tB(DQ);np.use(bte,{firebaseApp:pv,modules:[gte(),_te()]});np.use(Th);np.use(mde);np.component("Spinner",pde);np.mount("#app");
